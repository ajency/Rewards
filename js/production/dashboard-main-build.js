/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors

//     Underscore may be freely distributed under the MIT license.

/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

/**!
* TableSorter 2.15.12 - Client-side table sorting with ease!
* @requires jQuery v1.2.6+
*
* Copyright (c) 2007 Christian Bach
* Examples and docs at: http://tablesorter.com
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* @type jQuery
* @name tablesorter
* @cat Plugins/Tablesorter
* @author Christian Bach/christian.bach@polyester.se
* @contributor Rob Garrison/https://github.com/Mottie/tablesorter
*/

/*!
 * tablesorter pager plugin
 * updated 3/31/2014 (v2.15.12)
 */

/*!
 * Bootstrap v3.1.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/* ========================================================================
 * Bootstrap: transition.js v3.1.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: alert.js v3.1.1
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: button.js v3.1.1
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: carousel.js v3.1.1
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: collapse.js v3.1.1
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: dropdown.js v3.1.1
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: modal.js v3.1.1
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tooltip.js v3.1.1
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: popover.js v3.1.1
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: scrollspy.js v3.1.1
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: tab.js v3.1.1
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* ========================================================================
 * Bootstrap: affix.js v3.1.1
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

// (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc.

// Backbone may be freely distributed under the MIT license.

// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 */

/*
jQuery Spin
Copyright 2013 Kevin Sylvestre
1.1.2
*/

// Copyright (c)2012 Derick Bailey, Muted Solutions, LLC.

/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 JÃ¶rn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */

//  (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>

//  Underscore.string is freely distributable under the terms of the MIT license.

// Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>

// Redistributed under the the Apache License 2.0 at http://www.apache.org/licenses/LICENSE-2.0

//! license : MIT

/**
 * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill
 * v1.0.0
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2013-09-23
 */

/**
 * Plupload - multi-runtime File Uploader
 * v2.0.0beta
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2012-11-30
 */

/*
* jQuery Form Plugin; v20131228
* http://jquery.malsup.com/form/
* Copyright (c) 2013 M. Alsup; Dual licensed: MIT/GPL
* https://github.com/malsup/form#copyright-and-license
*/

/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/*! bootstrap-timepicker v0.2.3 
* http://jdewit.github.com/bootstrap-timepicker 
* Copyright (c) 2013 Joris de Wit 
* MIT License 
*/

/*! http://mths.be/placeholder v2.0.8 by @mathias */

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){return n.apply(e,l.call(arguments,0).concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("plugins/almond",function(){}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t,n){t=k(t);var r=[],i=[];return T(e,function(e){(t.call(n,e)?r:i).push(e)}),[r,i]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),define("jquery",function(){}),!function(e){e.extend({tablesorter:new function(){function n(){var e=arguments[0],t=arguments.length>1?Array.prototype.slice.call(arguments):e;typeof console!="undefined"&&typeof console.log!="undefined"?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function r(e,t){n(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function i(e){for(var t in e)return!1;return!0}function s(t,n,r){if(!n)return"";var i=t.config,s=i.textExtraction,o="";return s==="simple"?i.supportsTextContent?o=n.textContent:o=e(n).text():typeof s=="function"?o=s(n,t,r):typeof s=="object"&&s.hasOwnProperty(r)?o=s[r](n,t,r):o=i.supportsTextContent?n.textContent:e(n).text(),e.trim(o)}function o(e,r,i,o){var u,a=t.parsers.length,f=!1,l="",c=!0;while(l===""&&c)i++,r[i]?(f=r[i].cells[o],l=s(e,f,o),e.config.debug&&n("Checking if value was empty on row "+i+", column: "+o+': "'+l+'"')):c=!1;while(--a>=0){u=t.parsers[a];if(u&&u.id!=="text"&&u.is&&u.is(l,e,f))return u}return t.getParserById("text")}function u(e){var i=e.config,s=i.$tbodies=i.$table.children("tbody:not(."+i.cssInfoBlock+")"),u,a,f,l,c,h,p,d,v="";if(s.length===0)return i.debug?n("Warning: *Empty table!* Not building a parser cache"):"";i.debug&&(d=new Date,n("Detecting parsers for each column")),u=s[0].rows;if(u[0]){a=[],f=u[0].cells.length;for(l=0;l<f;l++)c=i.$headers.filter(":not([colspan])"),c=c.add(i.$headers.filter('[colspan="1"]')).filter('[data-column="'+l+'"]:last'),h=i.headers[l],p=t.getParserById(t.getData(c,h,"sorter")),i.empties[l]=t.getData(c,h,"empty")||i.emptyTo||(i.emptyToBottom?"bottom":"top"),i.strings[l]=t.getData(c,h,"string")||i.stringTo||"max",p||(p=o(e,u,-1,l)),i.debug&&(v+="column:"+l+"; parser:"+p.id+"; string:"+i.strings[l]+"; empty: "+i.empties[l]+"\n"),a.push(p)}i.debug&&(n(v),r("Completed detecting parsers",d)),i.parsers=a}function a(i){var o=i.tBodies,u=i.config,a,f,l=u.parsers,c,h,p,d,v,m,g,y,b=[];u.cache={};if(!l)return u.debug?n("Warning: *Empty table!* Not building a cache"):"";u.debug&&(y=new Date),u.showProcessing&&t.isProcessing(i,!0);for(v=0;v<o.length;v++){u.cache[v]={row:[],normalized:[]};if(!e(o[v]).hasClass(u.cssInfoBlock)){a=o[v]&&o[v].rows.length||0,f=o[v].rows[0]&&o[v].rows[0].cells.length||0;for(p=0;p<a;++p){m=e(o[v].rows[p]),g=[];if(m.hasClass(u.cssChildRow)){u.cache[v].row[u.cache[v].row.length-1]=u.cache[v].row[u.cache[v].row.length-1].add(m),m.prev().hasClass(u.cssChildRow)||m.prev().addClass(t.css.cssHasChild);continue}u.cache[v].row.push(m);for(d=0;d<f;++d){if(typeof l[d]=="undefined"){u.debug&&n("No parser found for cell:",m[0].cells[d],"does it have a header?");continue}c=s(i,m[0].cells[d],d),h=l[d].format(c,i,m[0].cells[d],d),g.push(h),(l[d].type||"").toLowerCase()==="numeric"&&(b[d]=Math.max(Math.abs(h)||0,b[d]||0))}g.push(u.cache[v].normalized.length),u.cache[v].normalized.push(g)}u.cache[v].colMax=b}}u.showProcessing&&t.isProcessing(i),u.debug&&r("Building cache for "+a+" rows",y)}function f(n,s){var o=n.config,u=o.widgetOptions,a=n.tBodies,f=[],l=o.cache,c,h,p,d,v,m,g,y,b,w,E,S;if(i(l))return o.appender?o.appender(n,f):n.isUpdating?o.$table.trigger("updateComplete",n):"";o.debug&&(S=new Date);for(b=0;b<a.length;b++){v=e(a[b]);if(v.length&&!v.hasClass(o.cssInfoBlock)){m=t.processTbody(n,v,!0),c=l[b].row,h=l[b].normalized,p=h.length,d=p?h[0].length-1:0;for(g=0;g<p;g++){E=h[g][d],f.push(c[E]);if(!o.appender||o.pager&&(!o.pager.removeRows||!u.pager_removeRows)&&!o.pager.ajax){w=c[E].length;for(y=0;y<w;y++)m.append(c[E][y])}}t.processTbody(n,m,!1)}}o.appender&&o.appender(n,f),o.debug&&r("Rebuilt table",S),!s&&!o.appender&&t.applyWidget(n),n.isUpdating&&o.$table.trigger("updateComplete",n)}function l(t){var n=[],r={},i=0,s=e(t).children("thead, tfoot").children("tr"),o,u,a,f,l,c,h,p,d,v,m,g;for(o=0;o<s.length;o++){c=s[o].cells;for(u=0;u<c.length;u++){l=c[u],h=l.parentNode.rowIndex,p=h+"-"+e(l).index(),d=l.rowSpan||1,v=l.colSpan||1,typeof n[h]=="undefined"&&(n[h]=[]);for(a=0;a<n[h].length+1;a++)if(typeof n[h][a]=="undefined"){m=a;break}r[p]=m,i=Math.max(m,i),e(l).attr({"data-column":m});for(a=h;a<h+d;a++){typeof n[a]=="undefined"&&(n[a]=[]),g=n[a];for(f=m;f<m+v;f++)g[f]="x"}}}t.config.columns=i+1}function c(e){return/^d/i.test(e)||e===1}function h(i){var s,o,u,a,f,h,p,v=i.config;v.headerList=[],v.headerContent=[],v.debug&&(p=new Date),l(i),a=v.cssIcon?'<i class="'+(v.cssIcon===t.css.icon?t.css.icon:v.cssIcon+" "+t.css.icon)+'"></i>':"",v.$headers=e(i).find(v.selectorHeaders).each(function(n){o=e(this),s=v.headers[n],v.headerContent[n]=e(this).html(),f=v.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,a),v.onRenderTemplate&&(u=v.onRenderTemplate.apply(o,[n,f]),u&&typeof u=="string"&&(f=u)),e(this).html('<div class="'+t.css.headerIn+'">'+f+"</div>"),v.onRenderHeader&&v.onRenderHeader.apply(o,[n]),this.column=parseInt(e(this).attr("data-column"),10),this.order=c(t.getData(o,s,"sortInitialOrder")||v.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,h=t.getData(o,s,"lockedOrder")||!1,typeof h!="undefined"&&h!==!1&&(this.order=this.lockedOrder=c(h)?[1,1,1]:[0,0,0]),o.addClass(t.css.header+" "+v.cssHeader),v.headerList[n]=this,o.parent().addClass(t.css.headerRow+" "+v.cssHeaderRow).attr("role","row"),v.tabIndex&&o.attr("tabindex",0)}).attr({scope:"col",role:"columnheader"}),d(i),v.debug&&(r("Built headers:",p),n(v.$headers))}function p(e,t,n){var r=e.config;r.$table.find(r.selectorRemove).remove(),u(e),a(e),S(r.$table,t,n)}function d(n){var r,i,s=n.config;s.$headers.each(function(o,u){i=e(u),r=t.getData(u,s.headers[o],"sorter")==="false",u.sortDisabled=r,i[r?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+r),n.id&&(r?i.removeAttr("aria-controls"):i.attr("aria-controls",n.id))})}function v(n){var r,i,s,o,u=n.config,a=u.sortList,f=t.css.sortNone+" "+u.cssNone,l=[t.css.sortAsc+" "+u.cssAsc,t.css.sortDesc+" "+u.cssDesc],c=["ascending","descending"],h=e(n).find("tfoot tr").children().removeClass(l.join(" "));u.$headers.removeClass(l.join(" ")).addClass(f).attr("aria-sort","none"),o=a.length;for(i=0;i<o;i++)if(a[i][1]!==2){r=u.$headers.not(".sorter-false").filter('[data-column="'+a[i][0]+'"]'+(o===1?":last":""));if(r.length)for(s=0;s<r.length;s++)r[s].sortDisabled||(r.eq(s).removeClass(f).addClass(l[a[i][1]]).attr("aria-sort",c[a[i][1]]),h.length&&h.filter('[data-column="'+a[i][0]+'"]').eq(s).addClass(l[a[i][1]]))}u.$headers.not(".sorter-false").each(function(){var n=e(this),r=this.order[(this.count+1)%(u.sortReset?3:2)],i=n.text()+": "+t.language[n.hasClass(t.css.sortAsc)?"sortAsc":n.hasClass(t.css.sortDesc)?"sortDesc":"sortNone"]+t.language[r===0?"nextAsc":r===1?"nextDesc":"nextNone"];n.attr("aria-label",i)})}function m(t){if(t.config.widthFixed&&e(t).find("colgroup").length===0){var n=e("<colgroup>"),r=e(t).width();e(t.tBodies[0]).find("tr:first").children("td:visible").each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/r*1e3,10)/10+"%"))}),e(t).prepend(n)}}function g(t,n){var r,i,s,o=t.config,u=n||o.sortList;o.sortList=[],e.each(u,function(t,n){r=[parseInt(n[0],10),parseInt(n[1],10)],s=o.$headers[r[0]],s&&(o.sortList.push(r),i=e.inArray(r[1],s.order),s.count=i>=0?i:r[1]%(o.sortReset?3:2))})}function y(e,t){return e&&e[t]?e[t].type||"":""}function b(n,r,i){var s,o,u,a,l,c=n.config,h=!i[c.sortMultiSortKey],p=c.$table;p.trigger("sortStart",n),r.count=i[c.sortResetKey]?2:(r.count+1)%(c.sortReset?3:2),c.sortRestart&&(o=r,c.$headers.each(function(){this!==o&&(h||!e(this).is("."+t.css.sortDesc+",."+t.css.sortAsc))&&(this.count=-1)})),o=r.column;if(h){c.sortList=[];if(c.sortForce!==null){s=c.sortForce;for(u=0;u<s.length;u++)s[u][0]!==o&&c.sortList.push(s[u])}a=r.order[r.count];if(a<2){c.sortList.push([o,a]);if(r.colSpan>1)for(u=1;u<r.colSpan;u++)c.sortList.push([o+u,a])}}else{if(c.sortAppend&&c.sortList.length>1)for(u=0;u<c.sortAppend.length;u++)l=t.isValueInArray(c.sortAppend[u][0],c.sortList),l>=0&&c.sortList.splice(l,1);if(t.isValueInArray(o,c.sortList)>=0)for(u=0;u<c.sortList.length;u++)l=c.sortList[u],a=c.$headers[l[0]],l[0]===o&&(l[1]=a.order[r.count],l[1]===2&&(c.sortList.splice(u,1),a.count=-1));else{a=r.order[r.count];if(a<2){c.sortList.push([o,a]);if(r.colSpan>1)for(u=1;u<r.colSpan;u++)c.sortList.push([o+u,a])}}}if(c.sortAppend!==null){s=c.sortAppend;for(u=0;u<s.length;u++)s[u][0]!==o&&c.sortList.push(s[u])}p.trigger("sortBegin",n),setTimeout(function(){v(n),w(n),f(n),p.trigger("sortEnd",n)},1)}function w(e){var n,s,o,u,a,f,l,c,h,p,d,v,m,g=0,b=e.config,w=b.textSorter||"",E=b.sortList,S=E.length,x=e.tBodies.length;if(b.serverSideSorting||i(b.cache))return;b.debug&&(p=new Date);for(s=0;s<x;s++)a=b.cache[s].colMax,f=b.cache[s].normalized,l=f.length,h=f&&f[0]?f[0].length-1:0,f.sort(function(r,i){for(n=0;n<S;n++){u=E[n][0],c=E[n][1],g=c===0;if(b.sortStable&&r[u]===i[u]&&S===1)return r[h]-i[h];o=/n/i.test(y(b.parsers,u)),o&&b.strings[u]?(typeof b.string[b.strings[u]]=="boolean"?o=(g?1:-1)*(b.string[b.strings[u]]?-1:1):o=b.strings[u]?b.string[b.strings[u]]||0:0,d=b.numberSorter?b.numberSorter(r[u],i[u],g,a[u],e):t["sortNumeric"+(g?"Asc":"Desc")](r[u],i[u],o,a[u],u,e)):(v=g?r:i,m=g?i:r,typeof w=="function"?d=w(v[u],m[u],g,u,e):typeof w=="object"&&w.hasOwnProperty(u)?d=w[u](v[u],m[u],g,u,e):d=t["sortNatural"+(g?"Asc":"Desc")](r[u],i[u],u,e,b));if(d)return d}return r[h]-i[h]});b.debug&&r("Sorting on "+E.toString()+" and dir "+c+" time",p)}function E(e,t){var n=e[0];n.isUpdating&&e.trigger("updateComplete"),typeof t=="function"&&t(e[0])}function S(e,t,n){var r=e[0].config.sortList;t!==!1&&!e[0].isProcessing&&r.length?e.trigger("sorton",[r,function(){E(e,n)},!0]):E(e,n)}function x(n){var r=n.config,o=r.$table;o.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(r.namespace+" ")).bind("sortReset"+r.namespace,function(e){e.stopPropagation(),r.sortList=[],v(n),w(n),f(n)}).bind("updateAll"+r.namespace,function(e,i,s){e.stopPropagation(),n.isUpdating=!0,t.refreshWidgets(n,!0,!0),t.restoreHeaders(n),h(n),t.bindEvents(n,r.$headers),x(n),p(n,i,s)}).bind("update"+r.namespace+" updateRows"+r.namespace,function(e,t,r){e.stopPropagation(),n.isUpdating=!0,d(n),p(n,t,r)}).bind("updateCell"+r.namespace,function(t,i,u,a){t.stopPropagation(),n.isUpdating=!0,o.find(r.selectorRemove).remove();var f,l,c,h=o.find("tbody"),p=h.index(e(i).parents("tbody").filter(":first")),d=e(i).parents("tr").filter(":first");i=e(i)[0],h.length&&p>=0&&(l=h.eq(p).find("tr").index(d),c=e(i).index(),f=r.cache[p].normalized[l].length-1,r.cache[p].row[r.cache[p].normalized[l][f]]=d,r.cache[p].normalized[l][c]=r.parsers[c].format(s(n,i,c),n,i,c),S(o,u,a))}).bind("addRows"+r.namespace,function(e,t,a,f){e.stopPropagation(),n.isUpdating=!0;if(i(r.cache))d(n),p(n,a,f);else{var l,c,h=t.filter("tr").length,v=[],m=t[0].cells.length,g=o.find("tbody").index(t.parents("tbody").filter(":first"));r.parsers||u(n);for(l=0;l<h;l++){for(c=0;c<m;c++)v[c]=r.parsers[c].format(s(n,t[l].cells[c],c),n,t[l].cells[c],c);v.push(r.cache[g].row.length),r.cache[g].row.push([t[l]]),r.cache[g].normalized.push(v),v=[]}S(o,a,f)}}).bind("updateComplete"+r.namespace,function(){n.isUpdating=!1}).bind("sorton"+r.namespace,function(e,t,r,s){var u=n.config;e.stopPropagation(),o.trigger("sortStart",this),g(n,t),v(n),u.delayInit&&i(u.cache)&&a(n),o.trigger("sortBegin",this),w(n),f(n,s),o.trigger("sortEnd",this),typeof r=="function"&&r(n)}).bind("appendCache"+r.namespace,function(e,t,r){e.stopPropagation(),f(n,r),typeof t=="function"&&t(n)}).bind("updateCache"+r.namespace,function(e,t){r.parsers||u(n),a(n),typeof t=="function"&&t(n)}).bind("applyWidgetId"+r.namespace,function(e,i){e.stopPropagation(),t.getWidgetById(i).format(n,r,r.widgetOptions)}).bind("applyWidgets"+r.namespace,function(e,r){e.stopPropagation(),t.applyWidget(n,r)}).bind("refreshWidgets"+r.namespace,function(e,r,i){e.stopPropagation(),t.refreshWidgets(n,r,i)}).bind("destroy"+r.namespace,function(e,r,i){e.stopPropagation(),t.destroy(n,r,i)})}var t=this;t.version="2.15.12",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},t.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},t.log=n,t.benchmark=r,t.construct=function(n){return this.each(function(){var r=this,i=e.extend(!0,{},t.defaults,n);!r.hasInitialized&&t.buildTable&&this.tagName!=="TABLE"?t.buildTable(r,i):t.setup(r,i)})},t.setup=function(r,i){if(!r||!r.tHead||r.tBodies.length===0||r.hasInitialized===!0)return i.debug?n("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var s="",o=e(r),f=e.metadata;r.hasInitialized=!1,r.isProcessing=!0,r.config=i,e.data(r,"tablesorter",i),i.debug&&e.data(r,"startoveralltimer",new Date),i.supportsTextContent=e("<span>x</span>")[0].textContent==="x",i.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||e[0]===1&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),i.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(o.attr("class"))||(s=i.theme!==""?" tablesorter-"+i.theme:""),i.$table=o.addClass(t.css.table+" "+i.tableClass+s).attr({role:"grid"}),i.namespace?i.namespace="."+i.namespace.replace(/\W/g,""):i.namespace=".tablesorter"+Math.random().toString(16).slice(2),i.$tbodies=o.children("tbody:not(."+i.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),i.$table.find("caption").length&&i.$table.attr("aria-labelledby","theCaption"),i.widgetInit={},h(r),m(r),u(r),i.delayInit||a(r),t.bindEvents(r,i.$headers),x(r),i.supportsDataObject&&typeof o.data().sortlist!="undefined"?i.sortList=o.data().sortlist:f&&o.metadata()&&o.metadata().sortlist&&(i.sortList=o.metadata().sortlist),t.applyWidget(r,!0),i.sortList.length>0?o.trigger("sorton",[i.sortList,{},!i.initWidgets,!0]):(v(r),i.initWidgets&&t.applyWidget(r)),i.showProcessing&&o.unbind("sortBegin"+i.namespace+" sortEnd"+i.namespace).bind("sortBegin"+i.namespace+" sortEnd"+i.namespace,function(e){t.isProcessing(r,e.type==="sortBegin")}),r.hasInitialized=!0,r.isProcessing=!1,i.debug&&t.benchmark("Overall initialization time",e.data(r,"startoveralltimer")),o.trigger("tablesorter-initialized",r),typeof i.initialized=="function"&&i.initialized(r)},t.isProcessing=function(n,r,i){n=e(n);var s=n[0].config,o=i||n.find("."+t.css.header);r?(typeof i!="undefined"&&s.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:t.isValueInArray(parseFloat(e(this).attr("data-column")),s.sortList)>=0})),o.addClass(t.css.processing+" "+s.cssProcessing)):o.removeClass(t.css.processing+" "+s.cssProcessing)},t.processTbody=function(t,n,r){t=e(t)[0];var i;if(r)return t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),i=e.fn.detach?n.detach():n.remove(),i;i=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(i),i.remove(),t.isProcessing=!1},t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},t.bindEvents=function(t,n){t=e(t)[0];var r,s=t.config;n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(s.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(s.namespace+" "),function(o,u){var f,l=o.type;if((o.which||o.button)!==1&&!/sort|keyup/.test(l)||l==="keyup"&&o.which!==13)return;if(l==="mouseup"&&u!==!0&&(new Date).getTime()-r>250)return;if(l==="mousedown")return r=(new Date).getTime(),o.target.tagName==="INPUT"?"":!s.cancelSelection;s.delayInit&&i(s.cache)&&a(t),f=/TH|TD/.test(this.tagName)?this:e(this).parents("th, td")[0],f=s.$headers[n.index(f)],f.sortDisabled||b(t,f,o)}),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},t.restoreHeaders=function(n){var r=e(n)[0].config;r.$table.find(r.selectorHeaders).each(function(n){e(this).find("."+t.css.headerIn).length&&e(this).html(r.headerContent[n])})},t.destroy=function(n,r,i){n=e(n)[0];if(!n.hasInitialized)return;t.refreshWidgets(n,!0,!0);var s=e(n),o=n.config,u=s.find("thead:first"),a=u.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+o.cssHeaderRow),f=s.find("tfoot:first > tr").children("th, td");u.find("tr").not(a).remove(),s.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(o.namespace+" ")),o.$headers.add(f).removeClass([t.css.header,o.cssHeader,o.cssAsc,o.cssDesc,t.css.sortAsc,t.css.sortDesc,t.css.sortNone].join(" ")).removeAttr("data-column"),a.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ")),t.restoreHeaders(n),r!==!1&&s.removeClass(t.css.table+" "+o.tableClass+" tablesorter-"+o.theme),n.hasInitialized=!1,typeof i=="function"&&i(n)},t.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},t.sortNatural=function(e,n){if(e===n)return 0;var r,i,s,o,u,a,f,l,c=t.regex;if(c.hex.test(n)){i=parseInt(e.match(c.hex),16),o=parseInt(n.match(c.hex),16);if(i<o)return-1;if(i>o)return 1}r=e.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),s=n.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),l=Math.max(r.length,s.length);for(f=0;f<l;f++){u=isNaN(r[f])?r[f]||0:parseFloat(r[f])||0,a=isNaN(s[f])?s[f]||0:parseFloat(s[f])||0;if(isNaN(u)!==isNaN(a))return isNaN(u)?1:-1;typeof u!=typeof a&&(u+="",a+="");if(u<a)return-1;if(u>a)return 1}return 0},t.sortNaturalAsc=function(e,n,r,i,s){if(e===n)return 0;var o=s.string[s.empties[r]||s.emptyTo];return e===""&&o!==0?typeof o=="boolean"?o?-1:1:-o||-1:n===""&&o!==0?typeof o=="boolean"?o?1:-1:o||1:t.sortNatural(e,n)},t.sortNaturalDesc=function(e,n,r,i,s){if(e===n)return 0;var o=s.string[s.empties[r]||s.emptyTo];return e===""&&o!==0?typeof o=="boolean"?o?-1:1:o||1:n===""&&o!==0?typeof o=="boolean"?o?1:-1:-o||-1:t.sortNatural(n,e)},t.sortText=function(e,t){return e>t?1:e<t?-1:0},t.getTextValue=function(e,t,n){if(n){var r,i=e?e.length:0,s=n+t;for(r=0;r<i;r++)s+=e.charCodeAt(r);return t*s}return 0},t.sortNumericAsc=function(e,n,r,i,s,o){if(e===n)return 0;var u=o.config,a=u.string[u.empties[s]||u.emptyTo];return e===""&&a!==0?typeof a=="boolean"?a?-1:1:-a||-1:n===""&&a!==0?typeof a=="boolean"?a?1:-1:a||1:(isNaN(e)&&(e=t.getTextValue(e,r,i)),isNaN(n)&&(n=t.getTextValue(n,r,i)),e-n)},t.sortNumericDesc=function(e,n,r,i,s,o){if(e===n)return 0;var u=o.config,a=u.string[u.empties[s]||u.emptyTo];return e===""&&a!==0?typeof a=="boolean"?a?-1:1:a||1:n===""&&a!==0?typeof a=="boolean"?a?1:-1:-a||-1:(isNaN(e)&&(e=t.getTextValue(e,r,i)),isNaN(n)&&(n=t.getTextValue(n,r,i)),n-e)},t.sortNumeric=function(e,t){return e-t},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var n,r="[",i=t.characterEquivalents;if(!t.characterRegex){t.characterRegexArray={};for(n in i)typeof n=="string"&&(r+=i[n],t.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));t.characterRegex=new RegExp(r+"]")}if(t.characterRegex.test(e))for(n in i)typeof n=="string"&&(e=e.replace(t.characterRegexArray[n],n));return e},t.isValueInArray=function(e,t){var n,r=t.length;for(n=0;n<r;n++)if(t[n][0]===e)return n;return-1},t.addParser=function(e){var n,r=t.parsers.length,i=!0;for(n=0;n<r;n++)t.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&t.parsers.push(e)},t.getParserById=function(e){var n,r=t.parsers.length;for(n=0;n<r;n++)if(t.parsers[n].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[n];return!1},t.addWidget=function(e){t.widgets.push(e)},t.getWidgetById=function(e){var n,r,i=t.widgets.length;for(n=0;n<i;n++){r=t.widgets[n];if(r&&r.hasOwnProperty("id")&&r.id.toLowerCase()===e.toLowerCase())return r}},t.applyWidget=function(n,i){n=e(n)[0];var s=n.config,o=s.widgetOptions,u=[],a,f,l;s.debug&&(a=new Date),s.widgets.length&&(s.widgets=e.grep(s.widgets,function(t,n){return e.inArray(t,s.widgets)===n}),e.each(s.widgets||[],function(e,n){l=t.getWidgetById(n),l&&l.id&&(l.priority||(l.priority=10),u[e]=l)}),u.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(u,function(t,r){if(r){if(i||!s.widgetInit[r.id])r.hasOwnProperty("options")&&(o=n.config.widgetOptions=e.extend(!0,{},r.options,o)),r.hasOwnProperty("init")&&r.init(n,r,s,o),s.widgetInit[r.id]=!0;!i&&r.hasOwnProperty("format")&&r.format(n,s,o,!1)}})),s.debug&&(f=s.widgets.length,r("Completed "+(i===!0?"initializing ":"applying ")+f+" widget"+(f!==1?"s":""),a))},t.refreshWidgets=function(r,i,s){r=e(r)[0];var o,u=r.config,a=u.widgets,f=t.widgets,l=f.length;for(o=0;o<l;o++)f[o]&&f[o].id&&(i||e.inArray(f[o].id,a)<0)&&(u.debug&&n('Refeshing widgets: Removing "'+f[o].id+'"'),f[o].hasOwnProperty("remove")&&u.widgetInit[f[o].id]&&(f[o].remove(r,u,u.widgetOptions),u.widgetInit[f[o].id]=!1));s!==!0&&t.applyWidget(r,i)},t.getData=function(t,n,r){var i="",s=e(t),o,u;return s.length?(o=e.metadata?s.metadata():!1,u=" "+(s.attr("class")||""),typeof s.data(r)!="undefined"||typeof s.data(r.toLowerCase())!="undefined"?i+=s.data(r)||s.data(r.toLowerCase()):o&&typeof o[r]!="undefined"?i+=o[r]:n&&typeof n[r]!="undefined"?i+=n[r]:u!==" "&&u.match(" "+r+"-")&&(i=u.match(new RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),e.trim(i)):""},t.formatFloat=function(t,n){if(typeof t!="string"||t==="")return t;var r,i=n&&n.config?n.config.usNumberFormat!==!1:typeof n!="undefined"?n:!0;return i?t=t.replace(/,/g,""):t=t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),r=parseFloat(t),isNaN(r)?e.trim(t):r},t.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,r){var i=r.config;return n&&(n=e.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&typeof i=="number"?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&typeof i=="number"?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var r,i=e?e.split("."):"",s="",o=i.length;for(r=0;r<o;r++)s+=("00"+i[r]).slice(-3);return e?t.formatFloat(s,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(e!==""?(new Date(e.replace(/-/g,"/"))).getTime()||e:"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat((new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,r,i){if(e){var s=n.config,o=s.$headers.filter("[data-column="+i+"]:last"),u=o.length&&o[0].dateFormat||t.getData(o,s.headers[i],"dateFormat")||s.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),u==="mmddyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):u==="ddmmyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):u==="yyyymmdd"&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat((new Date(e)).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat((new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,r){var i=n.config,s=i.parserMetadataName?i.parserMetadataName:"sortValue";return e(r).metadata()[s]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,r,i){var s,o,u,a,f,l,c,h,p=new RegExp(r.cssChildRow,"i"),d=r.$tbodies;r.debug&&(l=new Date);for(c=0;c<d.length;c++)s=d.eq(c),h=s.children("tr").length,h>1&&(a=0,o=s.children("tr:visible").not(r.selectorRemove),o.each(function(){u=e(this),p.test(this.className)||a++,f=a%2===0,u.removeClass(i.zebra[f?1:0]).addClass(i.zebra[f?0:1])}));r.debug&&t.benchmark("Applying Zebra widget",l)},remove:function(t,n,r){var i,s,o=n.$tbodies,u=(r.zebra||["even","odd"]).join(" ");for(i=0;i<o.length;i++)s=e.tablesorter.processTbody(t,o.eq(i),!0),s.children().removeClass(u),e.tablesorter.processTbody(t,s,!1)}})}(jQuery),define("tablesorter",function(){}),function(e){var t=e.tablesorter;e.extend({tablesorterPager:new function(){this.defaults={container:null,ajaxUrl:null,customAjaxUrl:function(e,t){return t},ajaxObject:{dataType:"json"},processAjaxOnInit:!0,ajaxProcessing:function(e){return[0,[],null]},output:"{startRow} to {endRow} of {totalRows} rows",updateArrows:!0,page:0,size:10,savePages:!0,storageKey:"tablesorter-pager",fixedHeight:!1,countChildRows:!1,removeRows:!1,cssFirst:".first",cssPrev:".prev",cssNext:".next",cssLast:".last",cssGoto:".gotoPage",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",cssErrorRow:"tablesorter-errorRow",cssDisabled:"disabled",totalRows:0,totalPages:0,filteredRows:0,filteredPages:0,ajaxCounter:0,currentFilters:[],startRow:0,endRow:0,$size:null,last:{}};var n=this,r=function(e,t){var n="addClass",r="removeClass",i=e.cssDisabled,s=!!t,o=s||e.page===0,u=Math.min(e.totalPages,e.filteredPages),a=s||e.page===u-1||e.totalPages===0;e.updateArrows&&(e.$container.find(e.cssFirst+","+e.cssPrev)[o?n:r](i).attr("aria-disabled",o),e.$container.find(e.cssNext+","+e.cssLast)[a?n:r](i).attr("aria-disabled",a))},i=function(e,n,i){var s,o,u,a,f=e.config,l=f.$table.hasClass("hasFilters")&&!n.ajaxUrl,c=(f.widgetOptions&&f.widgetOptions.filter_filteredRow||"filtered")+","+f.selectorRemove+(n.countChildRows?"":",."+f.cssChildRow),h=n.size||10;n.totalPages=Math.ceil(n.totalRows/h),n.filteredRows=l?f.$tbodies.eq(0).children("tr").not("."+c).length:n.totalRows,n.filteredPages=l?Math.ceil(n.filteredRows/h)||1:n.totalPages;if(Math.min(n.totalPages,n.filteredPages)>=0){c=n.size*n.page>n.filteredRows,n.startRow=c?1:n.filteredRows===0?0:n.size*n.page+1,n.page=c?0:n.page,n.endRow=Math.min(n.filteredRows,n.totalRows,n.size*(n.page+1)),a=n.$container.find(n.cssPageDisplay),u=(n.ajaxData&&n.ajaxData.output?n.ajaxData.output||n.output:n.output).replace(/\{page([\-+]\d+)?\}/gi,function(e,t){return n.totalPages?n.page+(t?parseInt(t,10):1):0}).replace(/\{\w+(\s*:\s*\w+)?\}/gi,function(e){var t=e.replace(/[{}\s]/g,""),r=t.split(":"),i=n.ajaxData,s=/(rows?|pages?)$/i.test(t)?0:"";return r.length>1&&i&&i[r[0]]?i[r[0]][r[1]]:n[t]||(i?i[t]:s)||s});if(a.length){a[a[0].tagName==="INPUT"?"val":"html"](u);if(n.$goto.length){c="",o=Math.min(n.totalPages,n.filteredPages);for(s=1;s<=o;s++)c+="<option>"+s+"</option>";n.$goto.html(c).val(n.page+1)}}}r(n),n.initialized&&i!==!1&&(f.$table.trigger("pagerComplete",n),n.savePages&&t.storage&&t.storage(e,n.storageKey,{page:n.page,size:n.size}))},s=function(t,n){var r,i,s=t.config,o=s.$tbodies.eq(0);n.fixedHeight&&(o.find("tr.pagerSavedHeightSpacer").remove(),i=e.data(t,"pagerSavedHeight"),i&&(r=i-o.height(),r>5&&e.data(t,"pagerLastSize")===n.size&&o.children("tr:visible").length<n.size&&o.append('<tr class="pagerSavedHeightSpacer '+s.selectorRemove.replace(/(tr)?\./g,"")+'" style="height:'+r+'px;"></tr>')))},o=function(t,n){var r=t.config.$tbodies.eq(0);r.find("tr.pagerSavedHeightSpacer").remove(),e.data(t,"pagerSavedHeight",r.height()),s(t,n),e.data(t,"pagerLastSize",n.size)},u=function(e,n){if(!n.ajaxUrl){var r,i=0,s=e.config,o=s.$tbodies.eq(0).children(),u=o.length,a=n.page*n.size,f=a+n.size,l=s.widgetOptions&&s.widgetOptions.filter_filteredRow||"filtered",c=0;for(r=0;r<u;r++)o[r].className.match(l)||(c===a&&o[r].className.match(s.cssChildRow)?o[r].style.display="none":(o[r].style.display=c>=a&&c<f?"":"none",c+=o[r].className.match(s.cssChildRow+"|"+s.selectorRemove.slice(1))&&!n.countChildRows?0:1,c===f&&o[r].style.display!=="none"&&o[r].className.match(t.css.cssHasChild)&&(i=r)));if(i>0&&o[i].className.match(t.css.cssHasChild))while(++i<u&&o[i].className.match(s.cssChildRow))o[i].style.display=""}},a=function(t,n){n.size=parseInt(n.$size.val(),10)||n.size,e.data(t,"pagerLastSize",n.size),r(n),n.removeRows||(u(t,n),e(t).bind("sortEnd.pager filterEnd.pager",function(){u(t,n)}))},f=function(n,r,o,u,a){if(typeof o.ajaxProcessing=="function"){var f,l,c,h,p,d,v,m,g,y,b=r.config,w=b.$table,E="",S=o.ajaxProcessing(n,r)||[0,[]],x=w.find("thead th").length;t.showError(r);if(a)b.debug&&t.log("Ajax Error",u,a),t.showError(r,u.status===0?"Not connected, verify Network":u.status===404?"Requested page not found [404]":u.status===500?"Internal Server Error [500]":a==="parsererror"?"Requested JSON parse failed":a==="timeout"?"Time out error":a==="abort"?"Ajax Request aborted":"Uncaught error: "+u.statusText+" ["+u.status+"]"),b.$tbodies.eq(0).empty(),o.totalRows=0;else{e.isArray(S)?(d=isNaN(S[0])&&!isNaN(S[1]),y=S[d?1:0],o.totalRows=isNaN(y)?o.totalRows||0:y,m=o.totalRows===0?[""]:S[d?0:1]||[],v=S[2]):(o.ajaxData=S,o.totalRows=S.total,v=S.headers,m=S.rows),g=m.length;if(m instanceof jQuery)b.$tbodies.eq(0).empty().append(m);else if(g){for(f=0;f<g;f++){E+="<tr>";for(l=0;l<m[f].length;l++)E+=/^\s*<td/.test(m[f][l])?e.trim(m[f][l]):"<td>"+m[f][l]+"</td>";E+="</tr>"}o.processAjaxOnInit?b.$tbodies.eq(0).html(E):o.processAjaxOnInit=!0}v&&v.length===x&&(c=w.hasClass("hasStickyHeaders"),p=c?b.widgetOptions.$sticky.children("thead:first").children().children():"",h=w.find("tfoot tr:first").children(),b.$headers.filter("th").each(function(n){var r=e(this),i;r.find("."+t.css.icon).length?(i=r.find("."+t.css.icon).clone(!0),r.find(".tablesorter-header-inner").html(v[n]).append(i),c&&p.length&&(i=p.eq(n).find("."+t.css.icon).clone(!0),p.eq(n).find(".tablesorter-header-inner").html(v[n]).append(i))):(r.find(".tablesorter-header-inner").html(v[n]),c&&p.length&&p.eq(n).find(".tablesorter-header-inner").html(v[n])),h.eq(n).html(v[n])}))}b.showProcessing&&t.isProcessing(r),o.totalPages=Math.ceil(o.totalRows/(o.size||10)),o.last.totalRows=o.totalRows,o.last.currentFilters=o.currentFilters,o.last.sortList=(b.sortList||[]).join(","),i(r,o),s(r,o),w.trigger("updateCache",[function(){o.initialized&&w.trigger("applyWidgets").trigger("pagerChange",o)}])}o.initialized||(o.initialized=!0,e(r).trigger("applyWidgets").trigger("pagerInitialized",o))},l=function(n,r){var i=c(n,r),s=e(document),o,u=n.config;i!==""&&(u.showProcessing&&t.isProcessing(n,!0),s.bind("ajaxError.pager",function(e,t,i,o){f(null,n,r,t,o),s.unbind("ajaxError.pager")}),o=++r.ajaxCounter,r.ajaxObject.url=i,r.ajaxObject.success=function(e){if(o<r.ajaxCounter)return;f(e,n,r),s.unbind("ajaxError.pager"),typeof r.oldAjaxSuccess=="function"&&r.oldAjaxSuccess(e)},u.debug&&t.log("ajax initialized",r.ajaxObject),e.ajax(r.ajaxObject))},c=function(n,r){var i=n.config,s=r.ajaxUrl?r.ajaxUrl.replace(/\{page([\-+]\d+)?\}/,function(e,t){return r.page+(t?parseInt(t,10):0)}).replace(/\{size\}/g,r.size):"",o=i.sortList,u=r.currentFilters||e(n).data("lastSearch")||[],a=s.match(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/),f=s.match(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/),l=[];return a&&(a=a[1],e.each(o,function(e,t){l.push(a+"["+t[0]+"]="+t[1])}),s=s.replace(/\{\s*sort(?:List)?\s*:\s*(\w*)\s*\}/g,l.length?l.join("&"):a),l=[]),f&&(f=f[1],e.each(u,function(e,t){t&&l.push(f+"["+e+"]="+encodeURIComponent(t))}),s=s.replace(/\{\s*filter(?:List)?\s*:\s*(\w*)\s*\}/g,l.length?l.join("&"):f),r.currentFilters=u),typeof r.customAjaxUrl=="function"&&(s=r.customAjaxUrl(n,s)),i.debug&&t.log("Pager ajax url: "+s),s},h=function(n,r,o){var a,f,l=e(n),c=n.config,h=r&&r.length||0,p=o.page*o.size,d=p+o.size;if(h<1)return;o.page>=o.totalPages&&g(n,o),o.isDisabled=!1,o.initialized&&l.trigger("pagerChange",o);if(!o.removeRows)u(n,o);else{d>r.length&&(d=r.length),t.clearTableBody(n),f=t.processTbody(n,c.$tbodies.eq(0),!0);for(a=p;a<d;a++)f.append(r[a]);t.processTbody(n,f,!1)}i(n,o),o.isDisabled||s(n,o),l.trigger("applyWidgets"),n.isUpdating&&l.trigger("updateComplete",n)},p=function(n,i){i.ajax?r(i,!0):(i.isDisabled=!0,e.data(n,"pagerLastPage",i.page),e.data(n,"pagerLastSize",i.size),i.page=0,i.size=i.totalRows,i.totalPages=1,e(n).addClass("pagerDisabled").removeAttr("aria-describedby").find("tr.pagerSavedHeightSpacer").remove(),h(n,n.config.rowsCopy,i),n.config.debug&&t.log("pager disabled")),i.$size.add(i.$goto).each(function(){e(this).attr("aria-disabled","true").addClass(i.cssDisabled)[0].disabled=!0})},d=function(n,r,i){if(r.isDisabled)return;var s=n.config,o=e(n),u=r.last,a=Math.min(r.totalPages,r.filteredPages);r.page<0&&(r.page=0),r.page>a-1&&a!==0&&(r.page=a-1),u.currentFilters=(u.currentFilters||[]).join("")===""?[]:u.currentFilters,r.currentFilters=(r.currentFilters||[]).join("")===""?[]:r.currentFilters;if(u.page===r.page&&u.size===r.size&&u.totalRows===r.totalRows&&(u.currentFilters||[]).join(",")===(r.currentFilters||[]).join(",")&&u.sortList===(s.sortList||[]).join(","))return;s.debug&&t.log("Pager changing to page "+r.page),r.last={page:r.page,size:r.size,sortList:(s.sortList||[]).join(","),totalRows:r.totalRows,currentFilters:r.currentFilters||[]},r.ajax?l(n,r):r.ajax||h(n,s.rowsCopy,r),e.data(n,"pagerLastPage",r.page),r.initialized&&i!==!1&&(o.trigger("pageMoved",r).trigger("applyWidgets"),n.isUpdating&&o.trigger("updateComplete"))},v=function(t,n,r){r.size=n||r.size||10,r.$size.val(r.size),e.data(t,"pagerLastPage",r.page),e.data(t,"pagerLastSize",r.size),r.totalPages=Math.ceil(r.totalRows/r.size),r.filteredPages=Math.ceil(r.filteredRows/r.size),d(t,r)},m=function(e,t){t.page=0,d(e,t)},g=function(e,t){t.page=Math.min(t.totalPages,t.filteredPages)-1,d(e,t)},y=function(e,t){t.page++,t.page>=Math.min(t.totalPages,t.filteredPages)-1&&(t.page=Math.min(t.totalPages,t.filteredPages)-1),d(e,t)},b=function(e,t){t.page--,t.page<=0&&(t.page=0),d(e,t)},w=function(n,r){p(n,r),r.$container.hide(),n.config.appender=null,r.initialized=!1,e(n).unbind("destroy.pager sortEnd.pager filterEnd.pager enable.pager disable.pager"),t.storage&&t.storage(n,r.storageKey,"")},E=function(n,r,i){var o,u=n.config;r.$size.add(r.$goto).removeClass(r.cssDisabled).removeAttr("disabled").attr("aria-disabled","false"),r.isDisabled=!1,r.page=e.data(n,"pagerLastPage")||r.page||0,r.size=e.data(n,"pagerLastSize")||parseInt(r.$size.find("option[selected]").val(),10)||r.size||10,r.$size.val(r.size),r.totalPages=Math.ceil(Math.min(r.totalRows,r.filteredRows)/r.size),n.id&&(o=n.id+"_pager_info",r.$container.find(r.cssPageDisplay).attr("id",o),u.$table.attr("aria-describedby",o)),i&&(u.$table.trigger("updateRows"),v(n,r.size,r),a(n,r),s(n,r),u.debug&&t.log("pager enabled"))};n.appender=function(t,n){var r=t.config,s=r.pager;s.ajax||(r.rowsCopy=n,s.totalRows=s.countChildRows?r.$tbodies.eq(0).children().length:n.length,s.size=e.data(t,"pagerLastSize")||s.size||10,s.totalPages=Math.ceil(s.totalRows/s.size),h(t,n,s),i(t,s,!1))},n.construct=function(r){return this.each(function(){if(!this.config||!this.hasInitialized)return;var f,l,c,h=this,S=h.config,x=S.pager=e.extend({},e.tablesorterPager.defaults,r),T=S.$table,N=x.$container=e(x.container).addClass("tablesorter-pager").show();S.debug&&t.log("Pager initializing"),x.oldAjaxSuccess=x.oldAjaxSuccess||x.ajaxObject.success,S.appender=n.appender,t.filter&&e.inArray("filter",S.widgets)>=0&&(x.currentFilters=S.$table.data("lastSearch")||t.filter.setDefaults(h,S,S.widgetOptions)||[],t.setFilters(h,x.currentFilters,!1)),x.savePages&&t.storage&&(f=t.storage(h,x.storageKey)||{},x.page=isNaN(f.page)?x.page:f.page,x.size=(isNaN(f.size)?x.size:f.size)||10,e.data(h,"pagerLastSize",x.size)),T.unbind("filterStart filterEnd sortEnd disable enable destroy update updateRows updateAll addRows pageSize ".split(" ").join(".pager ")).bind("filterStart.pager",function(e,t){x.currentFilters=t,x.page=0}).bind("filterEnd.pager sortEnd.pager",function(){x.initialized&&(d(h,x,!1),i(h,x,!1),s(h,x))}).bind("disable.pager",function(e){e.stopPropagation(),p(h,x)}).bind("enable.pager",function(e){e.stopPropagation(),E(h,x,!0)}).bind("destroy.pager",function(e){e.stopPropagation(),w(h,x)}).bind("update updateRows updateAll addRows ".split(" ").join(".pager "),function(e){e.stopPropagation(),u(h,x)}).bind("pageSize.pager",function(e,t){e.stopPropagation(),v(h,parseInt(t,10)||10,x),u(h,x),i(h,x,!1),x.$size.length&&x.$size.val(x.size)}).bind("pageSet.pager",function(e,t){e.stopPropagation(),x.page=(parseInt(t,10)||1)-1,x.$goto.length&&x.$goto.val(x.size),d(h,x),i(h,x,!1)}),l=[x.cssFirst,x.cssPrev,x.cssNext,x.cssLast],c=[m,b,y,g],N.find(l.join(",")).attr("tabindex",0).unbind("click.pager").bind("click.pager",function(t){t.stopPropagation();var n,r=e(this),i=l.length;if(!r.hasClass(x.cssDisabled))for(n=0;n<i;n++)if(r.is(l[n])){c[n](h,x);break}}),x.$goto=N.find(x.cssGoto),x.$goto.length&&x.$goto.unbind("change").bind("change",function(){x.page=e(this).val()-1,d(h,x),i(h,x,!1)}),x.$size=N.find(x.cssPageSize),x.$size.length&&x.$size.unbind("change.pager").bind("change.pager",function(){return x.$size.val(e(this).val()),e(this).hasClass(x.cssDisabled)||(v(h,parseInt(e(this).val(),10),x),o(h,x)),!1}),x.initialized=!1,T.trigger("pagerBeforeInitialized",x),E(h,x,!1),typeof x.ajaxUrl=="string"?(x.ajax=!0,S.widgetOptions.filter_serversideFiltering=!0,S.serverSideSorting=!0,d(h,x)):(x.ajax=!1,e(this).trigger("appendCache",!0),a(h,x)),o(h,x),x.ajax||(x.initialized=!0,e(h).trigger("pagerInitialized",x))})}}}),t.showError=function(t,n){e(t).each(function(){var t,r=this.config,i=r.pager&&r.pager.cssErrorRow||r.widgetOptions.pager_css&&r.widgetOptions.pager_css.errorRow||"tablesorter-errorRow";r&&(typeof n=="undefined"?r.$table.find("thead").find(r.selectorRemove).remove():t=(/tr\>/.test(n)?e(n):e('<tr><td colspan="'+r.columns+'">'+n+"</td></tr>")).click(function(){e(this).remove()}).appendTo(r.$table.find("thead:first")).addClass(i+" "+r.selectorRemove.replace(/^[.#]/,"")).attr({role:"alert","aria-live":"assertive"}))})},e.fn.extend({tablesorterPager:e.tablesorterPager.construct})}(jQuery),define("tablepager",function(){});if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed.bs.alert").remove()}var n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=e(r);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one(e.support.transition.end,s).emulateTransitionEnd(150):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText||r.data("resetText",r[i]()),r[i](s[t]||this.options[t]),setTimeout(e.proxy(function(){t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var f=e.Event("slide.bs.carousel",{relatedTarget:i[0],direction:o});this.$element.trigger(f);if(f.isDefaultPrevented())return;return this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(r.css("transition-duration").slice(0,-1)*1e3)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(s.interval=!1),i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&n=="show"&&(n=!n),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i),o=s.data("bs.collapse"),u=o?"toggle":n.data(),a=n.attr("data-parent"),f=a&&e(a);if(!o||!o.transitioning)f&&f.find('[data-toggle=collapse][data-parent="'+a+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed");s.collapse(u)})}(jQuery),+function(e){function i(r){e(t).remove(),e(n).each(function(){var t=s(e(this)),n={relatedTarget:this};if(!t.hasClass("open"))return;t.trigger(r=e.Event("hide.bs.dropdown",n));if(r.isDefaultPrevented())return;t.removeClass("open").trigger("hidden.bs.dropdown",n)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var t=".dropdown-backdrop",n="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",u),n.focus()}return!1},r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o||o&&t.keyCode==27)return t.which==27&&i.find(n).focus(),r.click();var u=" li:not(.divider):visible a",a=i.find("[role=menu]"+u+", [role=listbox]"+u);if(!a.length)return;var f=a.index(a.filter(":focus"));t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).focus()};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),+function(e){var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)})},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&t.preventDefault(),i.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(i);o&&(i=i.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),a=r[0].offsetWidth,f=r[0].offsetHeight;if(o){var l=this.$element.parent(),c=i,h=document.documentElement.scrollTop||document.body.scrollTop,p=this.options.container=="body"?window.innerWidth:l.outerWidth(),d=this.options.container=="body"?window.innerHeight:l.outerHeight(),v=this.options.container=="body"?0:l.offset().left;i=i=="bottom"&&u.top+u.height+f-h>d?"top":i=="top"&&u.top-h-f<0?"bottom":i=="right"&&u.right+a>p?"left":i=="left"&&u.left-a<v?"right":i,r.removeClass(c).addClass(i)}var m=this.getCalculatedOffset(i,u,a,f);this.applyPlacement(m,i),this.hoverState=null;var g=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,g).emulateTransitionEnd(150):g()}},t.prototype.applyPlacement=function(t,n){var r,i=this.tip(),s=i[0].offsetWidth,o=i[0].offsetHeight,u=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(a)&&(a=0),t.top=t.top+u,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var f=i[0].offsetWidth,l=i[0].offsetHeight;n=="top"&&l!=o&&(r=!0,t.top=t.top+o-l);if(/bottom|top/.test(n)){var c=0;t.left<0&&(c=t.left*-2,t.left=0,i.offset(t),f=i[0].offsetWidth,l=i[0].offsetHeight),this.replaceArrow(c-s+f,f,"left")}else this.replaceArrow(l-o,l,"top");r&&i.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){t.hoverState!="in"&&n.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){function t(n,r){var i,s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this,r=this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);if(s&&e<=r[0])return s!=(o=i[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;this.affixed=="top"&&(i.top+=r),typeof s!="object"&&(u=o=s),typeof o=="function"&&(o=s.top(this.$element)),typeof u=="function"&&(u=s.bottom(this.$element));var a=this.unpin!=null&&r+this.unpin<=i.top?!1:u!=null&&i.top+this.$element.height()>=n-u?"bottom":o!=null&&r<=o?"top":!1;if(this.affixed===a)return;this.unpin&&this.$element.css("top","");var f="affix"+(a?"-"+a:""),l=e.Event(f+".bs.affix");this.$element.trigger(l);if(l.isDefaultPrevented())return;this.affixed=a,this.unpin=a=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(f).trigger(e.Event(f.replace("affix","affixed"))),a=="bottom"&&this.$element.offset({top:n-u-this.$element.height()})};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),define("bootstrap",function(){}),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="1.0.0";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=o.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,a,f,c,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,f=o.length;a<f;a++){e=o[a];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(c=0,h=s.length;c<h;c++)i=s[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;typeof t=="object"&&(n=this),e&&((r={})[e._listenerId]=e);for(var s in r)r[s].off(t,n,this),i&&delete this._listeners[s];return this}},f=/\s+/,l=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(f.test(n)){var s=n.split(f);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};u.each(h,function(e,t){a[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=u.uniqueId("l"));return i[s]=t,typeof n=="object"&&(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,u.extend(o,a);var p=o.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},u.extend(this,u.pick(t,d)),t.parse&&(r=this.parse(r,t)||{});if(n=u.result(this,"defaults"))r=u.defaults({},r,n);this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},d=["url","urlRoot","collection"];u.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},j(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t;if(r&&(!n||!n.wait)&&!this.set(r,n))return!1;n=u.extend({validate:!0},n);if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=u.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var a=this,f=n.success;return n.success=function(e){a.attributes=o;var t=a.parse(e,n);n.wait&&(t=u.extend(r||{},t));if(u.isObject(t)&&!a.set(t,n))return!1;f&&f(a,e,n),a.trigger("sync",a,e,n)},j(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;j(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||B();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t||{},{validationError:n})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];u.each(v,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var m=o.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};u.extend(m.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.defaults(t||{},y))},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,r,i,s;for(n=0,r=e.length;n<r;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byId[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},set:function(e,t){t=u.defaults(t||{},g),t.parse&&(e=this.parse(e,t)),u.isArray(e)||(e=e?[e]:[]);var n,i,o,a,f,l,c=t.at,h=this.comparator&&c==null&&t.sort!==!1,p=u.isString(this.comparator)?this.comparator:null,d=[],v=[],m={};for(n=0,i=e.length;n<i;n++){if(!(o=this._prepareModel(e[n],t)))continue;(f=this.get(o))?(t.remove&&(m[f.cid]=!0),t.merge&&(f.set(o.attributes,t),h&&!l&&f.hasChanged(p)&&(l=!0))):t.add&&(d.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o))}if(t.remove){for(n=0,i=this.length;n<i;++n)m[(o=this.models[n]).cid]||v.push(o);v.length&&this.remove(v,t)}d.length&&(h&&(l=!0),this.length+=d.length,c!=null?s.apply(this.models,[c,0].concat(d)):r.apply(this.models,d)),l&&this.sort({silent:!0});if(t.silent)return this;for(n=0,i=d.length;n<i;n++)(o=d[n]).trigger("add",o,this,t);return l&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,r,n)},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},j(this,e),this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(b,function(e){m.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var w=["groupBy","countBy","sortBy"];u.each(w,function(e){m.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var E=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];u.extend(E.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(S),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,x)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}}),o.sync=function(e,t,n){var r=T[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||B()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,a,n),a};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var N=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,L=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(N.prototype,a,{initialize:function(){},route:function(e,t,n){u.isRegExp(e)||(e=this._routeToRegExp(e)),u.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return o.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),o.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=u.result(this,"routes");var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(L,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var O=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,_=/^\/+|\/+$/g,D=/msie [\w.]+/,P=/\/$/;O.started=!1,u.extend(O.prototype,a,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(P,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(_,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!O.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new O;var H=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};p.extend=m.extend=N.extend=E.extend=O.extend=H;var B=function(){throw new Error('A "url" property or function must be specified')},j=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),define("backbone",["jquery","underscore"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),Backbone.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(Backbone,_),Backbone.Wreqr=function(e,t,n){var r={};return r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),r.CommandStorage=function(){var t=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)};return n.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),t}(),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,function(e){t.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;n.isFunction(r)?t=new r:t=r,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),r}(Backbone,Backbone.Marionette,_);var Marionette=function(e,t,n){function s(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;return r.extend=t.Model.extend,r.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&t in e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},r.normalizeMethods=function(e){var t={},r;return n.each(e,function(e,i){r=e,n.isFunction(r)||(r=this[r]);if(!r)return;t[i]=r},this),t},r.normalizeUIKeys=function(e,t){if(typeof e=="undefined")return;return n.each(n.keys(e),function(n){var r=/@ui.[a-zA-Z_$0-9]*/g;n.match(r)&&(e[n.replace(r,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e},r.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i];n.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(n.isFunction(s))return s.apply(this,n.tail(arguments))};return r}(),r.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,i(e)}function r(e){e._isRendered=!0,i(e)}function i(e){e._isShown&&e._isRendered&&s(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function s(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){r(e)})}}(document.documentElement),function(e){function t(e,t,r,i){var o=i.split(/\s+/);n.each(o,function(n){var i=e[n];i||s("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i)})}function o(e,t,n,r){e.stopListening(t,n,r)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,o,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e)),this.unbind()}}),r.Region=function(e){this.options=e||{},this.el=r.getOption(this,"el"),this.el||s("An 'el' must be specified for a region.","NoElError");if(this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(r.Region,{buildRegion:function(e,t){var r=n.isString(e),i=n.isString(e.selector),o=n.isUndefined(e.regionType),u=n.isFunction(e);!u&&!r&&!i&&s("Region must be specified as a Region type, a selector string or an object with selector property");var a,f;r&&(a=e),e.selector&&(a=e.selector,delete e.selector),u&&(f=e),!u&&o&&(f=t),e.regionType&&(f=e.regionType,delete e.regionType);if(r||u)e={};e.el=a;var l=new f(e);return e.parentEl&&(l.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),l}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),r.triggerMethod.call(this,"before:show",e),r.triggerMethod.call(e,"before:show"),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0)this.$el=this.getEl(this.el)},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed)return;e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close",e),delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}}),r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(r,function(e){t.prototype[e]=function(){var t=n.values(this._regions),r=[t].concat(n.toArray(arguments));return n[e].apply(n,r)}}),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return(!t||t.length===0)&&s("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){e||s("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var n;return typeof e=="function"?n=e:n=r.TemplateCache.get(e),n(t)}},r.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),n.isObject(this.behaviors)&&new r.Behaviors(this),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:r.triggerMethod,normalizeMethods:r.normalizeMethods,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui");return r.normalizeUIKeys(e,t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,r){var i=n.isObject(t),s=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,o=i?t.preventDefault:n,u=i?t.stopPropagation:r;o&&n&&n.apply(e),u&&r&&r.apply(e)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,a)}},this),e},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=n.result(this,"behaviorEvents")||{},s=this.configureTriggers();n.extend(r,i,e,s),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed)return;var e=Array.prototype.slice.call(arguments),t=this.triggerMethod.apply(this,["before:close"].concat(e));if(t===!1)return;this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(e)),this.unbindUIElements(),this.remove()},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(this.isClosed)return;this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed")}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){r.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each(function(e){r.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return r.getOption(this,"emptyView")},getItemView:function(e){var t=r.getOption(this,"itemView");return t||s("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var s=r.getOption(this,"itemViewOptions");n.isFunction(s)&&(s=s.call(this,e,i));var o=this.buildItemView(e,t,s);return this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&!this.isBuffering&&r.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o),o},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var s=i.call(arguments),o=s[0],u=this.normalizeMethods(this.getItemEvents());s[0]=t+":"+o,s.splice(1,0,e),typeof u!="undefined"&&n.isFunction(u[o])&&u[o].apply(this,s),r.triggerMethod.apply(this,s)},this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||this.collection.length===0},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed)return;this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,arguments)},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||s("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t,n){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var r=this.getItemViewContainer(e);r.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var o=n.isFunction(i)?i.call(this):i;t=e.$(o),t.length<=0&&s("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},close:function(){if(this.isClosed)return;this.regionManager.close(),r.ItemView.prototype.close.apply(this,arguments)},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),r.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,{initialize:function(){},triggerMethod:r.triggerMethod}),e.extend(n,{extend:t.View.extend}),n}(n,t),r.Behaviors=function(e,t){function n(e){this.behaviors=n.parseBehaviors(e,e.behaviors),n.wrap(e,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","onShow","onClose","behaviorEvents","triggerMethod","setElement"])}var r={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},onShow:function(n,r){var i=t.tail(arguments,2);t.each(r,function(t){e.triggerMethod.apply(t,["show"].concat(i))}),t.isFunction(n)&&n.apply(this,i)},onClose:function(n,r){var i=t.tail(arguments,2);t.each(r,function(t){e.triggerMethod.apply(t,["close"].concat(i))}),t.isFunction(n)&&n.apply(this,i)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.each(n,function(t){e.apply(t,r)})},delegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.bindEntityEvents(this,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.unbindEntityEvents(this,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,r){var i={},s=t.result(this,"ui");return t.each(r,function(n,r){var o={},u=t.result(n,"events")||{},a=t.result(n,"ui"),f=t.extend({},s,a);u=e.normalizeUIKeys(u,f),t.each(t.keys(u),function(e){var i=(new Array(r+2)).join(" "),s=e+i,a=t.isFunction(u[e])?u[e]:n[u[e]];o[s]=t.bind(a,n)}),i=t.extend(i,o)}),i}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,r){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[r]:n.behaviorsLookup[r]},parseBehaviors:function(e,r){return t.map(r,function(t,r){var i=n.getBehaviorClass(t,r);return new i(t,e)})},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(r[i],e[i],n)})}}),n}(r,n),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];i||s("Method '"+r+"' was not found on the controller"),this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=r.Module.getClass(t),s=i.call(arguments);return s.unshift(this),n.create.apply(n,s)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),r.Application.extend=r.extend,r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(!e)return;var s=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var s=e,o=i.call(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var i=s;s=this._getModule(i,t,e,r),this._addModuleDefinition(i,s,a[n],o)},this),s},_getModule:function(e,t,r,i,s){var o=n.extend({},i),u=this.getClass(i),a=e[t];return a||(a=new u(t,r,o),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,r){var i=this._getDefine(n),s=this._getStartWithParent(n,t);i&&t.addDefinition(i,r),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof r.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof r.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n;if(!t.startWithParent||!!t.startWithParentIsConfigured)return;t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)})}}),r}(this,Backbone,_);define("marionette",["backbone"],function(e){return function(){var t,n;return t||e.Marionette}}(this)),function(e,t){if(typeof exports=="object"&&exports)t(exports);else{var n={};t(n),typeof define=="function"&&define.amd?define("mustache",n):e.Mustache=n}}(this,function(e){function n(e,n){return t.call(e,n)}function i(e){return!n(r,e)}function u(e){return typeof e=="function"}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l(e){return String(e).replace(/[&<>"'\/]/g,function(e){return f[e]})}function c(e){if(!o(e)||e.length!==2)throw new Error("Invalid tags: "+e);return[new RegExp(a(e[0])+"\\s*"),new RegExp("\\s*"+a(e[1]))]}function g(t,n){function E(){if(l&&!g)while(f.length)delete u[f.pop()];else f=[];l=!1,g=!1}n=n||e.tags,t=t||"",typeof n=="string"&&(n=n.split(p));var r=c(n),s=new w(t),o=[],u=[],f=[],l=!1,g=!1,S,x,T,N,C,k;while(!s.eos()){S=s.pos,T=s.scanUntil(r[0]);if(T)for(var L=0,A=T.length;L<A;++L)N=T.charAt(L),i(N)?f.push(u.length):g=!0,u.push(["text",N,S,S+1]),S+=1,N==="\n"&&E();if(!s.scan(r[0]))break;l=!0,x=s.scan(m)||"name",s.scan(h),x==="="?(T=s.scanUntil(d),s.scan(d),s.scanUntil(r[1])):x==="{"?(T=s.scanUntil(new RegExp("\\s*"+a("}"+n[1]))),s.scan(v),s.scanUntil(r[1]),x="&"):T=s.scanUntil(r[1]);if(!s.scan(r[1]))throw new Error("Unclosed tag at "+s.pos);C=[x,T,S,s.pos],u.push(C);if(x==="#"||x==="^")o.push(C);else if(x==="/"){k=o.pop();if(!k)throw new Error('Unopened section "'+T+'" at '+S);if(k[1]!==T)throw new Error('Unclosed section "'+k[1]+'" at '+S)}else x==="name"||x==="{"||x==="&"?g=!0:x==="="&&(r=c(n=T.split(p)))}k=o.pop();if(k)throw new Error('Unclosed section "'+k[1]+'" at '+s.pos);return b(y(u))}function y(e){var t=[],n,r;for(var i=0,s=e.length;i<s;++i)n=e[i],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(t.push(n),r=n));return t}function b(e){var t=[],n=t,r=[],i,s;for(var o=0,u=e.length;o<u;++o){i=e[o];switch(i[0]){case"#":case"^":n.push(i),r.push(i),n=i[4]=[];break;case"/":s=r.pop(),s[5]=i[2],n=r.length>0?r[r.length-1][4]:t;break;default:n.push(i)}}return t}function w(e){this.string=e,this.tail=e,this.pos=0}function E(e,t){this.view=e==null?{}:e,this.cache={".":this.view},this.parent=t}function S(){this.cache={}}var t=RegExp.prototype.test,r=/\S/,s=Object.prototype.toString,o=Array.isArray||function(e){return s.call(e)==="[object Array]"},f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},h=/\s*/,p=/\s+/,d=/\s*=/,v=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;w.prototype.eos=function(){return this.tail===""},w.prototype.scan=function(e){var t=this.tail.match(e);if(t&&t.index===0){var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}return""},w.prototype.scanUntil=function(e){var t=this.tail.search(e),n;switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},E.prototype.push=function(e){return new E(e,this)},E.prototype.lookup=function(e){var t;if(e in this.cache)t=this.cache[e];else{var n=this;while(n){if(e.indexOf(".")>0){t=n.view;var r=e.split("."),i=0;while(t!=null&&i<r.length)t=t[r[i++]]}else t=n.view[e];if(t!=null)break;n=n.parent}this.cache[e]=t}return u(t)&&(t=t.call(this.view)),t},S.prototype.clearCache=function(){this.cache={}},S.prototype.parse=function(e,t){var n=this.cache,r=n[e];return r==null&&(r=n[e]=g(e,t)),r},S.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof E?t:new E(t);return this.renderTokens(r,i,n,e)},S.prototype.renderTokens=function(t,n,r,i){function f(e){return a.render(e,n,r)}var s="",a=this,l,c;for(var h=0,p=t.length;h<p;++h){l=t[h];switch(l[0]){case"#":c=n.lookup(l[1]);if(!c)continue;if(o(c))for(var d=0,v=c.length;d<v;++d)s+=this.renderTokens(l[4],n.push(c[d]),r,i);else if(typeof c=="object"||typeof c=="string")s+=this.renderTokens(l[4],n.push(c),r,i);else if(u(c)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(n.view,i.slice(l[3],l[5]),f),c!=null&&(s+=c)}else s+=this.renderTokens(l[4],n,r,i);break;case"^":c=n.lookup(l[1]);if(!c||o(c)&&c.length===0)s+=this.renderTokens(l[4],n,r,i);break;case">":if(!r)continue;c=u(r)?r(l[1]):r[l[1]],c!=null&&(s+=this.renderTokens(this.parse(c),n,r,c));break;case"&":c=n.lookup(l[1]),c!=null&&(s+=c);break;case"name":c=n.lookup(l[1]),c!=null&&(s+=e.escape(c));break;case"text":s+=l[1]}}return s},e.name="mustache.js",e.version="0.8.1",e.tags=["{{","}}"];var x=new S;e.clearCache=function(){return x.clearCache()},e.parse=function(e,t){return x.parse(e,t)},e.render=function(e,t,n){return x.render(e,t,n)},e.to_html=function(t,n,r,i){var s=e.render(t,n,r);if(!u(i))return s;i(s)},e.escape=l,e.Scanner=w,e.Context=E,e.Writer=S}),function(e,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define("spin",t):e.Spinner=t()}(this,function(){function r(e,t){var n=document.createElement(e||"div"),r;for(r in t)n[r]=t[r];return n}function i(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(e,r,i,o){var u=["opacity",r,~~(e*100),i,o].join("-"),a=.01+i/o*100,f=Math.max(1-(1-e)/r*(100-a),e),l=n.substring(0,n.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return t[u]||(s.insertRule("@"+c+"keyframes "+u+"{"+"0%{opacity:"+f+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+r)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",s.cssRules.length),t[u]=1),u}function u(t,n){var r=t.style,i,s;n=n.charAt(0).toUpperCase()+n.slice(1);for(s=0;s<e.length;s++){i=e[s]+n;if(r[i]!==undefined)return i}if(r[n]!==undefined)return n}function a(e,t){for(var n in t)e.style[u(e,n)||n]=t[n];return e}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===undefined&&(e[r]=n[r])}return e}function l(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function c(e,t){return typeof e=="string"?e:e[t%e.length]}function p(e){this.opts=f(e||{},p.defaults,h)}function d(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}s.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,n){function o(){return a(e("group",{coordsize:s+" "+s,coordorigin:-r+" "+ -r}),{width:s,height:s})}function h(t,s,u){i(f,i(a(o(),{rotation:360/n.lines*t+"deg",left:~~s}),i(a(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:u}),e("fill",{color:c(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,s=2*r,u=-(n.width+n.length)*2+"px",f=a(o(),{position:"absolute",top:u,left:u}),l;if(n.shadow)for(l=1;l<=n.lines;l++)h(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)h(l);return i(t,f)},p.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var e=["webkit","Moz","ms","O"],t={},n,s=function(){var e=r("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};p.defaults={},f(p.prototype,{spin:function(e){this.stop();var t=this,i=t.opts,s=t.el=a(r(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),o=i.radius+i.length+i.width;e&&(e.insertBefore(s,e.firstChild||null),a(s,{left:i.left,top:i.top})),s.setAttribute("role","progressbar"),t.lines(s,t.opts);if(!n){var u=0,f=(i.lines-1)*(1-i.direction)/2,l,c=i.fps,h=c/i.speed,p=(1-i.opacity)/(h*i.trail/100),d=h/i.lines;(function v(){u++;for(var e=0;e<i.lines;e++)l=Math.max(1-(u+(i.lines-e)*d)%h*p,i.opacity),t.opacity(s,e*i.direction+f,l,i);t.timeout=t.el&&setTimeout(v,~~(1e3/c))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=undefined),this},lines:function(e,t){function l(e,n){return a(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var s=0,u=(t.lines-1)*(1-t.direction)/2,f;for(;s<t.lines;s++)f=a(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:n&&o(t.opacity,t.trail,u+s*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(f,a(l("#000","0 0 4px #000"),{top:"2px"})),i(e,i(f,l(c(t.color,s),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var v=a(r("group"),{behavior:"url(#default#VML)"});return!u(v,"transform")&&v.adj?d():n=u(v,"animation"),p}),function(){var e,t;e=jQuery,t=function(){function t(t,n){this.$element=t,this.options=e.extend({},this.defaults,n),this.configure()}return t.prototype.defaults={petals:9},t.prototype.show=function(){return this.$element.animate({opacity:1})},t.prototype.hide=function(){return this.$element.animate({opacity:0})},t.prototype.destroy=function(){return this.$element.empty(),this.$element.data("spin",void 0)},t.prototype.configure=function(){var t,n,r,i,s;this.$element.empty(),s=[];for(n=r=0,i=this.options.petals;0<=i?r<i:r>i;n=0<=i?++r:--r)t=e("<div />"),s.push(this.$element.append(t));return s},t}(),e.fn.spin=function(n){return e(this).each(function(){var r,i;r=e(this),i=r.data("spinner"),i==null&&r.data("spinner",i=new t(r,n));if(typeof n=="string")return i[n]()})},e(function(){return e("[data-spin]").spin()})}.call(this),define("jqueryspin",function(){}),Backbone.Syphon=function(e,t,n){var r={};r.ignoredTypes=["button","submit","reset","fieldset"],r.serialize=function(e,r){var o={},f=u(r),l=i(e,f);return n.each(l,function(e){var n=t(e),r=s(n),i=f.keyExtractors.get(r),u=i(n),l=f.inputReaders.get(r),c=l(n),h=f.keyAssignmentValidators.get(r);if(h(n,u,c)){var p=f.keySplitter(u);o=a(o,p,c)}}),o},r.deserialize=function(e,r,o){var a=u(o),l=i(e,a),c=f(a,r);n.each(l,function(e){var n=t(e),r=s(n),i=a.keyExtractors.get(r),o=i(n),u=a.inputWriters.get(r),f=c[o];u(n,f)})};var i=function(e,r){var i=o(e),u=i.elements;return u=n.reject(u,function(e){var i,o=s(e),u=r.keyExtractors.get(o),a=u(t(e)),f=n.include(r.ignoredTypes,o),l=n.include(r.include,a),c=n.include(r.exclude,a);return l?i=!1:r.include?i=!0:i=c||f,i}),u},s=function(e){var n,r=t(e),i=r[0].tagName,s=i;return i.toLowerCase()==="input"&&(n=r.attr("type"),n?s=n:s="text"),s.toLowerCase()},o=function(e){return n.isUndefined(e.$el)&&e.tagName.toLowerCase()==="form"?e:e.$el.is("form")?e.el:e.$("form")[0]},u=function(e){var t=n.clone(e)||{};return t.ignoredTypes=n.clone(r.ignoredTypes),t.inputReaders=t.inputReaders||r.InputReaders,t.inputWriters=t.inputWriters||r.InputWriters,t.keyExtractors=t.keyExtractors||r.KeyExtractors,t.keySplitter=t.keySplitter||r.KeySplitter,t.keyJoiner=t.keyJoiner||r.KeyJoiner,t.keyAssignmentValidators=t.keyAssignmentValidators||r.KeyAssignmentValidators,t},a=function(e,t,r){if(!t)return e;var i=t.shift();return e[i]||(e[i]=n.isArray(i)?[]:{}),t.length===0&&(n.isArray(e[i])?e[i].push(r):e[i]=r),t.length>0&&a(e[i],t,r),e},f=function(e,t,r){var i={};return n.each(t,function(t,s){var o={};r&&(s=e.keyJoiner(r,s)),n.isArray(t)?(s+="[]",o[s]=t):n.isObject(t)?o=f(e,t,s):o[s]=t,n.extend(i,o)}),i};return r}(Backbone,jQuery,_),Backbone.Syphon.TypeRegistry=function(){this.registeredTypes={}},Backbone.Syphon.TypeRegistry.extend=Backbone.Model.extend,_.extend(Backbone.Syphon.TypeRegistry.prototype,{get:function(e){var t=this.registeredTypes[e];return t||(t=this.registeredTypes["default"]),t},register:function(e,t){this.registeredTypes[e]=t},registerDefault:function(e){this.registeredTypes["default"]=e},unregister:function(e){this.registeredTypes[e]&&delete this.registeredTypes[e]}}),Backbone.Syphon.KeyExtractorSet=Backbone.Syphon.TypeRegistry.extend(),Backbone.Syphon.KeyExtractors=new Backbone.Syphon.KeyExtractorSet,Backbone.Syphon.KeyExtractors.registerDefault(function(e){return e.prop("name")}),Backbone.Syphon.InputReaderSet=Backbone.Syphon.TypeRegistry.extend(),Backbone.Syphon.InputReaders=new Backbone.Syphon.InputReaderSet,Backbone.Syphon.InputReaders.registerDefault(function(e){return e.val()}),Backbone.Syphon.InputReaders.register("checkbox",function(e){var t=e.prop("checked");return t}),Backbone.Syphon.InputWriterSet=Backbone.Syphon.TypeRegistry.extend(),Backbone.Syphon.InputWriters=new Backbone.Syphon.InputWriterSet,Backbone.Syphon.InputWriters.registerDefault(function(e,t){e.val(t)}),Backbone.Syphon.InputWriters.register("checkbox",function(e,t){e.prop("checked",t)}),Backbone.Syphon.InputWriters.register("radio",function(e,t){e.prop("checked",e.val()===t)}),Backbone.Syphon.KeyAssignmentValidatorSet=Backbone.Syphon.TypeRegistry.extend(),Backbone.Syphon.KeyAssignmentValidators=new Backbone.Syphon.KeyAssignmentValidatorSet,Backbone.Syphon.KeyAssignmentValidators.registerDefault(function(){return!0}),Backbone.Syphon.KeyAssignmentValidators.register("radio",function(e,t,n){return e.prop("checked")}),Backbone.Syphon.KeySplitter=function(e){var t=e.match(/[^\[\]]+/g);return e.indexOf("[]")===e.length-2&&(lastKey=t.pop(),t.push([lastKey])),t},Backbone.Syphon.KeyJoiner=function(e,t){return e+"["+t+"]"},define("backbonesyphon",function(){}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),e(t.target).attr("formnovalidate")!==undefined&&(n.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),delete o.messages,s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}var a=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required,a=e.extend({required:f},a)}return a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){typeof r=="string"&&(r=r.split(/\s/)),e.each(r,function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),r=e(t).val();return n==="radio"||n==="checkbox"?e("input[name='"+e(t).attr("name")+"']:checked").val():typeof r=="string"?r.replace(/\r/g,""):r},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=!1,i=this.elementValue(t),s;for(var o in n){var u={method:o,parameters:n[o]};try{s=e.validator.methods[o].call(this,i,t,u.parameters);if(s==="dependency-mismatch"){r=!0;continue}r=!1;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!s)return this.formatAndAdd(t,u),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",a),a}}if(r)return;return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(n)):(r=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t),i=r[0].getAttribute("type");for(var s in e.validator.methods){var o;s==="required"?(o=r.get(0).getAttribute(s),o===""&&(o=!0),o=!!o):o=r.attr(s),/min|max/.test(s)&&(i===null||/number|range|text/.test(i))&&(o=Number(o)),o?n[s]=o:i===s&&i!=="range"&&(n[s]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,r,i={},s=e(t);for(n in e.validator.methods)r=s.data("rule-"+n.toLowerCase()),r!==undefined&&(i[n]=r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!==undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return n%10===0},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0||r==="true";if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),delete s.invalid[n.name],s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f,s.invalid[n.name]=!0,s.showErrors(a)}i.valid=o,s.stopRequest(n,o)}},r)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode==="abort"&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i==="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments),t[s]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),define("jqueryvalidate",function(){}),!function(e,t){function f(e,t){var n,r,i=e.toLowerCase();t=[].concat(t);for(n=0;n<t.length;n+=1){r=t[n];if(!r)continue;if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var n=t.prototype.trim,r=t.prototype.trimRight,i=t.prototype.trimLeft,s=function(e){return e*1||0},o=function(e,t){if(t<1)return"";var n="";while(t>0)t&1&&(n+=e),t>>=1,e+=e;return n},u=[].slice,a=function(e){return e==null?"\\s":e.source?e.source:"["+d.escapeRegExp(e)+"]"},l={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},c={};for(var h in l)c[l[h]]=h;c["'"]="#39";var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=o,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,i){var s=1,o=r.length,u="",a,f=[],l,c,h,d,v,m;for(l=0;l<o;l++){u=e(r[l]);if(u==="string")f.push(r[l]);else if(u==="array"){h=r[l];if(h[2]){a=i[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw new Error(p('[_.sprintf] property "%s" does not exist',h[2][c]));a=a[h[2][c]]}}else h[1]?a=i[h[1]]:a=i[s++];if(/[^s]/.test(h[8])&&e(a)!="number")throw new Error(p("[_.sprintf] expecting number but found %s",e(a)));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=t.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=t(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,v=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",m=h[6]-t(a).length,d=h[6]?n(v,m):"",f.push(h[5]?a+d:d+a)}}return f.join("")},r.cache={},r.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),d={VERSION:"2.3.0",isBlank:function(e){return e==null&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return e==null?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=e==null?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return e==null?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return d.strip(e).replace(/\s+/g," ")},count:function(e,n){if(e==null||n==null)return 0;e=t(e),n=t(n);var r=0,i=0,s=n.length;for(;;){i=e.indexOf(n,i);if(i===-1)break;r++,i+=s}return r},chars:function(e){return e==null?[]:t(e).split("")},swapCase:function(e){return e==null?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return e==null?"":t(e).replace(/[&<>"']/g,function(e){return"&"+c[e]+";"})},unescapeHTML:function(e){return e==null?"":t(e).replace(/\&([^;]+);/g,function(e,n){var r;return n in l?l[n]:(r=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return e==null?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=d.chars(e);return i.splice(~~t,~~n,r),i.join("")},insert:function(e,t,n){return d.splice(e,t,0,n)},include:function(e,n){return n===""?!0:e==null?!1:t(e).indexOf(n)!==-1},join:function(){var e=u.call(arguments),t=e.shift();return t==null&&(t=""),e.join(t)},lines:function(e){return e==null?[]:t(e).split("\n")},reverse:function(e){return d.chars(e).reverse().join("")},startsWith:function(e,n){return n===""?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return n===""?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return e==null?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return e==null?"":(e=t(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return d.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return d.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return d.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return d.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return d.capitalize(d.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,r){return e==null?"":!r&&n?n.call(e):(r=a(r),t(e).replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))},ltrim:function(e,n){return e==null?"":!n&&i?i.call(e):(n=a(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return e==null?"":!n&&r?r.call(e):(n=a(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,r){return e==null?"":(e=t(e),r=r||"...",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,n,r){if(e==null)return"";e=t(e),n=~~n,r=r!=null?t(r):"...";if(e.length<=n)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,i);return s.slice(s.length-2).match(/\w\w/)?s=s.replace(/\s*\S+$/,""):s=d.rtrim(s.slice(0,s.length-1)),(s+r).length>e.length?e:e.slice(0,s.length)+r},words:function(e,t){return d.isBlank(e)?[]:d.trim(e,t).split(t||/\s+/)},pad:function(e,n,r,i){e=e==null?"":t(e),n=~~n;var s=0;r?r.length>1&&(r=r.charAt(0)):r=" ";switch(i){case"right":return s=n-e.length,e+o(r,s);case"both":return s=n-e.length,o(r,Math.ceil(s/2))+e+o(r,Math.floor(s/2));default:return s=n-e.length,o(r,s)+e}},lpad:function(e,t,n){return d.pad(e,t,n)},rpad:function(e,t,n){return d.pad(e,t,n,"right")},lrpad:function(e,t,n){return d.pad(e,t,n,"both")},sprintf:p,vsprintf:function(e,t){return t.unshift(e),p.apply(null,t)},toNumber:function(e,t){return e?(e=d.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):NaN):0},numberFormat:function(e,t,n,r){if(isNaN(e)||e==null)return"";e=e.toFixed(~~t),r=typeof r=="string"?r:",";var i=e.split("."),s=i[0],o=i[1]?(n||".")+i[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o},strRight:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(e==null)return"";e+="",t=t!=null?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var i=e.slice(),s=i.pop();return e.length>2&&r&&(n=d.rtrim(t)+n),i.length?i.join(t)+n+s:s},toSentenceSerial:function(){var e=u.call(arguments);return e[3]=!0,d.toSentence.apply(d,e)},slugify:function(e){if(e==null)return"";var n="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",r="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(a(n),"g");return e=t(e).toLowerCase().replace(i,function(e){var t=n.indexOf(e);return r.charAt(t)||"-"}),d.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return d.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this){if(!this.hasOwnProperty(t)||t.match(/^(?:include|contains|reverse)$/))continue;e[t]=this[t]}return e},repeat:function(e,n,r){if(e==null)return"";n=~~n;if(r==null)return o(t(e),n);for(var i=[];n>0;i[--n]=e);return i.join(r)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;var r=/(\.\d+)|(\d+)|(\D+)/g,i=t(e).toLowerCase().match(r),s=t(n).toLowerCase().match(r),o=Math.min(i.length,s.length);for(var u=0;u<o;u++){var a=i[u],f=s[u];if(a!==f){var l=parseInt(a,10);if(!isNaN(l)){var c=parseInt(f,10);if(!isNaN(c)&&l-c)return l-c}return a<f?-1:1}}return i.length===s.length?i.length-s.length:e<n?-1:1},levenshtein:function(e,n){if(e==null&&n==null)return 0;if(e==null)return t(n).length;if(n==null)return t(e).length;e=t(e),n=t(n);var r=[],i,s;for(var o=0;o<=n.length;o++)for(var u=0;u<=e.length;u++)o&&u?e.charAt(u-1)===n.charAt(o-1)?s=i:s=Math.min(r[u],r[u-1],i)+1:s=o+u,i=r[u],r[u]=s;return r.pop()},toBoolean:function(e,t,n){typeof e=="number"&&(e=""+e);if(typeof e!="string")return!!e;e=d.trim(e);if(f(e,t||["true","1"]))return!0;if(f(e,n||["false","0"]))return!1}};d.strip=d.trim,d.lstrip=d.ltrim,d.rstrip=d.rtrim,d.center=d.lrpad,d.rjust=d.lpad,d.ljust=d.rpad,d.contains=d.include,d.q=d.quote,d.toBool=d.toBoolean,typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(module.exports=d),exports._s=d),typeof define=="function"&&define.amd&&define("underscore.string",[],function(){return d}),e._=e._||{},e._.string=e._.str=d}(this,String),define("underscorestring",function(){}),function(){function e(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(t,n,r){return this.optional(n)||e(t).match(/\b\w+\b/g).length<=r},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(t,n,r){return this.optional(n)||e(t).match(/\b\w+\b/g).length>=r},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(t,n,r){var i=e(t),s=/\b\w+\b/g;return this.optional(n)||i.match(s).length>=r[0]&&i.match(s).length<=r[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}(),jQuery.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),jQuery.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),jQuery.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),jQuery.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx"),jQuery.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/\d{5}-\d{4}$|^\d{5}$/.test(e)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("vinUS",function(e){if(e.length!==17)return!1;var t,n,r,i,s,o,u=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],a=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],f=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],l=0;for(t=0;t<17;t++){i=f[t],r=e.slice(t,t+1),t===8&&(o=r);if(!isNaN(r))r*=i;else for(n=0;n<u.length;n++)if(r.toUpperCase()===u[n]){r=a[n],r*=i,isNaN(o)&&n===8&&(o=u[n]);break}l+=r}return s=l%11,s===10&&(s="X"),s===o?!0:!1},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("dateITA",function(e,t){var n=!1,r=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(r.test(e)){var i=e.split("/"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=new Date(u,o-1,s);a.getFullYear()===u&&a.getMonth()===o-1&&a.getDate()===s?n=!0:n=!1}else n=!1;return this.optional(t)||n},"Please enter a correct date"),jQuery.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(e))return!1;var n=e.replace(/ /g,"").toUpperCase(),r=n.substring(0,2),i={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},s=i[r];if(typeof s!="undefined"){var o=new RegExp("^[A-Z]{2}\\d{2}"+s+"$","");if(!o.test(n))return!1}var u=n.substring(4,n.length)+n.substring(0,4),a="",f=!0,l;for(var c=0;c<u.length;c++)l=u.charAt(c),l!=="0"&&(f=!1),f||(a+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(l));var h="",p="";for(var d=0;d<a.length;d++){var v=a.charAt(d);p=""+h+""+v,h=p%97}return h===1},"Please specify a valid IBAN"),jQuery.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},"Please enter a correct date"),jQuery.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),jQuery.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),jQuery.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),jQuery.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var n=e.replace(/ /g,""),r=0,i=n.length;for(var s=0;s<i;s++){var o=i-s,u=n.substring(s,s+1);r+=o*u}return r%11===0},"Please specify a valid bank account number"),jQuery.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),jQuery.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,e,t)||$.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),jQuery.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),jQuery.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),jQuery.validator.addMethod("strippedminlength",function(e,t,n){return jQuery(e).text().length>=n},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("email2",function(e,t,n){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},jQuery.validator.messages.email),jQuery.validator.addMethod("url2",function(e,t,n){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},jQuery.validator.messages.url),jQuery.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var r=0;return n.mastercard&&(r|=1),n.visa&&(r|=2),n.amex&&(r|=4),n.dinersclub&&(r|=8),n.enroute&&(r|=16),n.discover&&(r|=32),n.jcb&&(r|=64),n.unknown&&(r|=128),n.all&&(r=255),r&1&&/^(5[12345])/.test(e)?e.length===16:r&2&&/^(4)/.test(e)?e.length===16:r&4&&/^(3[47])/.test(e)?e.length===15:r&8&&/^(3(0[012345]|[68]))/.test(e)?e.length===14:r&16&&/^(2(014|149))/.test(e)?e.length===15:r&32&&/^(6011)/.test(e)?e.length===16:r&64&&/^(3)/.test(e)?e.length===16:r&64&&/^(2131|1800)/.test(e)?e.length===15:r&128?!0:!1},"Please enter a valid credit card number."),jQuery.validator.addMethod("ipv4",function(e,t,n){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(e,t,n){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("pattern",function(e,t,n){return this.optional(t)?!0:(typeof n=="string"&&(n=new RegExp("^(?:"+n+")$")),n.test(e))},"Invalid format."),jQuery.validator.addMethod("require_from_group",function(e,t,n){var r=this,i=n[1],s=$(i,t.form).filter(function(){return r.elementValue(this)}).length>=n[0];if(!$(t).data("being_validated")){var o=$(i,t.form);o.data("being_validated",!0),o.valid(),o.data("being_validated",!1)}return s},jQuery.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(e,t,n){var r=this,i=n[0],s=n[1],o=$(s,t.form).filter(function(){return r.elementValue(this)}).length,u=o>=i||o===0;if(!$(t).data("being_validated")){var a=$(s,t.form);a.data("being_validated",!0),a.valid(),a.data("being_validated",!1)}return u},jQuery.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("accept",function(e,t,n){var r=typeof n=="string"?n.replace(/\s/g,"").replace(/,/g,"|"):"image/*",i=this.optional(t),s,o;if(i)return i;if($(t).attr("type")==="file"){r=r.replace(/\*/g,".*");if(t.files&&t.files.length)for(s=0;s<t.files.length;s++){o=t.files[s];if(!o.type.match(new RegExp(".?("+r+")$","i")))return!1}}return!0},jQuery.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("extension",function(e,t,n){return n=typeof n=="string"?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+n+")$","i"))},jQuery.format("Please enter a value with a valid extension.")),define("additionalmethod",function(){}),function(e){function t(e,t){return function(n){return a(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function r(){}function i(e){w(e),o(this,e)}function s(e){var t=d(e),n=t.year||0,r=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,u=t.minute||0,a=t.second||0,f=t.millisecond||0;this._input=e,this._milliseconds=+f+1e3*a+6e4*u+36e5*o,this._days=+s+7*i,this._months=+r+12*n,this._data={},this._bubble()}function o(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){return 0>e?Math.ceil(e):Math.floor(e)}function a(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function f(e,t,n,r){var i,s,o=t._milliseconds,u=t._days,a=t._months;o&&e._d.setTime(+e._d+o*n),(u||a)&&(i=e.minute(),s=e.hour()),u&&e.date(e.date()+u*n),a&&e.month(e.month()+a*n),o&&!r&&tt.updateOffset(e),(u||a)&&(e.minute(i),e.hour(s))}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function h(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&m(e[r])!==m(t[r]))&&o++;return o+s}function p(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Bt[e]||jt[t]||t}return e}function d(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=p(n),t&&(r[t]=e[n]));return r}function v(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}tt[t]=function(i,s){var o,u,a=tt.fn._lang[t],f=[];if("number"==typeof i&&(s=i,i=e),u=function(e){var t=tt().utc().set(r,e);return a.call(tt.fn._lang,t,i||"")},null!=s)return u(s);for(o=0;n>o;o++)f.push(u(o));return f}}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function g(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function y(e){return b(e)?366:365}function b(e){return 0===e%4&&0!==e%100||0===e%400}function w(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ot]<0||e._a[ot]>11?ot:e._a[ut]<1||e._a[ut]>g(e._a[st],e._a[ot])?ut:e._a[at]<0||e._a[at]>23?at:e._a[ft]<0||e._a[ft]>59?ft:e._a[lt]<0||e._a[lt]>59?lt:e._a[ct]<0||e._a[ct]>999?ct:-1,e._pf._overflowDayOfYear&&(st>t||t>ut)&&(t=ut),e._pf.overflow=t)}function E(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function S(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function x(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t.abbr=e,ht[e]||(ht[e]=new r),ht[e].set(t),ht[e]}function N(e){delete ht[e]}function C(e){var t,n,r,i,s=0,o=function(e){if(!ht[e]&&pt)try{require("./lang/"+e)}catch(t){}return ht[e]};if(!e)return tt.fn._lang;if(!l(e)){if(n=o(e))return n;e=[e]}for(;s<e.length;){for(i=x(e[s]).split("-"),t=i.length,r=x(e[s+1]),r=r?r.split("-"):null;t>0;){if(n=o(i.slice(0,t).join("-")))return n;if(r&&r.length>=t&&h(i,r,!0)>=t-1)break;t--}s++}return tt.fn._lang}function k(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,r=e.match(gt);for(t=0,n=r.length;n>t;t++)r[t]=Rt[r[t]]?Rt[r[t]]:k(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function A(e,t){return e.isValid()?(t=O(t,e.lang()),Ft[t]||(Ft[t]=L(t)),Ft[t](e)):e.lang().invalidDate()}function O(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(yt.lastIndex=0;r>=0&&yt.test(e);)e=e.replace(yt,n),yt.lastIndex=0,r-=1;return e}function M(e,t){var n;switch(e){case"DDDD":return Et;case"YYYY":case"GGGG":case"gggg":return St;case"YYYYY":case"GGGGG":case"ggggg":return xt;case"S":case"SS":case"SSS":case"DDD":return wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Nt;case"a":case"A":return C(t._l)._meridiemParse;case"X":return Lt;case"Z":case"ZZ":return Ct;case"T":return kt;case"SSSS":return Tt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;default:return n=new RegExp(I(F(e.replace("\\","")),"i"))}}function _(e){var t=(Ct.exec(e)||[])[0],n=(t+"").match(Dt)||["-",0,0],r=+(60*n[1])+m(n[2]);return"+"===n[0]?-r:r}function D(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":null!=t&&(i[ot]=m(t)-1);break;case"MMM":case"MMMM":r=C(n._l).monthsParse(t),null!=r?i[ot]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[ut]=m(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=m(t));break;case"YY":i[st]=m(t)+(m(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":i[st]=m(t);break;case"a":case"A":n._isPm=C(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[at]=m(t);break;case"m":case"mm":i[ft]=m(t);break;case"s":case"ss":i[lt]=m(t);break;case"S":case"SS":case"SSS":case"SSSS":i[ct]=m(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=_(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function P(e){var t,n,r,i,s,o,u,a,f,l,c=[];if(!e._d){for(r=B(e),e._w&&null==e._a[ut]&&null==e._a[ot]&&(s=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[st]?tt().weekYear():e._a[st]},o=e._w,null!=o.GG||null!=o.W||null!=o.E?u=K(s(o.GG),o.W||1,o.E,4,1):(a=C(e._l),f=null!=o.d?X(o.d,a):null!=o.e?parseInt(o.e,10)+a._week.dow:0,l=parseInt(o.w,10)||1,null!=o.d&&f<a._week.dow&&l++,u=K(s(o.gg),l,f,a._week.doy,a._week.dow)),e._a[st]=u.year,e._dayOfYear=u.dayOfYear),e._dayOfYear&&(i=null==e._a[st]?r[st]:e._a[st],e._dayOfYear>y(i)&&(e._pf._overflowDayOfYear=!0),n=W(i,0,e._dayOfYear),e._a[ot]=n.getUTCMonth(),e._a[ut]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=c[t]=r[t];for(;7>t;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];c[at]+=m((e._tzm||0)/60),c[ft]+=m((e._tzm||0)%60),e._d=(e._useUTC?W:z).apply(null,c)}}function H(e){var t;e._d||(t=d(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],P(e))}function B(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function j(e){e._a=[],e._pf.empty=!0;var t,n,r,i,s,o=C(e._l),u=""+e._i,a=u.length,f=0;for(r=O(e._f,o).match(gt)||[],t=0;t<r.length;t++)i=r[t],n=(M(i,e).exec(u)||[])[0],n&&(s=u.substr(0,u.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),f+=n.length),Rt[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),D(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=a-f,u.length>0&&e._pf.unusedInput.push(u),e._isPm&&e._a[at]<12&&(e._a[at]+=12),e._isPm===!1&&12===e._a[at]&&(e._a[at]=0),P(e),w(e)}function F(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function I(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e){var t,n,r,i,s;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(i=0;i<e._f.length;i++)s=0,t=o({},e),E(t),t._f=e._f[i],j(t),S(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==r||r>s)&&(r=s,n=t));o(e,n||t)}function R(e){var t,n=e._i,r=At.exec(n);if(r){for(e._pf.iso=!0,t=4;t>0;t--)if(r[t]){e._f=Mt[t-1]+(r[6]||" ");break}for(t=0;4>t;t++)if(_t[t][1].exec(n)){e._f+=_t[t][0];break}Ct.exec(n)&&(e._f+="Z"),j(e)}else e._d=new Date(n)}function U(t){var n=t._i,r=dt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?R(t):l(n)?(t._a=n.slice(0),P(t)):c(n)?t._d=new Date(+n):"object"==typeof n?H(t):t._d=new Date(n)}function z(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return 1970>e&&u.setFullYear(e),u}function W(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function V(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function $(e,t,n){var r=it(Math.abs(e)/1e3),i=it(r/60),s=it(i/60),o=it(s/24),u=it(o/365),a=45>r&&["s",r]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",it(o/30)]||1===u&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,V.apply({},a)}function J(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=tt(e).add("d",s),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function K(e,t,n,r,i){var s,o,u=(new Date(Date.UTC(e,0))).getUTCDay();return n=null!=n?n:i,s=i-u+(u>r?7:0),o=7*(t-1)+(n-i)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:y(e-1)+o}}function Q(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&E(e),null===t?tt.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=C().preparse(t)),tt.isMoment(t)?(e=o({},t),e._d=new Date(+t._d)):n?l(n)?q(e):j(e):U(e),new i(e))}function G(e,t){tt.fn[e]=tt.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),tt.updateOffset(this),this):this._d["get"+n+t]()}}function Y(e){tt.duration.fn[e]=function(){return this._data[e]}}function Z(e,t){tt.duration.fn["as"+e]=function(){return+this/t}}function et(e){var t=!1,n=tt;"undefined"==typeof ender&&(this.moment=e?function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:tt)}for(var tt,nt,rt="2.4.0",it=Math.round,st=0,ot=1,ut=2,at=3,ft=4,lt=5,ct=6,ht={},pt="undefined"!=typeof module&&module.exports,dt=/^\/?Date\((\-?\d+)/i,vt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,mt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,gt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,wt=/\d{1,3}/,Et=/\d{3}/,St=/\d{1,4}/,xt=/[+\-]?\d{1,6}/,Tt=/\d+/,Nt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ct=/Z|[\+\-]\d\d:?\d\d/i,kt=/T/i,Lt=/[\+\-]?\d+(\.\d{1,3})?/,At=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ot="YYYY-MM-DDTHH:mm:ssZ",Mt=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],_t=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Dt=/([\+\-]|\d\d)/gi,Pt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ht={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Bt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},jt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ft={},It="DDD w W M D d".split(" "),qt="M D H h m s w W".split(" "),Rt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},YYYYY:function(){return a(this.year(),5)},gg:function(){return a(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return a(this.weekYear(),5)},GG:function(){return a(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return a(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return m(this.milliseconds()/100)},SS:function(){return a(m(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},SSSS:function(){return a(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(m(e/60),2)+":"+a(m(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+a(m(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Ut=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];It.length;)nt=It.pop(),Rt[nt+"o"]=n(Rt[nt],nt);for(;qt.length;)nt=qt.pop(),Rt[nt+nt]=t(Rt[nt],2);for(Rt.DDDD=t(Rt.DDD,3),o(r.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=tt.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=tt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return J(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tt=function(t,n,r,i){return"boolean"==typeof r&&(i=r,r=e),Q({_i:t,_f:n,_l:r,_strict:i,_isUTC:!1})},tt.utc=function(t,n,r,i){var s;return"boolean"==typeof r&&(i=r,r=e),s=Q({_useUTC:!0,_isUTC:!0,_l:r,_i:t,_f:n,_strict:i}).utc()},tt.unix=function(e){return tt(1e3*e)},tt.duration=function(e,t){var n,r,i,o=tt.isDuration(e),u="number"==typeof e,a=o?e._input:u?{}:e,f=null;return u?t?a[t]=e:a.milliseconds=e:(f=vt.exec(e))?(n="-"===f[1]?-1:1,a={y:0,d:m(f[ut])*n,h:m(f[at])*n,m:m(f[ft])*n,s:m(f[lt])*n,ms:m(f[ct])*n}):(f=mt.exec(e))&&(n="-"===f[1]?-1:1,i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},a={y:i(f[2]),M:i(f[3]),d:i(f[4]),h:i(f[5]),m:i(f[6]),s:i(f[7]),w:i(f[8])}),r=new s(a),o&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},tt.version=rt,tt.defaultFormat=Ot,tt.updateOffset=function(){},tt.lang=function(e,t){var n;return e?(t?T(x(e),t):null===t?(N(e),e="en"):ht[e]||C(e),n=tt.duration.fn._lang=tt.fn._lang=C(e),n._abbr):tt.fn._lang._abbr},tt.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),C(e)},tt.isMoment=function(e){return e instanceof i},tt.isDuration=function(e){return e instanceof s},nt=Ut.length-1;nt>=0;--nt)v(Ut[nt]);for(tt.normalizeUnits=function(e){return p(e)},tt.invalid=function(e){var t=tt.utc(0/0);return null!=e?o(t._pf,e):t._pf.userInvalidated=!0,t},tt.parseZone=function(e){return tt(e).parseZone()},o(tt.fn=i.prototype,{clone:function(){return tt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return A(tt(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?tt.utc(this._a):tt(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=A(this,e||tt.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),f(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?tt.duration(+t,e):tt.duration(e,t),f(this,n,-1),this},diff:function(e,t,n){var r,i,s=this._isUTC?tt(e).zone(this._offset||0):tt(e).local(),o=6e4*(this.zone()-s.zone());return t=p(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-tt(this).startOf("month")-(s-tt(s).startOf("month")))/r,i-=6e4*(this.zone()-tt(this).startOf("month").zone()-(s.zone()-tt(s).startOf("month").zone()))/r,"year"===t&&(i/=12)):(r=this-s,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?i:u(i)},from:function(e,t){return tt.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(tt(),e)},calendar:function(){var e=this.diff(tt().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return b(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),tt.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=p(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=p(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+tt(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+tt(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+tt(e).startOf(t)},min:function(e){return e=tt.apply(null,arguments),this>e?this:e},max:function(e){return e=tt.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=_(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&f(this,tt.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?tt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return g(this.year(),this.month())},dayOfYear:function(e){var t=it((tt(this).startOf("day")-tt(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=J(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=J(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=p(e),this[e]()},set:function(e,t){return e=p(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=C(t),this)}}),nt=0;nt<Pt.length;nt++)G(Pt[nt].toLowerCase().replace(/s$/,""),Pt[nt]);G("year","FullYear"),tt.fn.days=tt.fn.day,tt.fn.months=tt.fn.month,tt.fn.weeks=tt.fn.week,tt.fn.isoWeeks=tt.fn.isoWeek,tt.fn.toJSON=tt.fn.toISOString,o(tt.duration.fn=s.prototype,{_bubble:function(){var e,t,n,r,i=this._milliseconds,s=this._days,o=this._months,a=this._data;a.milliseconds=i%1e3,e=u(i/1e3),a.seconds=e%60,t=u(e/60),a.minutes=t%60,n=u(t/60),a.hours=n%24,s+=u(n/24),a.days=s%30,o+=u(s/30),a.months=o%12,r=u(o/12),a.years=r},weeks:function(){return u(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*m(this._months/12)},humanize:function(e){var t=+this,n=$(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=tt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=tt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=p(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=p(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:tt.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(nt in Ht)Ht.hasOwnProperty(nt)&&(Z(nt,Ht[nt]),Y(nt.toLowerCase()));Z("Weeks",6048e5),tt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},tt.lang("en",{ordinal:function(e){var t=e%10,n=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),pt?(module.exports=tt,et(!0)):"function"==typeof define&&define.amd?define("moment",["require","exports","module"],function(t,n,r){return r.config().noGlobal!==!0&&et(r.config().noGlobal===e),tt}):et()}.call(this),!function(e,t){function n(e,t){for(var n,r=[],i=0;i<e.length;++i){if(n=u[e[i]]||s(e[i]),!n)throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){u[e]=i.apply(null,arguments)})}function i(e){return!!u[e]}function s(t){for(var n=e,r=t.split(/[.\/]/),i=0;i<r.length;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){for(var r=0;r<n.length;r++){for(var i=e,s=n[r],o=s.split(/[.\/]/),a=0;a<o.length-1;++a)i[o[a]]===t&&(i[o[a]]={}),i=i[o[a]];i[o[o.length-1]]=u[s]}}var u={},a="moxie/core/utils/Basic",f="moxie/core/I18n",l="moxie/core/utils/Mime",c="moxie/core/utils/Env",h="moxie/core/utils/Dom",p="moxie/core/Exceptions",d="moxie/core/EventTarget",v="moxie/core/utils/Encode",m="moxie/runtime/Runtime",g="moxie/runtime/RuntimeClient",y="moxie/file/Blob",b="moxie/file/File",w="moxie/file/FileInput",E="moxie/file/FileDrop",S="moxie/runtime/RuntimeTarget",x="moxie/file/FileReader",T="moxie/core/utils/Url",N="moxie/file/FileReaderSync",C="moxie/xhr/FormData",k="moxie/xhr/XMLHttpRequest",L="moxie/runtime/Transporter",A="moxie/core/JSON",O="moxie/image/Image",M="moxie/runtime/html5/Runtime",_="moxie/runtime/html5/file/Blob",D="moxie/core/utils/Events",P="moxie/runtime/html5/file/FileInput",H="moxie/runtime/html5/file/FileDrop",B="moxie/runtime/html5/file/FileReader",j="moxie/runtime/html5/xhr/XMLHttpRequest",F="moxie/runtime/html5/utils/BinaryReader",I="moxie/runtime/html5/image/JPEGHeaders",q="moxie/runtime/html5/image/ExifParser",R="moxie/runtime/html5/image/JPEG",U="moxie/runtime/html5/image/PNG",z="moxie/runtime/html5/image/ImageInfo",W="moxie/runtime/html5/image/MegaPixel",X="moxie/runtime/html5/image/Image",V="moxie/runtime/flash/Runtime",$="moxie/runtime/flash/file/Blob",J="moxie/runtime/flash/file/FileInput",K="moxie/runtime/flash/file/FileReader",Q="moxie/runtime/flash/file/FileReaderSync",G="moxie/runtime/flash/xhr/XMLHttpRequest",Y="moxie/runtime/flash/runtime/Transporter",Z="moxie/runtime/flash/image/Image",et="moxie/runtime/silverlight/Runtime",tt="moxie/runtime/silverlight/file/Blob",nt="moxie/runtime/silverlight/file/FileInput",rt="moxie/runtime/silverlight/file/FileDrop",it="moxie/runtime/silverlight/file/FileReader",st="moxie/runtime/silverlight/file/FileReaderSync",ot="moxie/runtime/silverlight/xhr/XMLHttpRequest",ut="moxie/runtime/silverlight/runtime/Transporter",at="moxie/runtime/silverlight/image/Image",ft="moxie/runtime/html4/Runtime",lt="moxie/runtime/html4/file/FileInput",ct="moxie/runtime/html4/file/FileReader",ht="moxie/runtime/html4/xhr/XMLHttpRequest",pt="moxie/runtime/html4/image/Image";r(a,[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(r){var i;return n(arguments,function(o,u){u>0&&n(o,function(n,o){n!==i&&(e(r[o])===e(n)&&~s(e(n),["array","object"])?t(r[o],n):r[o]=n)})}),r},n=function(e,t){var n,r,i,s;if(e){try{n=e.length}catch(o){n=s}if(n===s){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(i=0;n>i;i++)if(t(e[i],i)===!1)return}},r=function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},i=function(t,n){function r(i){"function"===e(t[i])&&t[i](function(e){++i<s&&!e?r(i):n(e)})}var i=0,s=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),r(i)},s=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n}return-1},o=function(t,n){var r=[];"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]);for(var i in t)-1===s(t[i],n)&&r.push(t[i]);return r.length?r:!1},u=function(e,t){var r=[];return n(e,function(e){-1!==s(e,t)&&r.push(e)}),r.length?r:null},a=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},f=function(){var e=0;return function(t){var n=(new Date).getTime().toString(32),r;for(r=0;5>r;r++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}(),l=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},c=function(e){if("string"!=typeof e)return e;var t={t:1099511627776,g:1073741824,m:1048576,k:1024},n;return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),n=e[2],e=+e[1],t.hasOwnProperty(n)&&(e*=t[n]),e};return{guid:f,typeOf:e,extend:t,each:n,isEmptyObj:r,inSeries:i,inArray:s,arrayDiff:o,arrayIntersect:u,toArray:a,trim:l,parseSizeStr:c}}),r(f,[a],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1),r="";return e.each(t.split(/%[a-z]/),function(e){r+=e,n.length&&(r+=n.shift())}),r}}}),r(l,[a,f],function(e,t){var n="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/mp4,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",r={mimes:{},extensions:{},addMimeType:function(e){var t=e.split(/,/),n,r,i;for(n=0;n<t.length;n+=2){for(i=t[n+1].split(/ /),r=0;r<i.length;r++)this.mimes[i[r]]=t[n];this.extensions[t[n]]=i}},extList2mimes:function(t,n){var r=this,i,s,o,u,a=[];for(s=0;s<t.length;s++)for(i=t[s].extensions.split(/\s*,\s*/),o=0;o<i.length;o++){if("*"===i[o])return[];if(u=r.mimes[i[o]])-1===e.inArray(u,a)&&a.push(u);else{if(!n||!/^\w+$/.test(i[o]))return[];a.push("."+i[o])}}return a},mimes2exts:function(t){var n=this,r=[];return e.each(t,function(t){if("*"===t)return r=[],!1;var i=t.match(/^(\w+)\/(\*|\w+)$/);i&&("*"===i[2]?e.each(n.extensions,function(e,t){(new RegExp("^"+i[1]+"/")).test(t)&&[].push.apply(r,n.extensions[t])}):n.extensions[t]&&[].push.apply(r,n.extensions[t]))}),r},mimes2extList:function(n){var r=[],i=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),i=this.mimes2exts(n),r.push({title:t.translate("Files"),extensions:i.length?i.join(","):"*"}),r.mimes=n,r},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return r.addMimeType(n),r}),r(c,[a],function(e){function t(e){for(var t,n,r=0;r<e.length;r++)if(t=e[r].s1,n=e[r].prop,s=e[r].sv||e[r].id,t){if(-1!=t.indexOf(e[r].s2))return e[r].id}else if(n)return e[r].id}function n(e){var t=e.indexOf(s);if(-1!=t)return parseFloat(e.substring(t+s.length+1))}var r=[{s1:navigator.userAgent,s2:"Android",id:"Android Browser",sv:"Version"},{s1:navigator.userAgent,s2:"Chrome",id:"Chrome"},{s1:navigator.vendor,s2:"Apple",id:"Safari",sv:"Version"},{prop:window.opera&&window.opera.buildNumber,id:"Opera",sv:"Version"},{s1:navigator.vendor,s2:"KDE",id:"Konqueror"},{s1:navigator.userAgent,s2:"Firefox",id:"Firefox"},{s1:navigator.vendor,s2:"Camino",id:"Camino"},{s1:navigator.userAgent,s2:"Netscape",id:"Netscape"},{s1:navigator.userAgent,s2:"MSIE",id:"IE",sv:"MSIE"},{s1:navigator.userAgent,s2:"Gecko",id:"Mozilla",sv:"rv"}],i=[{s1:navigator.platform,s2:"Win",id:"Windows"},{s1:navigator.platform,s2:"Mac",id:"Mac"},{s1:navigator.userAgent,s2:"iPhone",id:"iOS"},{s1:navigator.userAgent,s2:"iPad",id:"iOS"},{s1:navigator.userAgent,s2:"Android",id:"Android"},{s1:navigator.platform,s2:"Linux",id:"Linux"}],s,o=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType!==t?!1:!0}}catch(r){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==u.browser||u.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(n){var r=[].slice.call(arguments);return r.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,r):!!t[n]}}(),u={can:o,browser:t(r),version:n(navigator.userAgent)||n(navigator.appVersion),OS:t(i),swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return u}),r(h,[c],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},n=function(e,t){var n;return""===e.className?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},r=function(e,t){n(e,t)||(e.className=""===e.className?t:e.className.replace(/\s+$/,"")+" "+t)},i=function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})},s=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},o=function(t,n){function r(e){var t,n,r=0,i=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===u.compatMode?u.documentElement:u.body,r=n.left+t.scrollLeft,i=n.top+t.scrollTop),{x:r,y:i}}var i=0,s=0,o,u=document,a,f;if(t=t,n=n||u.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!u.documentMode||u.documentMode<8))return a=r(t),f=r(n),{x:a.x-f.x,y:a.y-f.y};for(o=t;o&&o!=n&&o.nodeType;)i+=o.offsetLeft||0,s+=o.offsetTop||0,o=o.offsetParent;for(o=t.parentNode;o&&o!=n&&o.nodeType;)i-=o.scrollLeft||0,s-=o.scrollTop||0,o=o.parentNode;return{x:i,y:s}},u=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:r,removeClass:i,getStyle:s,getPos:o,getSize:u}}),r(p,[a],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": RuntimeError "+this.code}var r={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,r),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": ImageError "+this.code}var r={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,r),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": FileException "+this.code}var r={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,r),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(r,e),this.message=this.name+": DOMException "+this.code}var r={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,r),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),r(d,[p,a],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,r,i,s){var o=this,u;return e=t.trim(e),/\s/.test(e)?(t.each(e.split(/\s+/),function(e){o.addEventListener(e,r,i,s)}),void 0):(e=e.toLowerCase(),i=parseInt(i,10)||0,u=n[this.uid]&&n[this.uid][e]||[],u.push({fn:r,priority:i,scope:s||this}),n[this.uid]||(n[this.uid]={}),n[this.uid][e]=u,void 0)},hasEventListener:function(e){return e?!!n[this.uid]&&!!n[this.uid][e]:!!n[this.uid]},removeEventListener:function(e,r){e=e.toLowerCase();var i=n[this.uid]&&n[this.uid][e],s;if(i){if(r){for(s=i.length-1;s>=0;s--)if(i[s].fn===r){i.splice(s,1);break}}else i=[];i.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(r){var i,s,o,u,a={};if("string"!==t.typeOf(r)){if(u=r,"string"!==t.typeOf(u.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);r=u.type,u.total&&u.loaded&&(a.total=u.total,a.loaded=u.loaded),a.async=u.async||!1}if(-1!==r.indexOf("::")?function(e){i=e[0],r=e[1]}(r.split("::")):i=this.uid,r=r.toLowerCase(),s=n[i]&&n[i][r]){s.sort(function(e,t){return t.priority-e.priority}),o=[].slice.call(arguments),o.shift(),a.type=r,o.unshift(a);var f=[];t.each(s,function(e){o[0].target=e.scope,a.async?f.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,o)===!1)},1)}):f.push(function(t){t(e.fn.apply(e.scope,o)===!1)})}),f.length&&t.inSeries(f)}return!0},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;"array"!==t.typeOf(e)&&(e=[e]);for(var r=0;r<e.length;r++)n="on"+e[r],"function"===t.typeOf(this[n])?this.addEventListener(e[r],this[n]):"undefined"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),r(v,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,u,a,f,l,c,h=0,p=0,d="",v=[];if(!e)return e;e+="";do u=r.indexOf(e.charAt(h++)),a=r.indexOf(e.charAt(h++)),f=r.indexOf(e.charAt(h++)),l=r.indexOf(e.charAt(h++)),c=u<<18|a<<12|f<<6|l,i=255&c>>16,s=255&c>>8,o=255&c,v[p++]=64==f?String.fromCharCode(i):64==l?String.fromCharCode(i,s):String.fromCharCode(i,s,o);while(h<e.length);return d=v.join(""),n?t(d):d},r=function(t,n){if(n&&e(t),"function"==typeof window.btoa)return window.btoa(t);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,s,o,u,a,f,l,c,h=0,p=0,d="",v=[];if(!t)return t;do i=t.charCodeAt(h++),s=t.charCodeAt(h++),o=t.charCodeAt(h++),c=i<<16|s<<8|o,u=63&c>>18,a=63&c>>12,f=63&c>>6,l=63&c,v[p++]=r.charAt(u)+r.charAt(a)+r.charAt(f)+r.charAt(l);while(h<t.length);d=v.join("");var m=t.length%3;return(m?d.slice(0,m-3):d)+"===".slice(m||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:r}}),r(m,[a,h,d],function(e,t,n){function r(n,i,o,u,a){function f(t,r){var i=null,s=n&&n.required_caps;return r=r||"browser",null!==this.mode?this.mode:(s&&!e.isEmptyObj(t)&&(e.each(s,function(n,r){if(t.hasOwnProperty(r)){var s=t[r](n);if("string"==typeof s&&(s=[s]),i){if(!(i=e.arrayIntersect(i,s)))return i=!1}else i=s}}),i?this.mode=-1!==e.inArray(r,i)?r:i[0]:i===!1&&(this.mode=!1)),null===this.mode&&(this.mode=r),this.mode&&s&&!this.can(s)&&(this.mode=!1),void 0)}var l=this,c,h=e.guid(i+"_");s[h]=this,o=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),c=function(){var t={};return{exec:function(e,n,r,i){return c[n]&&(t[e]||(t[e]={context:this,instance:new c[n]}),t[e].instance[r])?t[e].instance[r].apply(this,i):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,r){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(r)})}}}(),e.extend(this,{initialized:!1,uid:h,type:i,mode:null,shimid:h+"_container",clients:0,options:n,can:function(t,n){var i=arguments[2]||o;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(n)&&(t=r.parseCaps(t)),"object"===e.typeOf(t)){for(var s in t)if(!this.can(s,t[s],i))return!1;return!0}return"function"===e.typeOf(i[t])?i[t].call(this,n):n===i[t]},getShimContainer:function(){var n,r=t.get(this.shimid);return r||(n=this.options.container?t.get(this.options.container):document.body,r=document.createElement("div"),r.id=this.shimid,r.className="moxie-shim moxie-shim-"+this.type,e.extend(r.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(r),n=null),r},getShim:function(){return c},shimExec:function(e,t){var n=[].slice.call(arguments,2);return l.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return l[e]&&l[e][t]?l[e][t].apply(this,n):l.shimExec.apply(this,arguments)},destroy:function(){if(l){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete s[this.uid],this.uid=null,h=l=c=e=null}}}),f.call(this,u,a)}var i={},s={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return s[e]?s[e]:!1},r.addConstructor=function(e,t){t.prototype=n.instance,i[e]=t},r.getConstructor=function(e){return i[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(t){var n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},r.can=function(e,t){var n,i=r.getConstructor(e),s;return i?(n=new i({required_caps:t}),s=n.mode,n.destroy(),!!s):!1},r.thatCan=function(e,t){var n=(t||r.order).split(/\s*,\s*/);for(var i in n)if(r.can(n[i],e))return n[i];return null},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),r(g,[p,a,m],function(e,t,n){return function r(){var r;t.extend(this,{connectRuntime:function(i){function s(t){var u,a;return t.length?(u=t.shift(),(a=n.getConstructor(u))?(r=new a(i),r.bind("Init",function(){r.initialized=!0,setTimeout(function(){r.clients++,o.trigger("RuntimeInit",r)},1)}),r.bind("Error",function(){r.destroy(),s(t)}),r.mode?(r.init(),void 0):(r.trigger("Error"),void 0)):(s(t),void 0)):(o.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),r=null,void 0)}var o=this,u;if("string"===t.typeOf(i)?u=i:"string"===t.typeOf(i.ruid)&&(u=i.ruid),u){if(r=n.getRuntime(u))return r.clients++,r;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}s((i.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return r&&r.uid?r:(r=null,null)},disconnectRuntime:function(){r&&--r.clients<=0&&(r.destroy(),r=null)}})}}),r(y,[a,v,g],function(e,t,n){function r(s,o){function u(t,n,s){var o,u=i[this.uid];return"string"===e.typeOf(u)&&u.length?(o=new r(null,{type:s,size:n-t}),o.detach(u.substr(t,o.size)),o):null}n.call(this),s&&this.connectRuntime(s),o?"string"===e.typeOf(o)&&(o={data:o}):o={},e.extend(this,{uid:o.uid||e.guid("uid_"),ruid:s,size:o.size||0,type:o.type||"",slice:function(e,t,n){return this.isDetached()?u.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return i[this.uid]?i[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy",i[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,i[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(i[this.uid])},destroy:function(){this.detach(),delete i[this.uid]}}),o.data?this.detach(o.data):i[this.uid]=o}var i={};return r}),r(b,[a,l,y],function(e,t,n){function r(r,i){var s,o;if(i||(i={}),o=i.type&&""!==i.type?i.type:t.getFileMime(i.name),i.name)s=i.name.replace(/\\/g,"/"),s=s.substr(s.lastIndexOf("/")+1);else{var u=o.split("/")[0];s=e.guid((""!==u?u:"file")+"_"),t.extensions[o]&&(s+="."+t.extensions[o][0])}n.apply(this,arguments),e.extend(this,{type:o||"",name:s||e.guid("file_"),lastModifiedDate:i.lastModifiedDate||(new Date).toLocaleString()})}return r.prototype=n.prototype,r}),r(w,[a,l,h,p,d,f,b,m,g],function(e,t,n,r,i,s,o,u,a){function f(i){var f=this,c,h,p;if(-1!==e.inArray(e.typeOf(i),["string","node"])&&(i={browse_button:i}),h=n.get(i.browse_button),!h)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);p={accept:[{title:s.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:h.parentNode||document.body},i=e.extend({},p,i),"string"==typeof i.required_caps&&(i.required_caps=u.parseCaps(i.required_caps)),"string"==typeof i.accept&&(i.accept=t.mimes2extList(i.accept)),c=n.get(i.container),c||(c=document.body),"static"===n.getStyle(c,"position")&&(c.style.position="relative"),c=h=null,a.call(f),e.extend(f,{uid:e.guid("uid_"),ruid:null,files:null,init:function(){f.convertEventPropsToHandlers(l),f.bind("RuntimeInit",function(t,r){f.ruid=r.uid,f.bind("Ready",function(){f.trigger("Refresh")},999),f.bind("Change",function(){var t=r.exec.call(f,"FileInput","getFiles");f.files=[],e.each(t,function(e){return 0===e.size?!0:(f.files.push(new o(f.ruid,e)),void 0)})},999),f.bind("Refresh",function(){var t,s,o,u;o=n.get(i.browse_button),u=n.get(r.shimid),o&&(t=n.getPos(o,n.get(i.container)),s=n.getSize(o),u&&e.extend(u.style,{top:t.y+"px",left:t.x+"px",width:s.w+"px",height:s.h+"px"})),u=o=null}),r.exec.call(f,"FileInput","init",i)}),f.connectRuntime(e.extend({},i,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){f.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return f.prototype=i.instance,f}),r(E,[f,h,p,a,b,g,d,l],function(e,t,n,r,i,s,o,u){function a(n){var o=this,a;"string"==typeof n&&(n={drop_zone:n}),a={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof n?r.extend({},a,n):a,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=u.mimes2extList(n.accept)),s.call(o),r.extend(o,{uid:r.guid("uid_"),ruid:null,files:null,init:function(){o.convertEventPropsToHandlers(f),o.bind("RuntimeInit",function(e,t){o.ruid=t.uid,o.bind("Drop",function(){var e=t.exec.call(o,"FileDrop","getFiles");o.files=[],r.each(e,function(e){o.files.push(new i(o.ruid,e))})},999),t.exec.call(o,"FileDrop","init",n),o.dispatchEvent("ready")}),o.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var f=["ready","dragenter","dragleave","drop","error"];return a.prototype=o.instance,a}),r(S,[a,g,d],function(e,t,n){function r(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return r.prototype=n.instance,r}),r(x,[a,v,p,d,y,b,S],function(e,t,n,r,i,s,o){function u(){function r(e,r){function l(e){s.readyState=u.DONE,s.error=e,s.trigger("error"),c()}function c(){f.destroy(),f=null,s.trigger("loadend")}function h(t){f.bind("Error",function(e,t){l(t)}),f.bind("Progress",function(e){s.result=t.exec.call(f,"FileReader","getResult"),s.trigger(e)}),f.bind("Load",function(e){s.readyState=u.DONE,s.result=t.exec.call(f,"FileReader","getResult"),s.trigger(e),c()}),t.exec.call(f,"FileReader","read",e,r)}if(f=new o,this.convertEventPropsToHandlers(a),this.readyState===u.LOADING)return l(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=u.LOADING,this.trigger("loadstart"),r instanceof i)if(r.isDetached()){var p=r.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=p;break;case"readAsDataURL":this.result="data:"+r.type+";base64,"+t.btoa(p)}this.readyState=u.DONE,this.trigger("load"),c()}else h(f.connectRuntime(r.ruid));else l(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var s=this,f;e.extend(this,{uid:e.guid("uid_"),readyState:u.EMPTY,result:null,error:null,readAsBinaryString:function(e){r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){r.call(this,"readAsDataURL",e)},readAsText:function(e){r.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[u.EMPTY,u.DONE])&&(this.readyState===u.LOADING&&(this.readyState=u.DONE),f&&f.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),f&&(f.getRuntime().exec.call(this,"FileReader","destroy"),f.disconnectRuntime()),s=f=null}})}var a=["loadstart","progress","load","abort","error","loadend"];return u.EMPTY=0,u.LOADING=1,u.DONE=2,u.prototype=r.instance,u}),r(T,[],function(){var e=function(e){for(var t=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],n=t.length,r={http:80,https:443},i={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,o=s.exec(e||"");n--;)o[n]&&(i[t[n]]=o[n]);if(/^[^\/]/.test(i.path)&&!i.scheme){var u=document.location.pathname;/(\/|\/[^\.]+)$/.test(u)||(u=u.replace(/[^\/]+$/,"")),i.host=document.location.hostname,i.path=u+(i.path||"")}return i.scheme||(i.scheme=document.location.protocol.replace(/:$/,"")),i.host||(i.host=document.location.hostname),i.port||(i.port=document.location.port||r[i.scheme]||80),i.port=parseInt(i.port,10),i.path||(i.path="/"),delete i.source,i},t=function(t){var n={http:80,https:443},r=e(t);return r.scheme+"://"+r.host+(r.port!==n[r.scheme]?":"+r.port:"")+r.path+(r.query?r.query:"")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),r(N,[a,g,v],function(e,t,n){return function(){function r(e,t){if(!t.isDetached()){var r=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),r}var i=t.getSource();switch(e){case"readAsBinaryString":return i;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(i);case"readAsText":for(var s="",o=0,u=i.length;u>o;o++)s+=String.fromCharCode(i[o]);return s}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return r.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return r.call(this,"readAsDataURL",e)},readAsText:function(e){return r.call(this,"readAsText",e)}})}}),r(C,[p,a,y],function(e,t,n){function r(){var e,r={},i="";t.extend(this,{append:function(i,s){var o=this,u=t.typeOf(s);s instanceof n?(e&&delete r[e],e=i,r[i]=[s]):"array"===u?(i+="[]",t.each(s,function(e){o.append.call(o,i,e)})):"object"===u?t.each(s,function(e,t){o.append.call(o,i+"["+t+"]",e)}):(s=s.toString(),r[i]||(r[i]=[]),r[i].push(s))},hasBlob:function(){return!!e},getBlob:function(){return r[e]&&r[e][0]||null},getBlobName:function(){return e||null},each:function(e){t.each(r,function(n,r){t.each(n,function(t){e(t,r)})})},destroy:function(){e=null,i="",r={}}})}return r}),r(k,[a,p,d,v,T,m,S,y,N,C,c,l],function(e,t,n,r,i,s,o,u,a,f,l,c){function h(){this.uid=e.guid("uid_")}function p(){function n(e,t){return y.hasOwnProperty(e)?1===arguments.length?l.can("define_property")?y[e]:g[e]:(l.can("define_property")?y[e]=t:g[e]=t,void 0):void 0}function a(t){function r(){F.destroy(),F=null,u.dispatchEvent("loadend"),u=null}function i(i){F.bind("LoadStart",function(e){n("readyState",p.LOADING),u.dispatchEvent("readystatechange"),u.dispatchEvent(e),A&&u.upload.dispatchEvent(e)}),F.bind("Progress",function(e){n("readyState")!==p.LOADING&&(n("readyState",p.LOADING),u.dispatchEvent("readystatechange")),u.dispatchEvent(e)}),F.bind("UploadProgress",function(e){A&&u.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),F.bind("Load",function(t){n("readyState",p.DONE),n("status",Number(i.exec.call(F,"XMLHttpRequest","getStatus")||0)),n("statusText",d[n("status")]||""),n("response",i.exec.call(F,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),I=i.exec.call(F,"XMLHttpRequest","getAllResponseHeaders"),u.dispatchEvent("readystatechange"),n("status")>0?(A&&u.upload.dispatchEvent(t),u.dispatchEvent(t)):(M=!0,u.dispatchEvent("error")),r()}),F.bind("Abort",function(e){u.dispatchEvent(e),r()}),F.bind("Error",function(e){M=!0,n("readyState",p.DONE),u.dispatchEvent("readystatechange"),O=!0,u.dispatchEvent(e),r()}),i.exec.call(F,"XMLHttpRequest","send",{url:w,method:E,async:b,user:x,password:T,headers:S,mimeType:C,encoding:N,responseType:u.responseType,withCredentials:u.withCredentials,options:j},t)}var u=this;D=(new Date).getTime(),F=new o,"string"==typeof j.required_caps&&(j.required_caps=s.parseCaps(j.required_caps)),j.required_caps=e.extend({},j.required_caps,{return_response_type:u.responseType}),t instanceof f&&(j.required_caps.send_multipart=!0),_||(j.required_caps.do_cors=!0),j.ruid?i(F.connectRuntime(j)):(F.bind("RuntimeInit",function(e,t){i(t)}),F.bind("RuntimeError",function(e,t){u.dispatchEvent("RuntimeError",t)}),F.connectRuntime(j))}function m(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),D=P=null}var g=this,y={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},b=!0,w,E,S={},x,T,N=null,C=null,k=!1,L=!1,A=!1,O=!1,M=!1,_=!1,D,P,H=null,B=null,j={},F,I="",q;e.extend(this,y,{uid:e.guid("uid_"),upload:new h,open:function(s,o,u,a,f){var l;if(!s||!o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(s)||r.utf8_encode(s)!==s)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(s.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(E=s.toUpperCase()),~e.inArray(E,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(o=r.utf8_encode(o),l=i.parseUrl(o),_=i.hasSameOrigin(l),w=i.resolveUrl(o),(a||f)&&!_)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(x=a||l.user,T=f||l.pass,b=u||!0,b===!1&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);k=!b,L=!1,S={},m.call(this),n("readyState",p.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(i,s){var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(i)||r.utf8_encode(i)!==i)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return i=e.trim(i).toLowerCase(),~e.inArray(i,o)||/^(proxy\-|sec\-)/.test(i)?!1:(S[i]?S[i]+=", "+s:S[i]=s,!0)},getAllResponseHeaders:function(){return I||""},getResponseHeader:function(t){return t=t.toLowerCase(),M||~e.inArray(t,["set-cookie","set-cookie2"])?null:I&&""!==I&&(q||(q={},e.each(I.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),q[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),q.hasOwnProperty(t))?q[t].header+": "+q[t].value:null},overrideMimeType:function(r){var i,s;if(~e.inArray(n("readyState"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(r=e.trim(r.toLowerCase()),/;/.test(r)&&(i=r.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(r=i[1],i[2]&&(s=i[2])),!c.mimes[r])throw new t.DOMException(t.DOMException.SYNTAX_ERR);H=r,B=s},send:function(n,i){if(j="string"===e.typeOf(i)?{ruid:i}:i?i:{},this.convertEventPropsToHandlers(v),this.upload.convertEventPropsToHandlers(v),this.readyState!==p.OPENED||L)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof u)j.ruid=n.ruid,C=n.type||"application/octet-stream";else if(n instanceof f){if(n.hasBlob()){var s=n.getBlob();j.ruid=s.ruid,C=s.type||"application/octet-stream"}}else"string"==typeof n&&(N="UTF-8",C="text/plain;charset=UTF-8",n=r.utf8_encode(n));this.withCredentials||(this.withCredentials=j.required_caps&&j.required_caps.send_browser_cookies&&!_),A=!k&&this.upload.hasEventListener(),M=!1,O=!n,k||(L=!0),a.call(this,n)},abort:function(){if(M=!0,k=!1,~e.inArray(n("readyState"),[p.UNSENT,p.OPENED,p.DONE]))n("readyState",p.UNSENT);else{if(n("readyState",p.DONE),L=!1,!F)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);F.getRuntime().exec.call(F,"XMLHttpRequest","abort",O),O=!0}},destroy:function(){F&&("function"===e.typeOf(F.destroy)&&F.destroy(),F=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var d={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};h.prototype=n.instance;var v=["loadstart","progress","abort","error","load","timeout","loadend"],m=1,g=2;return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=n.instance,p}),r(L,[a,v,g,d],function(e,t,n,r){function i(){function r(){l=c=0,f=this.result=null}function s(t,n){var r=this;a=n,r.bind("TransportingProgress",function(t){c=t.loaded,l>c&&-1===e.inArray(r.state,[i.IDLE,i.DONE])&&o.call(r)},999),r.bind("TransportingComplete",function(){c=l,r.state=i.DONE,f=null,r.result=a.exec.call(r,"Transporter","getAsBlob",t||"")},999),r.state=i.BUSY,r.trigger("TransportingStarted"),o.call(r)}function o(){var e=this,n,r=l-c;h>r&&(h=r),n=t.btoa(f.substr(c,h)),a.exec.call(e,"Transporter","receive",n,l)}var u,a,f,l,c,h;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:i.IDLE,result:null,transport:function(t,n,i){var o=this;if(i=e.extend({chunk_size:204798},i),(u=i.chunk_size%3)&&(i.chunk_size+=3-u),h=i.chunk_size,r.call(this),f=t,l=t.length,"string"===e.typeOf(i)||i.ruid)s.call(o,n,this.connectRuntime(i));else{var a=function(e,t){o.unbind("RuntimeInit",a),s.call(o,n,t)};this.bind("RuntimeInit",a),this.connectRuntime(i)}},abort:function(){var e=this;e.state=i.IDLE,a&&(a.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),r.call(e)},destroy:function(){this.unbindAll(),a=null,this.disconnectRuntime(),r.call(this)}})}return i.IDLE=0,i.BUSY=1,i.DONE=2,i.prototype=r.instance,i}),r(A,[],function(){return!!window.JSON&&JSON.parse||function(){var e,n,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},i,s=function(t){throw{name:"SyntaxError",message:t,at:e,text:i}},o=function(t){return t&&t!==n&&s("Expected '"+t+"' instead of '"+n+"'"),n=i.charAt(e),e+=1,n},u=function(){var e,t="";for("-"===n&&(t="-",o("-"));n>="0"&&"9">=n;)t+=n,o();if("."===n)for(t+=".";o()&&n>="0"&&"9">=n;)t+=n;if("e"===n||"E"===n)for(t+=n,o(),("-"===n||"+"===n)&&(t+=n,o());n>="0"&&"9">=n;)t+=n,o();return e=+t,isFinite(e)?e:(s("Bad number"),void 0)},a=function(){var e,t,i="",u;if('"'===n)for(;o();){if('"'===n)return o(),i;if("\\"===n)if(o(),"u"===n){for(u=0,t=0;4>t&&(e=parseInt(o(),16),isFinite(e));t+=1)u=16*u+e;i+=String.fromCharCode(u)}else{if("string"!=typeof r[n])break;i+=r[n]}else i+=n}s("Bad string")},f=function(){for(;n&&" ">=n;)o()},l=function(){switch(n){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}s("Unexpected '"+n+"'")},c,h=function(){var e=[];if("["===n){if(o("["),f(),"]"===n)return o("]"),e;for(;n;){if(e.push(c()),f(),"]"===n)return o("]"),e;o(","),f()}}s("Bad array")},p=function(){var e,t={};if("{"===n){if(o("{"),f(),"}"===n)return o("}"),t;for(;n;){if(e=a(),f(),o(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=c(),f(),"}"===n)return o("}"),t;o(","),f()}}s("Bad object")};return c=function(){switch(f(),n){case"{":return p();case"[":return h();case'"':return a();case"-":return u();default:return n>="0"&&"9">=n?u():l()}},function(r,o){var u;return i=r,e=0,n=" ",u=c(),f(),n&&s("Syntax error"),"function"==typeof o?function a(e,n){var r,i,s=e[n];if(s&&"object"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i=a(s,r),i!==t?s[r]=i:delete s[r]);return o.call(e,n,s)}({"":u},""):u}}()}),r(O,[a,h,p,N,k,m,g,L,c,d,y,b,v,A],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){function d(){function r(t){if(t||(t=this.getRuntime().exec.call(this,"Image","getInfo")),t)if("string"===e.typeOf(t.meta))try{this.meta=p(t.meta)}catch(n){}else this.meta=t.meta;e.extend(this,{size:parseInt(t.size,10),width:parseInt(t.width,10),height:parseInt(t.height,10),type:t.type}),""===this.name&&(this.name=t.name)}function f(t){var r=e.typeOf(t);try{if(t instanceof d){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(r,["blob","file"]))f.call(this,new c(null,t),arguments[1]);else if("string"===r)/^data:[^;]*;base64,/.test(t)?f.call(this,new l(null,{data:t}),arguments[1]):y.apply(this,arguments);else{if("node"!==r||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);f.call(this,t.src,arguments[1])}}catch(i){this.trigger("error",i)}}function m(t,n){var r=this.connectRuntime(t.ruid);this.ruid=r.uid,r.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)?!0:n)}function g(t,n){function r(e){i.ruid=e.uid,e.exec.call(i,"Image","loadFromBlob",t)}var i=this;i.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){r(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=s.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):r(this.connectRuntime(t.ruid))}function y(e,t){var n=this,r;r=new i,r.open("get",e),r.responseType="blob",r.onprogress=function(e){n.trigger(e)},r.onload=function(){g.call(n,r.response,!0)},r.onerror=function(e){n.trigger(e)},r.onloadend=function(){r.destroy()},r.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),r.send(null,t)}o.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){r.call(this)},999),this.convertEventPropsToHandlers(v),f.apply(this,arguments)},downsize:function(t,r,i,s){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>d.MAX_RESIZE_WIDTH||this.height>d.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(!t&&!r||"undefined"===e.typeOf(i))&&(i=!1),t=t||this.width,r=r||this.height,s="undefined"===e.typeOf(s)?!0:!!s,this.getRuntime().exec.call(this,"Image","downsize",t,r,i,s)}catch(o){this.trigger("error",o)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!a.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return h.atob(n.substring(n.indexOf("base64,")+7))},embed:function(r){function i(){if(a.can("create_canvas")){var t=o.getAsCanvas();if(t)return r.appendChild(t),t=null,o.destroy(),s.trigger("embedded"),void 0}var i=o.getAsDataURL(f,l);if(!i)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(a.can("use_data_uri_of",i.length))r.innerHTML='<img src="'+i+'" width="'+o.width+'" height="'+o.height+'" />',o.destroy(),s.trigger("embedded");else{var c=new u;c.bind("TransportingComplete",function(){g=s.connectRuntime(this.result.ruid),s.bind("Embedded",function(){e.extend(g.getShimContainer().style,{top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"}),g=null},999),g.exec.call(s,"ImageView","display",this.result.uid,v,m),o.destroy()}),c.transport(h.atob(i.substring(i.indexOf("base64,")+7)),f,e.extend({},p,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:r}))}}var s=this,o,f,l,c,p=arguments[1]||{},v=this.width,m=this.height,g;try{if(!(r=t.get(r)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>d.MAX_RESIZE_WIDTH||this.height>d.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(f=p.type||this.type||"image/jpeg",l=p.quality||90,c="undefined"!==e.typeOf(p.crop)?p.crop:!1,p.width)v=p.width,m=p.height||v;else{var y=t.getSize(r);y.w&&y.h&&(v=y.w,m=y.h)}return o=new d,o.bind("Resize",function(){i.call(s)}),o.bind("Load",function(){o.downsize(v,m,c,!1)}),o.clone(this,!1),o}catch(b){this.trigger("error",b)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var v=["progress","load","error","resize","embedded"];return d.MAX_RESIZE_WIDTH=6500,d.MAX_RESIZE_HEIGHT=6500,d.prototype=f.instance,d}),r(M,[a,p,m,c],function(e,t,n,r){function i(t){var i=this,u=n.capTest,a=n.capTrue,f=e.extend({access_binary:u(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return i.can("access_binary")&&!!o.Image},display_media:u(r.can("create_canvas")||r.can("use_data_uri_over32kb")),do_cors:u(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:u(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==r.browser||r.version>9)}()),filter_by_extension:u(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),return_response_headers:a,return_response_type:function(e){return"json"===e?!0:r.can("return_response_type",e)},return_status_code:a,report_upload_progress:u(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return i.can("access_binary")&&r.can("create_canvas")},select_file:function(){return r.can("use_fileinput")&&window.File},select_folder:function(){return i.can("select_file")&&"Chrome"===r.browser&&r.version>=21},select_multiple:function(){return i.can("select_file")&&("Safari"!==r.browser||"Windows"!==r.OS)},send_binary_string:u(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:u(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||i.can("send_binary_string")},slice_blob:u(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return i.can("slice_blob")&&i.can("send_multipart")},summon_file_dialog:u(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||"IE"===r.browser&&r.version>=10||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:a},arguments[2]);n.call(this,t,arguments[1]||s,f),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html5",o={};return n.addConstructor(s,i),o}),r(_,[M,y],function(e,t){function n(){function e(e,t,n){var r;if(!window.File.prototype.slice)return(r=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?r.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(i){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),r(D,[a],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var r={},i="moxie_"+e.guid(),s=function(s,o,u,a){var f,l;o=o.toLowerCase(),s.addEventListener?(f=u,s.addEventListener(o,f,!1)):s.attachEvent&&(f=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,u(e)},s.attachEvent("on"+o,f)),s[i]||(s[i]=e.guid()),r.hasOwnProperty(s[i])||(r[s[i]]={}),l=r[s[i]],l.hasOwnProperty(o)||(l[o]=[]),l[o].push({func:f,orig:u,key:a})},o=function(t,n,s){var o,u;if(n=n.toLowerCase(),t[i]&&r[t[i]]&&r[t[i]][n]){o=r[t[i]][n];for(var a=o.length-1;a>=0&&(o[a].orig!==s&&o[a].key!==s||(t.removeEventListener?t.removeEventListener(n,o[a].func,!1):t.detachEvent&&t.detachEvent("on"+n,o[a].func),o[a].orig=null,o[a].func=null,o.splice(a,1),s===u));a--);if(o.length||delete r[t[i]][n],e.isEmptyObj(r[t[i]])){delete r[t[i]];try{delete t[i]}catch(f){t[i]=u}}}},u=function(t,n){t&&t[i]&&e.each(r[t[i]],function(e,r){o(t,r,n)})};return{addEvent:s,removeEvent:o,removeAllEvents:u}}),r(P,[M,a,h,D,l,c],function(e,t,n,r,i,s){function o(){var e=[],o;t.extend(this,{init:function(u){var a=this,f=a.getRuntime(),l,c,h,p,d,v;o=u,e=[],h=o.accept.mimes||i.extList2mimes(o.accept,f.can("filter_by_extension")),c=f.getShimContainer(),c.innerHTML='<input id="'+f.uid+'" type="file" style="font-size:999px;opacity:0;"'+(o.multiple&&f.can("select_multiple")?"multiple":"")+(o.directory&&f.can("select_folder")?"webkitdirectory directory":"")+(h?' accept="'+h.join(",")+'"':"")+" />",l=n.get(f.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=n.get(o.browse_button),f.can("summon_file_dialog")&&("static"===n.getStyle(p,"position")&&(p.style.position="relative"),d=parseInt(n.getStyle(p,"z-index"),10)||1,p.style.zIndex=d,c.style.zIndex=d-1,r.addEvent(p,"click",function(e){var t=n.get(f.uid);t&&!t.disabled&&t.click(),e.preventDefault()},a.uid)),v=f.can("summon_file_dialog")?p:c,r.addEvent(v,"mouseover",function(){a.trigger("mouseenter")},a.uid),r.addEvent(v,"mouseout",function(){a.trigger("mouseleave")},a.uid),r.addEvent(v,"mousedown",function(){a.trigger("mousedown")},a.uid),r.addEvent(n.get(o.container),"mouseup",function(){a.trigger("mouseup")},a.uid),l.onchange=function m(){if(e=[],o.directory?t.each(this.files,function(t){"."!==t.name&&e.push(t)}):e=[].slice.call(this.files),"IE"!==s.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=m}a.trigger("change")},a.trigger({type:"ready",async:!0}),c=null},getFiles:function(){return e},disable:function(e){var t=this.getRuntime(),r;(r=n.get(t.uid))&&(r.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShimContainer();r.removeAllEvents(i,this.uid),r.removeAllEvents(o&&n.get(o.container),this.uid),r.removeAllEvents(o&&n.get(o.browse_button),this.uid),i&&(i.innerHTML=""),e=o=null}})}return e.FileInput=o}),r(H,[M,a,h,D,l],function(e,t,n,r,i){function s(){function e(e){for(var n=[],r=0;r<e.length;r++)[].push.apply(n,e[r].extensions.split(/\s*,\s*/));return-1===t.inArray("*",n)?n:[]}function s(e){var n=i.getFileExtension(e.name);return!n||!l.length||-1!==t.inArray(n,l)}function o(e,n){var r=[];t.each(e,function(e){r.push(function(t){u(e,t)})}),t.inSeries(r,function(){n()})}function u(e,t){e.isFile?e.file(function(e){s(e)&&f.push(e),t()},function(){t()}):e.isDirectory?a(e,t):t()}function a(e,t){function n(e){i.readEntries(function(t){t.length?([].push.apply(r,t),n(e)):e()},e)}var r=[],i=e.createReader();n(function(){o(r,t)})}var f=[],l=[],c;t.extend(this,{init:function(n){var i=this,u;c=n,l=e(c.accept),u=c.container,r.addEvent(u,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},i.uid),r.addEvent(u,"drop",function(e){if(e.preventDefault(),e.stopPropagation(),f=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry){var n=[];t.each(e.dataTransfer.items,function(e){n.push(e.webkitGetAsEntry())}),o(n,function(){i.trigger("drop")})}else t.each(e.dataTransfer.files,function(e){s(e)&&f.push(e)}),i.trigger("drop")},i.uid),r.addEvent(u,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),i.trigger("dragenter")},i.uid),r.addEvent(u,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),i.trigger("dragleave")},i.uid)},getFiles:function(){return f},destroy:function(){r.removeAllEvents(c&&n.get(c.container),this.uid),f=l=c=null}})}return e.FileDrop=s}),r(B,[M,v,a],function(e,t,n){function r(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var r,i=!1;n.extend(this,{read:function(e,t){var s=this;r=new window.FileReader,r.addEventListener("progress",function(e){s.trigger(e)}),r.addEventListener("load",function(e){s.trigger(e)}),r.addEventListener("error",function(e){s.trigger(e,r.error)}),r.addEventListener("loadend",function(){r=null}),"function"===n.typeOf(r[e])?(i=!1,r[e](t.getSource())):"readAsBinaryString"===e&&(i=!0,r.readAsDataURL(t.getSource()))},getResult:function(){return r&&r.result?i?e(r.result):r.result:null},abort:function(){r&&r.abort()},destroy:function(){r=null}})}return e.FileReader=r}),r(j,[M,a,l,T,b,y,C,p,c,A],function(e,t,n,r,i,s,o,u,a,f){function l(){function e(e,t){var n=this,r,i;r=t.getBlob().getSource(),i=new window.FileReader,i.onload=function(){t.append(t.getBlobName(),new s(null,{type:r.type,data:i.result})),self.send.call(n,e,t)},i.readAsBinaryString(r)}function l(){return!window.XMLHttpRequest||"IE"===a.browser&&a.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function c(e){var t=e.responseXML,n=e.responseText;return"IE"===a.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===a.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function h(e){var t="----moxieboundary"+(new Date).getTime(),n="--",r="\r\n",i="",o=this.getRuntime();if(!o.can("send_binary_string"))throw new u.RuntimeError(u.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,o){i+=e instanceof s?n+t+r+'Content-Disposition: form-data; name="'+o+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+r+"Content-Type: "+e.type+r+r+e.getSource()+r:n+t+r+'Content-Disposition: form-data; name="'+o+'"'+r+r+unescape(encodeURIComponent(e))+r}),i+=n+t+n+r}var p,d;t.extend(this,{send:function(n,i){var u=this,f="Mozilla"===a.browser&&a.version>=4&&a.version<7,c="Android Browser"===a.browser,v=!1;if(d=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=l(),p.open(n.method,n.url,n.async,n.user,n.password),i instanceof s)i.isDetached()&&(v=!0),i=i.getSource();else if(i instanceof o){if(i.hasBlob())if(i.getBlob().isDetached())i=h.call(u,i),v=!0;else if((f||c)&&"blob"===t.typeOf(i.getBlob().getSource())&&window.FileReader)return e.call(u,n,i),void 0;if(i instanceof o){var m=new window.FormData;i.each(function(e,t){e instanceof s?m.append(t,e.getSource()):m.append(t,e)}),i=m}}p.upload?(n.withCredentials&&(p.withCredentials=!0),p.addEventListener("load",function(e){u.trigger(e)}),p.addEventListener("error",function(e){u.trigger(e)}),p.addEventListener("progress",function(e){u.trigger(e)}),p.upload.addEventListener("progress",function(e){u.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function(){switch(p.readyState){case 1:break;case 2:break;case 3:var t,i;try{r.hasSameOrigin(n.url)&&(t=p.getResponseHeader("Content-Length")||0),p.responseText&&(i=p.responseText.length)}catch(s){t=i=0}u.trigger({type:"progress",lengthComputable:!!t,total:parseInt(t,10),loaded:i});break;case 4:p.onreadystatechange=function(){},0===p.status?u.trigger("error"):u.trigger("load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){p.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in p&&(p.responseType="json"!==n.responseType||a.can("return_response_type","json")?n.responseType:"text"),v?p.sendAsBinary?p.sendAsBinary(i):function(){for(var e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=255&i.charCodeAt(t);p.send(e.buffer)}():p.send(i),u.trigger("loadstart")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var r=new i(t.uid,p.response),s=p.getResponseHeader("Content-Disposition");if(s){var o=s.match(/filename=([\'\"'])([^\1]+)\1/);o&&(d=o[2])}return r.name=d,r.type||(r.type=n.getFileMime(d)),r;case"json":return a.can("return_response_type","json")?p.response:200===p.status?f(p.responseText):null;case"document":return c(p);default:return""!==p.responseText?p.responseText:null}}catch(u){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&&p.abort()},destroy:function(){self=d=null}})}return e.XMLHttpRequest=l}),r(F,[],function(){return function(){function e(e,t){var n=i?0:-8*(t-1),r=0,o;for(o=0;t>o;o++)r|=s.charCodeAt(e+o)<<Math.abs(n+8*o);return r}function n(e,t,n){n=3===arguments.length?n:s.length-t-1,s=s.substr(0,t)+e+s.substr(n+t)}function r(e,t,r){var s="",o=i?0:-8*(r-1),u;for(u=0;r>u;u++)s+=String.fromCharCode(255&t>>Math.abs(o+8*u));n(s,e,r)}var i=!1,s;return{II:function(e){return e===t?i:(i=e,void 0)},init:function(e){i=!1,s=e},SEGMENT:function(e,t,r){switch(arguments.length){case 1:return s.substr(e,s.length-e-1);case 2:return s.substr(e,t);case 3:n(r,e,t);break;default:return s}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,i){return i===t?e(n,4):(r(n,i,4),void 0)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var r="";for(n+=t;n>t;t++)r+=String.fromCharCode(e(t,1));return r}}}}),r(I,[F],function(e){return function t(n){var r=[],i,s,o,u=0;if(i=new e,i.init(n),65496===i.SHORT(0)){for(s=2;s<=n.length;)if(o=i.SHORT(s),o>=65488&&65495>=o)s+=2;else{if(65498===o||65497===o)break;u=i.SHORT(s+2)+2,o>=65505&&65519>=o&&r.push({hex:o,name:"APP"+(15&o),start:s,length:u,segment:i.SEGMENT(s,u)}),s+=u}return i.init(null),{headers:r,restore:function(e){var t,n;for(i.init(e),s=65504==i.SHORT(2)?4+i.SHORT(4):2,n=0,t=r.length;t>n;n++)i.SEGMENT(s,0,r[n].segment),s+=r[n].length;return e=i.SEGMENT(),i.init(null),e},strip:function(e){var n,r,s;for(r=new t(e),n=r.headers,r.purge(),i.init(e),s=n.length;s--;)i.SEGMENT(n[s].start,n[s].length,"");return e=i.SEGMENT(),i.init(null),e},get:function(e){for(var t=[],n=0,i=r.length;i>n;n++)r[n].name===e.toUpperCase()&&t.push(r[n].segment);return t},set:function(e,t){var n=[],i,s,o;for("string"==typeof t?n.push(t):n=t,i=s=0,o=r.length;o>i&&(r[i].name===e.toUpperCase()&&(r[i].segment=n[s],r[i].length=n[s].length,s++),!(s>=n.length));i++);},purge:function(){r=[],i.init(null),i=null}}}}}),r(q,[a,F],function(e,n){return function r(){function r(e,n){var r=o.SHORT(e),i,s,u,a,c,h,p,d,v=[],m={};for(i=0;r>i;i++)if(p=h=e+12*i+2,u=n[o.SHORT(p)],u!==t){switch(a=o.SHORT(p+=2),c=o.LONG(p+=2),p+=4,v=[],a){case 1:case 7:for(c>4&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.BYTE(p+s);break;case 2:c>4&&(p=o.LONG(p)+f.tiffHeader),m[u]=o.STRING(p,c-1);continue;case 3:for(c>2&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.SHORT(p+2*s);break;case 4:for(c>1&&(p=o.LONG(p)+f.tiffHeader),s=0;c>s;s++)v[s]=o.LONG(p+4*s);break;case 5:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.LONG(p+4*s)/o.LONG(p+4*s+4);break;case 9:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.SLONG(p+4*s);break;case 10:for(p=o.LONG(p)+f.tiffHeader,s=0;c>s;s++)v[s]=o.SLONG(p+4*s)/o.SLONG(p+4*s+4);break;default:continue}d=1==c?v[0]:v,m[u]=l.hasOwnProperty(u)&&"object"!=typeof d?l[u][d]:d}return m}function i(){var e=f.tiffHeader;return o.II(18761==o.SHORT(e)),42!==o.SHORT(e+=2)?!1:(f.IFD0=f.tiffHeader+o.LONG(e+=2),a=r(f.IFD0,u.tiff),"ExifIFDPointer"in a&&(f.exifIFD=f.tiffHeader+a.ExifIFDPointer,delete a.ExifIFDPointer),"GPSInfoIFDPointer"in a&&(f.gpsIFD=f.tiffHeader+a.GPSInfoIFDPointer,delete a.GPSInfoIFDPointer),!0)}function s(e,t,n){var r,i,s,a=0;if("string"==typeof t){var l=u[e.toLowerCase()];for(var c in l)if(l[c]===t){t=c;break}}r=f[e.toLowerCase()+"IFD"],i=o.SHORT(r);for(var h=0;i>h;h++)if(s=r+12*h+2,o.SHORT(s)==t){a=s+8;break}return a?(o.LONG(a,n),!0):!1}var o,u,a,f={},l;return o=new n,u={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return f={tiffHeader:10},e!==t&&e.length?(o.init(e),65505===o.SHORT(0)&&"EXIF\0"===o.STRING(4,5).toUpperCase()?i():!1):!1},TIFF:function(){return a},EXIF:function(){var t;if(t=r(f.exifIFD,u.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,i="";n<t.ExifVersion.length;n++)i+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=i}return t},GPS:function(){var t;return t=r(f.gpsIFD,u.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s("exif",e,t)},getBinary:function(){return o.SEGMENT()},purge:function(){o.init(null),o=a=null,f={}}}}}),r(R,[a,p,I,F,q],function(e,t,n,r,i){function s(s){function o(){for(var e=0,t,n;e<=a.length;){if(t=f.SHORT(e+=2),t>=65472&&65475>=t)return e+=5,{height:f.SHORT(e),width:f.SHORT(e+=2)};n=f.SHORT(e+=2),e+=n-2}return null}function u(){c&&l&&f&&(c.purge(),l.purge(),f.init(null),a=h=l=c=f=null)}var a,f,l,c,h,p;if(a=s,f=new r,f.init(a),65496!==f.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new n(s),c=new i,p=!!c.init(l.get("app1")[0]),h=o.call(this),e.extend(this,{type:"image/jpeg",size:a.length,width:h&&h.width||0,height:h&&h.height||0,setExif:function(t,n){return p?("object"===e.typeOf(t)?e.each(t,function(e,t){c.setExif(t,e)}):c.setExif(t,n),l.set("app1",c.getBinary()),void 0):!1},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):a=l.restore(a)},stripHeaders:function(e){return l.strip(e)},purge:function(){u.call(this)}}),p&&(this.meta={tiff:c.TIFF(),exif:c.EXIF(),gps:c.GPS()})}return s}),r(U,[p,a,F],function(e,t,n){function r(r){function i(){var e,t;return e=o.call(this,8),"IHDR"==e.type?(t=e.start,{width:a.LONG(t),height:a.LONG(t+=4)}):null}function s(){a&&(a.init(null),u=c=f=l=a=null)}function o(e){var t,n,r,i;return t=a.LONG(e),n=a.STRING(e+=4,4),r=e+=4,i=a.LONG(e+t),{length:t,type:n,start:r,CRC:i}}var u,a,f,l,c;u=r,a=new n,a.init(u),function(){var t=0,n=0,r=[35152,20039,3338,6666];for(n=0;n<r.length;n++,t+=2)if(r[n]!=a.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),c=i.call(this),t.extend(this,{type:"image/png",size:u.length,width:c.width,height:c.height,purge:function(){s.call(this)}}),s.call(this)}return r}),r(z,[a,p,R,U],function(e,t,n,r){return function(i){var s=[n,r],o;o=function(){for(var e=0;e<s.length;e++)try{return new s[e](i)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),r(W,[],function(){function e(e,r,i){var s=e.naturalWidth,o=e.naturalHeight,u=i.width,a=i.height,f=i.x||0,l=i.y||0,c=r.getContext("2d");t(e)&&(s/=2,o/=2);var h=1024,p=document.createElement("canvas");p.width=p.height=h;for(var d=p.getContext("2d"),v=n(e,s,o),m=0;o>m;){for(var g=m+h>o?o-m:h,y=0;s>y;){var b=y+h>s?s-y:h;d.clearRect(0,0,h,h),d.drawImage(e,-y,-m);var w=y*u/s+f<<0,E=Math.ceil(b*u/s),S=m*a/o/v+l<<0,x=Math.ceil(g*a/o/v);c.drawImage(p,0,0,b,g,w,S,E,x),y+=h}m+=h}p=d=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var r=document.createElement("canvas");r.width=r.height=1;var i=r.getContext("2d");return i.drawImage(e,-t+1,0),0===i.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var r=document.createElement("canvas");r.width=1,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0);for(var s=i.getImageData(0,0,1,n).data,o=0,u=n,a=n;a>o;){var f=s[4*(a-1)+3];0===f?u=a:o=a,a=u+o>>1}r=null;var l=a/n;return 0===l?1:l}return{isSubsampled:t,renderTo:e}}),r(X,[M,a,p,v,y,z,W,l,c],function(e,t,n,r,i,s,o,u,a){function f(){function e(){if(!w&&!y)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return w||y}function f(e){return r.atob(e.substring(e.indexOf("base64,")+7))}function l(e,t){return"data:"+(t||"")+";base64,"+r.btoa(e)}function c(e){var t=this;y=new Image,y.onerror=function(){m.call(this),t.trigger("error",new n.ImageError(n.ImageError.WRONG_FORMAT))},y.onload=function(){t.trigger("load")},y.src=/^data:[^;]*;base64,/.test(e)?e:l(e,S.type)}function h(e,t){var r=this,i;return window.FileReader?(i=new FileReader,i.onload=function(){t(this.result)},i.onerror=function(){r.trigger("error",new n.FileException(n.FileException.NOT_READABLE_ERR))},i.readAsDataURL(e),void 0):t(e.getAsDataURL())}function p(n,r,i,s){var o=this,u,a,f,l,c,h,p,m,g;if(T=s,g=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(g,[5,6,7,8])){var y=n;n=r,r=y}return h=e(),f=i?Math.max:Math.min,a=f(n/h.width,r/h.height),a>1&&(!i||s)?(this.trigger("Resize"),void 0):(p=Math.round(h.width*a),m=Math.round(h.height*a),w||(w=document.createElement("canvas")),u=w.getContext("2d"),i?(w.width=n,w.height=r):(w.width=p,w.height=m),l=p>w.width?Math.round((p-w.width)/2):0,c=m>w.height?Math.round((m-w.height)/2):0,T||v(w.width,w.height,g),d.call(this,h,w,-l,-c,p,m),this.width=w.width,this.height=w.height,x=!0,o.trigger("Resize"),void 0)}function d(e,t,n,r,i,s){if("iOS"===a.OS)o.renderTo(e,t,{width:i,height:s,x:n,y:r});else{var u=t.getContext("2d");u.drawImage(e,n,r,i,s)}}function v(e,t,n){switch(n){case 5:case 6:case 7:case 8:w.width=t,w.height=e;break;default:w.width=e,w.height=t}var r=w.getContext("2d");switch(n){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,t),r.rotate(Math.PI);break;case 4:r.translate(0,t),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-t);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-t),r.scale(-1,1);break;case 8:r.rotate(-0.5*Math.PI),r.translate(-e,0)}}function m(){b&&(b.purge(),b=null),E=y=w=S=null,x=!1}var g=this,y,b,w,E,S,x=!1,T=!0;t.extend(this,{loadFromBlob:function(e){var t=this,r=t.getRuntime(),i=arguments.length>1?arguments[1]:!0;if(!r.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return S=e,e.isDetached()?(E=e.getSource(),c.call(this,E),void 0):(h.call(this,e.getSource(),function(e){i&&(E=f(e)),c.call(t,e)}),void 0)},loadFromImage:function(e,t){this.meta=e.meta,S=new i(null,{name:e.name,size:e.size,type:e.type}),c.call(this,t?E=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t=this.getRuntime(),n;return!b&&E&&t.can("access_image_binary")&&(b=new s(E)),n={width:e().width||0,height:e().height||0,type:S.type||u.getFileMime(S.name),size:E&&E.length||S.size||0,name:S.name||"",meta:b&&b.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return w&&(w.id=this.uid+"_canvas"),w},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new i(null,{type:e,data:g.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!x)return y.src;if("image/jpeg"!==e)return w.toDataURL("image/png");try{return w.toDataURL("image/jpeg",t/100)}catch(n){return w.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!x)return E||(E=f(g.getAsDataURL(e,t))),E;if("image/jpeg"!==e)E=f(g.getAsDataURL(e,t));else{var n;t||(t=90);try{n=w.toDataURL("image/jpeg",t/100)}catch(r){n=w.toDataURL("image/jpeg")}E=f(n),b&&(E=b.stripHeaders(E),T&&(b.meta&&b.meta.exif&&b.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),E=b.writeHeaders(E)),b.purge(),b=null)}return x=!1,E},destroy:function(){g=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=f}),r(V,[a,c,h,p,m],function(e,t,n,r,i){function s(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function o(o){var f=this,l;o=e.extend({swf_url:t.swf_url},o),i.call(this,o,u,{access_binary:function(e){return e&&"browser"===f.mode},access_image_binary:function(e){return e&&"browser"===f.mode},display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===f.mode},resize_image:i.capTrue,return_response_headers:!1,return_response_type:function(t){return!e.arrayDiff(t,["","text","json","document"])||"browser"===f.mode},return_status_code:function(t){return"browser"===f.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:function(e){return e&&"browser"===f.mode},send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"browser"===f.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:function(e){return e&&"browser"===f.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===f.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),s()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,n)},init:function(){var n,i,s;s=this.getShimContainer(),e.extend(s.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+o.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+o.swf_url+'" />'+'<param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowscriptaccess" value="always" />'+"</object>","IE"===t.browser?(i=document.createElement("div"),s.appendChild(i),i.outerHTML=n,i=s=null):s.innerHTML=n,l=setTimeout(function(){f&&!f.initialized&&f.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(f),clearTimeout(l),o=l=e=f=null}}(this.destroy)},a)}var u="flash",a={};return i.addConstructor(u,o),a}),r($,[V,y],function(e,t){var n={slice:function(e,n,r,i){var s=this.getRuntime();return 0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),0>r?r=Math.max(e.size+r,0):r>0&&(r=Math.min(r,e.size)),e=s.shimExec.call(this,"Blob","slice",n,r,i||""),e&&(e=new t(s.uid,e)),e}};return e.Blob=n}),r(J,[V],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),r(K,[V,v],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r="",i={read:function(e,t){var i=this,s=i.getRuntime();return"readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"),i.bind("Progress",function(t,i){i&&(r+=n(i,e))}),s.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return r},destroy:function(){r=null}};return e.FileReader=i}),r(Q,[V,v],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var r={read:function(e,t){var r,i=this.getRuntime();return(r=i.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(r="data:"+(t.type||"")+";base64,"+r),n(r,e,t.type)):null}};return e.FileReaderSync=r}),r(G,[V,a,y,b,N,C,L,A],function(e,t,n,r,i,s,o,u){var a={send:function(e,r){function i(){e.transport=l.mode,l.shimExec.call(f,"XMLHttpRequest","send",e,r)}function u(e,t){l.shimExec.call(f,"XMLHttpRequest","appendBlob",e,t.uid),r=null,i()}function a(e,t){var n=new o;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:l.uid})}var f=this,l=f.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(f,"XMLHttpRequest","setRequestHeader",t,e.toString())}),r instanceof s){var c;if(r.each(function(e,t){e instanceof n?c=t:l.shimExec.call(f,"XMLHttpRequest","append",t,e)}),r.hasBlob()){var h=r.getBlob();h.isDetached()?a(h,function(e){h.destroy(),u(c,e)}):u(c,h)}else r=null,i()}else r instanceof n?r.isDetached()?a(r,function(e){r.destroy(),r=e.uid,i()}):(r=r.uid,i()):i()},getResponse:function(e){var n,s,o=this.getRuntime();if(s=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(s=new r(o.uid,s),"blob"===e)return s;if(~t.inArray(e,["","text"]))return n=new i,n.readAsText(s);if("arraybuffer"!==e&&"json"===e){n=new i;try{return u(n.readAsText(s))}catch(a){return null}}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=a}),r(Y,[V,y],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),r=n.shimExec.call(this,"Transporter","getAsBlob",e);return r?new t(n.uid,r):null}};return e.Transporter=n}),r(Z,[V,a,L,y,N],function(e,t,n,r,i){var s={loadFromBlob:function(e){function t(e){i.shimExec.call(r,"Image","loadFromBlob",e.uid),r=i=null}var r=this,i=r.getRuntime();if(e.isDetached()){var s=new n;s.bind("TransportingComplete",function(){t(s.result.getSource())}),s.transport(e.getSource(),e.type,{ruid:i.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),i=n.shimExec.call(this,"Image","getAsBlob",e,t);return i?new r(n.uid,i):null},getAsDataURL:function(){var e=this.getRuntime(),t=e.Image.getAsBlob.apply(this,arguments),n;return t?(n=new i,n.readAsDataURL(t)):null}};return e.Image=s}),r(et,[a,c,h,p,m],function(e,t,n,r,i){function s(e){var t=!1,n=null,r,i,s,o,u,a=0;try{try{n=new ActiveXObject("AgControl.AgControl"),n.IsVersionSupported(e)&&(t=!0),n=null}catch(f){var l=navigator.plugins["Silverlight Plug-In"];if(l){for(r=l.description,"1.0.30226.2"===r&&(r="2.0.30226.2"),i=r.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(s=e.split(".");s.length>4;)s.pop();do o=parseInt(s[a],10),u=parseInt(i[a],10),a++;while(a<s.length&&o===u);u>=o&&!isNaN(o)&&(t=!0)}}}catch(c){t=!1}return t}function o(o){var f=this,l;o=e.extend({xap_url:t.xap_url},o),i.call(this,o,u,{access_binary:i.capTrue,access_image_binary:i.capTrue,display_media:i.capTrue,do_cors:i.capTrue,drag_and_drop:!1,report_upload_progress:i.capTrue,resize_image:i.capTrue,return_response_headers:function(e){return e&&"client"===f.mode},return_response_type:i.capTrue,return_status_code:function(t){return"client"===f.mode||!e.arrayDiff(t,[200,404])},select_file:i.capTrue,select_multiple:i.capTrue,send_binary_string:i.capTrue,send_browser_cookies:function(e){return e&&"browser"===f.mode},send_custom_headers:function(e){return e&&"client"===f.mode},send_multipart:i.capTrue,slice_blob:i.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:i.capTrue,use_http_method:function(t){return"client"===f.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),s("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return f.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;">'+'<param name="source" value="'+o.xap_url+'"/>'+'<param name="background" value="Transparent"/>'+'<param name="windowless" value="true"/>'+'<param name="enablehtmlaccess" value="true"/>'+'<param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/>'+"</object>",l=setTimeout(function(){f&&!f.initialized&&f.trigger("Error",new r.RuntimeError(r.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(f),clearTimeout(l),o=l=e=f=null}}(this.destroy)},a)}var u="silverlight",a={};return i.addConstructor(u,o),a}),r(tt,[et,a,$],function(e,t,n){return e.Blob=t.extend({},n)}),r(nt,[et],function(e){var t={init:function(e){function t(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),r(rt,[et,h,D],function(e,t,n){var r={init:function(){var e=this,r=e.getRuntime(),i;return i=r.getShimContainer(),n.addEvent(i,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},e.uid),n.addEvent(i,"dragenter",function(e){e.preventDefault();var n=t.get(r.uid).dragEnter(e);n&&e.stopPropagation()},e.uid),n.addEvent(i,"drop",function(e){e.preventDefault();var n=t.get(r.uid).dragDrop(e);n&&e.stopPropagation()},e.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=r}),r(it,[et,a,K],function(e,t,n){return e.FileReader=t.extend({},n)}),r(st,[et,a,Q],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),r(ot,[et,a,G],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),r(ut,[et,a,Y],function(e,t,n){return e.Transporter=t.extend({},n)}),r(at,[et,a,Z],function(e,t,n){return e.Image=t.extend({},n)}),r(ft,[a,p,m,c],function(e,t,n,r){function i(t){var i=this,u=n.capTest,a=n.capTrue;n.call(this,t,s,{access_binary:u(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:u(o.Image&&(r.can("create_canvas")||r.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:u(function(){return"Chrome"===r.browser&&r.version>=28||"IE"===r.browser&&r.version>=10}()),resize_image:function(){return o.Image&&i.can("access_binary")&&r.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!!~e.inArray(t,["json","text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return r.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return i.can("select_file")},summon_file_dialog:u(function(){return"Firefox"===r.browser&&r.version>=4||"Opera"===r.browser&&r.version>=12||"IE"===r.browser&&r.version>=10||!!~e.inArray(r.browser,["Chrome","Safari"])}()),upload_filesize:a,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(i),e=i=null}}(this.destroy)}),e.extend(this.getShim(),o)}var s="html4",o={};return n.addConstructor(s,i),o}),r(lt,[ft,a,h,D,l,c],function(e,t,n,r,i,s){function o(){function e(){var i=this,l=i.getRuntime(),c,h,p,d,v,m;m=t.guid("uid_"),c=l.getShimContainer(),o&&(p=n.get(o+"_form"),p&&t.extend(p.style,{top:"100%"})),d=document.createElement("form"),d.setAttribute("id",m+"_form"),d.setAttribute("method","post"),d.setAttribute("enctype","multipart/form-data"),d.setAttribute("encoding","multipart/form-data"),t.extend(d.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),v=document.createElement("input"),v.setAttribute("id",m),v.setAttribute("type","file"),v.setAttribute("name","Filedata"),v.setAttribute("accept",a.join(",")),t.extend(v.style,{fontSize:"999px",opacity:0}),d.appendChild(v),c.appendChild(d),t.extend(v.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.version<10&&t.extend(v.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),v.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},u=[t],this.onchange=function(){},e.call(i),i.bind("change",function(){var e=n.get(m),t=n.get(m+"_form"),r;i.files.length&&e&&t&&(r=i.files[0],e.setAttribute("id",r.uid),t.setAttribute("id",r.uid+"_form"),t.setAttribute("target",r.uid+"_iframe")),e=t=null},998),v=d=null,i.trigger("change"))},l.can("summon_file_dialog")&&(h=n.get(f.browse_button),r.removeEvent(h,"click",i.uid),r.addEvent(h,"click",function(e){v&&!v.disabled&&v.click(),e.preventDefault()},i.uid)),o=m,c=p=h=null,i.trigger({type:"ready",async:!0})}var o,u=[],a=[],f;t.extend(this,{init:function(t){var s=this,o=s.getRuntime(),u;f=t,a=t.accept.mimes||i.extList2mimes(t.accept,o.can("filter_by_extension")),u=o.getShimContainer(),function(){var e,i,a;e=n.get(t.browse_button),o.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),i=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=i,u.style.zIndex=i-1),a=o.can("summon_file_dialog")?e:u,r.addEvent(a,"mouseover",function(){s.trigger("mouseenter")},s.uid),r.addEvent(a,"mouseout",function(){s.trigger("mouseleave")},s.uid),r.addEvent(a,"mousedown",function(){s.trigger("mousedown")},s.uid),r.addEvent(n.get(t.container),"mouseup",function(){s.trigger("mouseup")},s.uid),e=null}(),e.call(this),u=null},getFiles:function(){return u},disable:function(e){var t;(t=n.get(o))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShimContainer();r.removeAllEvents(t,this.uid),r.removeAllEvents(f&&n.get(f.container),this.uid),r.removeAllEvents(f&&n.get(f.browse_button),this.uid),t&&(t.innerHTML=""),o=u=a=f=null}})}return e.FileInput=o}),r(ct,[ft,B],function(e,t){return e.FileReader=t}),r(ht,[ft,a,h,T,p,D,y,C,A],function(e,t,n,r,i,s,o,u,a){function f(){function e(e){var t=this,r,i,o,u,a=!1;if(c){if(r=c.id.replace(/_iframe$/,""),i=n.get(r+"_form")){for(o=i.getElementsByTagName("input"),u=o.length;u--;)switch(o[u].getAttribute("type")){case"hidden":o[u].parentNode.removeChild(o[u]);break;case"file":a=!0}o=[],a||i.parentNode.removeChild(i),i=null}setTimeout(function(){s.removeEvent(c,"load",t.uid),c.parentNode&&c.parentNode.removeChild(c);var n=t.getRuntime().getShimContainer();n.children.length||n.parentNode.removeChild(n),n=c=null,e()},1)}}var f,l,c;t.extend(this,{send:function(a,h){function p(){var n=v.getShimContainer()||document.body,i=document.createElement("div");i.innerHTML='<iframe id="'+m+'_iframe" name="'+m+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',c=i.firstChild,n.appendChild(c),s.addEvent(c,"load",function(){var n;try{n=c.contentWindow.document||c.contentDocument||window.frames[c.id].document,/^4\d{2}\s/.test(n.title)&&n.getElementsByTagName("address").length?f=n.title.replace(/^(\d+).*$/,"$1"):(f=200,l=t.trim(n.body.innerHTML),d.trigger({type:"progress",loaded:l.length,total:l.length}),b&&d.trigger({type:"uploadprogress",loaded:b.size||1025,total:b.size||1025}))}catch(i){if(!r.hasSameOrigin(a.url))return e.call(d,function(){d.trigger("error")}),void 0;f=404}e.call(d,function(){d.trigger("load")})},d.uid)}var d=this,v=d.getRuntime(),m,g,y,b;if(f=l=null,h instanceof u&&h.hasBlob()){if(b=h.getBlob(),m=b.uid,y=n.get(m),g=n.get(m+"_form"),!g)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR)}else m=t.guid("uid_"),g=document.createElement("form"),g.setAttribute("id",m+"_form"),g.setAttribute("method",a.method),g.setAttribute("enctype","multipart/form-data"),g.setAttribute("encoding","multipart/form-data"),g.setAttribute("target",m+"_iframe"),v.getShimContainer().appendChild(g);h instanceof u&&h.each(function(e,n){if(e instanceof o)y&&y.setAttribute("name",n);else{var r=document.createElement("input");t.extend(r,{type:"hidden",name:n,value:e}),g.appendChild(r)}}),g.setAttribute("action",a.url),p(),g.submit(),d.trigger("loadstart")},getStatus:function(){return f},getResponse:function(e){if("json"===e&&"string"===t.typeOf(l))try{return a(l.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(n){return null}return l},abort:function(){var t=this;c&&c.contentWindow&&(c.contentWindow.stop?c.contentWindow.stop():c.contentWindow.document.execCommand?c.contentWindow.document.execCommand("Stop"):c.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=f}),r(pt,[ft,X],function(e,t){return e.Image=t}),o([a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,D])}(this),function(){var e={},t=moxie.core.utils.Basic.inArray;return function n(r){var i,s;for(i in r)s=typeof r[i],s==="object"&&!~t(i,["Exceptions","Env","Mime"])?n(r[i]):s==="function"&&(e[i]=r[i])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e}(),function(e,t,n){function r(e){function t(e,t,n){var i={chunks:"slice_blob",resize:"send_binary_string",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",max_file_size:"access_binary",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};i[e]?r[i[e]]=t:n||(r[e]=t)}var n=e.required_features,r={};return typeof n=="string"?o.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):typeof n=="object"?o.each(n,function(e,n){t(n,e)}):n===!0&&(e.multipart||(r.send_binary_string=!0),e.chunk_size>0&&(r.slice_blob=!0),o.each(e,function(e,n){t(n,!!e,!0)})),r}var i=e.setTimeout,s={},o={VERSION:"2.0.0beta",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g;return e?(""+e).replace(n,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,""),e},buildUrl:function(e,t){var n="";return o.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){return e===n||/\D/.test(e)?o.translate("N/A"):e>1099511627776?Math.round(e/1099511627776,1)+" "+o.translate("tb"):e>1073741824?Math.round(e/1073741824,1)+" "+o.translate("gb"):e>1048576?Math.round(e/1048576,1)+" "+o.translate("mb"):e>1024?Math.round(e/1024,1)+" "+o.translate("kb"):e+" "+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,t){var n,r;return t&&(e.runtimes=t),n=new o.Uploader(e),r=n.runtime,n.destroy(),r},addFileFilter:function(e,t){s[e]=t}};o.addFileFilter("mime_types",function(){function e(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}var t,n;return function(r,i,s){if(!n||r!=t)n=e(r),t=[].slice.call(r);n.test(i.name)?s(!0):(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File extension error."),file:i}),s(!1))}}()),o.addFileFilter("max_file_size",function(e,t,n){var r;t.size!==r&&e&&t.size>e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File size error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,n){if(e){var r=this.files.length;while(r--)if(t.name===this.files[r].name&&t.size===this.files[r].size){this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate file error."),file:t}),n(!1);return}}n(!0)}),o.Uploader=function(e){function u(){var e,t=0,n;if(this.state==o.STARTED){for(n=0;n<p.length;n++)!e&&p[n].status==o.QUEUED?(e=p[n],this.trigger("BeforeUpload",e)&&(e.status=o.UPLOADING,this.trigger("UploadFile",e))):t++;t==p.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",p))}}function a(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,f()}function f(){var e,t;g.reset();for(e=0;e<p.length;e++)t=p[e],t.size!==n?(g.size+=t.origSize,g.loaded+=t.loaded*t.origSize/t.size):g.size=n,t.status==o.DONE?g.uploaded++:t.status==o.FAILED?g.failed++:g.queued++;g.size===n?g.percent=p.length>0?Math.ceil(g.uploaded/p.length*100):0:(g.bytesPerSec=Math.ceil(g.loaded/((+(new Date)-m||1)/1e3)),g.percent=g.size>0?Math.ceil(g.loaded/g.size*100):0)}function l(){var n=this,r=0,i={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:v,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(i[t]=e[t])}),t.inSeries([function(s){e.browse_button?(b=new t.FileInput(o.extend({},i,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:e.browse_button})),b.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,s()},b.onchange=function(){n.addFile(this.files)},b.bind("mouseenter mouseleave mousedown mouseup",function(n){if(!y){var r=t.get(e.browse_button);r&&(e.browse_button_hover&&("mouseenter"===n.type?t.addClass(r,e.browse_button_hover):"mouseleave"===n.type&&t.removeClass(r,e.browse_button_hover)),e.browse_button_active&&("mousedown"===n.type?t.addClass(r,e.browse_button_active):"mouseup"===n.type&&t.removeClass(r,e.browse_button_active)),r=null)}}),b.bind("error runtimeerror",function(){b=null,s()}),b.init()):s()},function(s){e.drop_element?(w=new t.FileDrop(o.extend({},i,{drop_zone:e.drop_element})),w.onready=function(){var e=t.Runtime.getInfo(this.ruid);n.features.dragdrop=e.can("drag_and_drop"),r++,s()},w.ondrop=function(){n.addFile(this.files)},w.bind("error runtimeerror",function(){w=null,s()}),w.init()):s()}],function(){typeof e.init=="function"?e.init(n):o.each(e.init,function(e,t){n.bind(t,e)}),r?n.trigger("PostInit"):n.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})})}function c(e,n){if(e.ruid){var r=t.Runtime.getInfo(e.ruid);if(r)return r.can(n)}return!1}function h(e,n,r){var i=new t.Image;try{i.onload=function(){i.downsize(n.width,n.height,n.crop,n.preserve_headers)},i.onresize=function(){r(this.getAsBlob(e.type,n.quality)),this.destroy()},i.onerror=function(){r(e)},i.load(e)}catch(s){r(e)}}var p=[],d={},v={},m,g,y=!1,b,w,E;g=new o.QueueProgress,e=o.extend({runtimes:t.Runtime.order,max_retries:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",send_chunk_number:!0},e),e.resize&&(e.resize=o.extend({preserve_headers:!0,crop:!1},e.resize)),o.typeOf(e.filters)==="array"&&(e.filters={mime_types:e.filters}),e.filters=o.extend({mime_types:[],prevent_duplicates:!!e.prevent_duplicates,max_file_size:e.max_file_size},e.filters),e.filters.max_file_size=o.parseSize(e.filters.max_file_size)||0,e.chunk_size=o.parseSize(e.chunk_size)||0,e.required_features=v=r(o.extend({},e)),o.extend(this,{id:o.guid(),state:o.STOPPED,features:{},runtime:t.Runtime.thatCan(v,e.runtimes),files:p,settings:e,total:g,init:function(){var n=this;e.browse_button=t.get(e.browse_button),e.drop_element=t.get(e.drop_element),typeof e.preinit=="function"?e.preinit(n):o.each(e.preinit,function(e,t){n.bind(t,e)});if(!e.browse_button||!e.url){this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")});return}n.bind("FilesAdded",function(e,t){[].push.apply(p,t),i(function(){n.trigger("QueueChanged"),n.refresh()},1)}),n.bind("CancelUpload",function(){E&&E.abort()}),e.unique_names&&n.bind("BeforeUpload",function(e,t){var n=t.name.match(/\.([^.]+)$/),r="part";n&&(r=n[1]),t.target_name=t.id+"."+r}),n.bind("UploadFile",function(n,r){function s(){p-->0?i(u,1):(r.loaded=m,n.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP Error."),file:r,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}))}function u(){var c,h,p,g;if(r.status==o.DONE||r.status==o.FAILED||n.state==o.STOPPED)return;p={name:r.target_name||r.name},l&&f.chunks&&d.size>l?(g=Math.min(l,d.size-m),c=d.slice(m,m+g)):(g=d.size,c=d),l&&f.chunks&&(e.send_chunk_number?(p.chunk=Math.ceil(m/l),p.chunks=Math.ceil(d.size/l)):(p.offset=m,p.total=d.size)),E=new t.XMLHttpRequest,E.upload&&(E.upload.onprogress=function(e){r.loaded=Math.min(r.size,m+e.loaded),n.trigger("UploadProgress",r)}),E.onload=function(){if(E.status>=400){s();return}g<d.size?(c.destroy(),m+=g,r.loaded=Math.min(m,d.size),n.trigger("ChunkUploaded",r,{offset:r.loaded,total:d.size,response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()}),t.Env.browser==="Android Browser"&&n.trigger("UploadProgress",r)):r.loaded=r.size,c=h=null,!m||m>=d.size?(r.size!=r.origSize&&(d.destroy(),d=null),n.trigger("UploadProgress",r),r.status=o.DONE,n.trigger("FileUploaded",r,{response:E.responseText,status:E.status,responseHeaders:E.getAllResponseHeaders()})):i(u,1)},E.onerror=function(){s()},E.onloadend=function(){this.destroy(),E=null},n.settings.multipart&&f.multipart?(p.name=r.target_name||r.name,E.open("post",a,!0),o.each(n.settings.headers,function(e,t){E.setRequestHeader(t,e)}),h=new t.FormData,o.each(o.extend(p,n.settings.multipart_params),function(e,t){h.append(t,e)}),h.append(n.settings.file_data_name,c),E.send(h,{runtime_order:n.settings.runtimes,required_caps:v,swf_url:n.settings.flash_swf_url,xap_url:n.settings.silverlight_xap_url})):(a=o.buildUrl(n.settings.url,o.extend(p,n.settings.multipart_params)),E.open("post",a,!0),E.setRequestHeader("Content-Type","application/octet-stream"),o.each(n.settings.headers,function(e,t){E.setRequestHeader(t,e)}),E.send(c,{runtime_order:n.settings.runtimes,required_caps:v,swf_url:n.settings.flash_swf_url,xap_url:n.settings.silverlight_xap_url}))}var a=n.settings.url,f=n.features,l=e.chunk_size,p=e.max_retries,d,m=0;r.loaded&&(m=r.loaded=l*Math.floor(r.loaded/l)),d=r.getSource(),!t.isEmptyObj(n.settings.resize)&&c(d,"send_binary_string")&&!!~t.inArray(d.type,["image/jpeg","image/png"])?h.call(this,d,n.settings.resize,function(e){d=e,r.size=e.size,u()}):u()}),n.bind("UploadProgress",function(e,t){a(t)}),n.bind("StateChanged",function(e){if(e.state==o.STARTED)m=+(new Date);else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,f())}),n.bind("QueueChanged",f),n.bind("Error",function(e,t){t.file&&(t.file.status=o.FAILED,a(t.file),e.state==o.STARTED&&i(function(){u.call(n)},1))}),n.bind("FileUploaded",function(){f(),i(function(){u.call(n)},1)}),n.trigger("Init",{runtime:this.runtime}),l.call(this)},refresh:function(){b&&b.trigger("Refresh"),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger("StateChanged"),u.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){y=arguments[0]!==n?arguments[0]:!0,b&&b.disable(y),this.trigger("DisableBrowse",y)},getFile:function(e){var t;for(t=p.length-1;t>=0;t--)if(p[t].id===e)return p[t]},addFile:function(e,n){function r(){var e=w||b;return e?e.getRuntime().uid:!1}function i(e,n){var r=[];t.each(a.settings.filters,function(t,n){s[n]&&r.push(function(r){s[n].call(a,t,e,function(e){r(!e)})})}),t.inSeries(r,n)}function u(e){var r=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!c)return!1;e.ruid=c,e.connectRuntime(c)}u(new o.File(e))}else e instanceof t.Blob?(u(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),f.push(function(t){i(e,function(n){n||l.push(e),t()})})):t.inArray(r,["file","blob"])!==-1?u(new t.File(null,e)):r==="node"&&t.typeOf(e.files)==="filelist"?t.each(e.files,u):r==="array"&&(n=null,t.each(e,u))}var a=this,f=[],l=[],c;c=r(),u(e),f.length&&t.inSeries(f,function(){l.length&&a.trigger("FilesAdded",l)})},removeFile:function(e){var t=typeof e=="string"?e:e.id;for(var n=p.length-1;n>=0;n--)if(p[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var r=p.splice(e===n?0:e,t===n?p.length:t);return this.trigger("FilesRemoved",r),this.trigger("QueueChanged"),o.each(r,function(e){e.destroy()}),r},trigger:function(e){var t=d[e.toLowerCase()],n,r;if(t){r=Array.prototype.slice.call(arguments),r[0]=this;for(n=0;n<t.length;n++)if(t[n].func.apply(t[n].scope,r)===!1)return!1}return!0},hasEventListener:function(e){return!!d[e.toLowerCase()]},bind:function(e,t,n){var r;e=e.toLowerCase(),r=d[e]||[],r.push({func:t,scope:n||this}),d[e]=r},unbind:function(e){e=e.toLowerCase();var t=d[e],r,i=arguments[1];if(t){if(i!==n){for(r=t.length-1;r>=0;r--)if(t[r].func===i){t.splice(r,1);break}}else t=[];t.length||delete d[e]}},unbindAll:function(){var e=this;o.each(d,function(t,n){e.unbind(n)})},destroy:function(){this.stop(),o.each(p,function(e){e.destroy()}),p=[],b&&(b.destroy(),b=null),w&&(w.destroy(),w=null),v={},m=g=y=E=null,this.trigger("Destroy"),this.unbindAll(),d={}}})},o.File=function(){function e(e){o.extend(this,{id:o.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return t.inArray(t.typeOf(e),["blob","file"])!==-1?e:null},getSource:function(){return n[this.id]?n[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete n[this.id])}}),n[this.id]=e}var n={};return e}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o}(window,mOxie),define("plupload",["jquery"],function(e){return function(){var t,n;return t||e.plupload}}(this)),!function(e){"function"==typeof define&&define.amd?define("jqueryForm",["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,r=e(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;n=i[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==t.offsetX)s.clk_x=t.offsetX,s.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=r.offset();s.clk_x=t.pageX-o.left,s.clk_y=t.pageY-o.top}else s.clk_x=t.pageX-n.offsetLeft,s.clk_y=t.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=void 0!==e("<input type='file'/>").get(0).files,i.formdata=void 0!==window.FormData;var s=!!e.fn.prop;e.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var r,i,s=e.param(n,t.traditional).split("&"),o=s.length,u=[];for(r=0;o>r;r++)s[r]=s[r].replace(/\+/g," "),i=s[r].split("="),u.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return u}function o(r){for(var i=new FormData,s=0;s<r.length;s++)i.append(r[s].name,r[s].value);if(t.extraData){var o=n(t.extraData);for(s=0;s<o.length;s++)o[s]&&i.append(o[s][0],o[s][1])}t.data=null;var u=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(u.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,r=e.loaded||e.position,i=e.total;e.lengthComputable&&(n=Math.ceil(r/i*100)),t.uploadProgress(e,r,i,n)},!1),n}),u.data=null;var f=u.beforeSend;return u.beforeSend=function(e,n){n.data=t.formData?t.formData:i,f&&f.call(this,e,n)},e.ajax(u)}function u(n){function i(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){r("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){r("cannot get iframe.contentDocument: "+n),t=e.document}return t}function o(){function t(){try{var e=i(w).readyState;r("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){r("Server abort: ",n," (",n.name,")"),u(A),N&&clearTimeout(N),N=void 0}}var n=p.attr2("target"),s=p.attr2("action"),o="multipart/form-data",f=p.attr("enctype")||p.attr("encoding")||o;C.setAttribute("target",g),(!l||/post/i.test(l))&&C.setAttribute("method","POST"),s!=v.url&&C.setAttribute("action",v.url),v.skipEncodingOverride||l&&!/post/i.test(l)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),v.timeout&&(N=setTimeout(function(){T=!0,u(L)},v.timeout));var c=[];try{if(v.extraData)for(var h in v.extraData)v.extraData.hasOwnProperty(h)&&(e.isPlainObject(v.extraData[h])&&v.extraData[h].hasOwnProperty("name")&&v.extraData[h].hasOwnProperty("value")?c.push(e('<input type="hidden" name="'+v.extraData[h].name+'">').val(v.extraData[h].value).appendTo(C)[0]):c.push(e('<input type="hidden" name="'+h+'">').val(v.extraData[h]).appendTo(C)[0]));v.iframeTarget||b.appendTo("body"),w.attachEvent?w.attachEvent("onload",u):w.addEventListener("load",u,!1),setTimeout(t,15);try{C.submit()}catch(m){var y=document.createElement("form").submit;y.apply(C)}}finally{C.setAttribute("action",s),C.setAttribute("enctype",f),n?C.setAttribute("target",n):p.removeAttr("target"),e(c).remove()}}function u(t){if(!E.aborted&&!P){if(D=i(w),D||(r("cannot access response document"),t=A),t===L&&E)return E.abort("timeout"),k.reject(E,"timeout"),void 0;if(t==A&&E)return E.abort("server abort"),k.reject(E,"error","server abort"),void 0;if(D&&D.location.href!=v.iframeSrc||T){w.detachEvent?w.detachEvent("onload",u):w.removeEventListener("load",u,!1);var n,s="success";try{if(T)throw"timeout";var o="xml"==v.dataType||D.XMLDocument||e.isXMLDoc(D);if(r("isXml="+o),!o&&window.opera&&(null===D.body||!D.body.innerHTML)&&--H)return r("requeing onLoad callback, DOM not available"),setTimeout(u,250),void 0;var f=D.body?D.body:D.documentElement;E.responseText=f?f.innerHTML:null,E.responseXML=D.XMLDocument?D.XMLDocument:D,o&&(v.dataType="xml"),E.getResponseHeader=function(e){var t={"content-type":v.dataType};return t[e.toLowerCase()]},f&&(E.status=Number(f.getAttribute("status"))||E.status,E.statusText=f.getAttribute("statusText")||E.statusText);var l=(v.dataType||"").toLowerCase(),c=/(json|script|text)/.test(l);if(c||v.textarea){var h=D.getElementsByTagName("textarea")[0];if(h)E.responseText=h.value,E.status=Number(h.getAttribute("status"))||E.status,E.statusText=h.getAttribute("statusText")||E.statusText;else if(c){var p=D.getElementsByTagName("pre")[0],g=D.getElementsByTagName("body")[0];p?E.responseText=p.textContent?p.textContent:p.innerText:g&&(E.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==l&&!E.responseXML&&E.responseText&&(E.responseXML=B(E.responseText));try{_=F(E,l,v)}catch(y){s="parsererror",E.error=n=y||s}}catch(y){r("error caught: ",y),s="error",E.error=n=y||s}E.aborted&&(r("upload aborted"),s=null),E.status&&(s=E.status>=200&&E.status<300||304===E.status?"success":"error"),"success"===s?(v.success&&v.success.call(v.context,_,"success",E),k.resolve(E.responseText,"success",E),m&&e.event.trigger("ajaxSuccess",[E,v])):s&&(void 0===n&&(n=E.statusText),v.error&&v.error.call(v.context,E,s,n),k.reject(E,"error",n),m&&e.event.trigger("ajaxError",[E,v,n])),m&&e.event.trigger("ajaxComplete",[E,v]),m&&!--e.active&&e.event.trigger("ajaxStop"),v.complete&&v.complete.call(v.context,E,s),P=!0,v.timeout&&clearTimeout(N),setTimeout(function(){v.iframeTarget?b.attr("src",v.iframeSrc):b.remove(),E.responseXML=null},100)}}}var c,h,v,m,g,b,w,E,S,x,T,N,C=p[0],k=e.Deferred();if(k.abort=function(e){E.abort(e)},n)for(h=0;h<y.length;h++)c=e(y[h]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(v=e.extend(!0,{},e.ajaxSettings,t),v.context=v.context||v,g="jqFormIO"+(new Date).getTime(),v.iframeTarget?(b=e(v.iframeTarget),x=b.attr2("name"),x?g=x:b.attr2("name",g)):(b=e('<iframe name="'+g+'" src="'+v.iframeSrc+'" />'),b.css({position:"absolute",top:"-1000px",left:"-1000px"})),w=b[0],E={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";r("aborting upload... "+n),this.aborted=1;try{w.contentWindow.document.execCommand&&w.contentWindow.document.execCommand("Stop")}catch(i){}b.attr("src",v.iframeSrc),E.error=n,v.error&&v.error.call(v.context,E,n,t),m&&e.event.trigger("ajaxError",[E,v,n]),v.complete&&v.complete.call(v.context,E,n)}},m=v.global,m&&0===e.active++&&e.event.trigger("ajaxStart"),m&&e.event.trigger("ajaxSend",[E,v]),v.beforeSend&&v.beforeSend.call(v.context,E,v)===!1)return v.global&&e.active--,k.reject(),k;if(E.aborted)return k.reject(),k;S=C.clk,S&&(x=S.name,x&&!S.disabled&&(v.extraData=v.extraData||{},v.extraData[x]=S.value,"image"==S.type&&(v.extraData[x+".x"]=C.clk_x,v.extraData[x+".y"]=C.clk_y)));var L=1,A=2,O=e("meta[name=csrf-token]").attr("content"),M=e("meta[name=csrf-param]").attr("content");M&&O&&(v.extraData=v.extraData||{},v.extraData[M]=O),v.forceSync?o():setTimeout(o,10);var _,D,P,H=50,B=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},j=e.parseJSON||function(e){return window.eval("("+e+")")},F=function(t,n,r){var i=t.getResponseHeader("content-type")||"",s="xml"===n||!n&&i.indexOf("xml")>=0,o=s?t.responseXML:t.responseText;return s&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&i.indexOf("json")>=0?o=j(o):("script"===n||!n&&i.indexOf("javascript")>=0)&&e.globalEval(o)),o};return k}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,h,p=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),h="string"==typeof c?e.trim(c):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:h,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var v={};if(this.trigger("form-pre-serialize",[this,t,v]),v.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var m=t.traditional;void 0===m&&(m=e.ajaxSettings.traditional);var g,y=[],b=this.formToArray(t.semantic,y);if(t.data&&(t.extraData=t.data,g=e.param(t.data,m)),t.beforeSubmit&&t.beforeSubmit(b,this,t)===!1)return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[b,this,t,v]),v.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var w=e.param(b,m);g&&(w=w?w+"&"+g:g),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+w,t.data=null):t.data=w;var E=[];if(t.resetForm&&E.push(function(){p.resetForm()}),t.clearForm&&E.push(function(){p.clearForm(t.includeHidden)}),!t.dataType&&t.target){var S=t.success||function(){};E.push(function(n){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](n).each(S,arguments)})}else t.success&&E.push(t.success);if(t.success=function(e,n,r){for(var i=t.context||this,s=0,o=E.length;o>s;s++)E[s].apply(i,[e,n,r||p,p])},t.error){var x=t.error;t.error=function(e,n,r){var i=t.context||this;x.apply(i,[e,n,r,p])}}if(t.complete){var T=t.complete;t.complete=function(e,n){var r=t.context||this;T.apply(r,[e,n,p])}}var N=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),C=N.length>0,k="multipart/form-data",L=p.attr("enctype")==k||p.attr("encoding")==k,A=i.fileapi&&i.formdata;r("fileAPI :"+A);var O,M=(C||L)&&!A;t.iframe!==!1&&(t.iframe||M)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){O=u(b)}):O=u(b):O=(C||L)&&A?o(b):e.ajax(t),p.removeData("jqxhr").data("jqxhr",O);for(var _=0;_<y.length;_++)y[_]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&e.isFunction(e.fn.on),!i.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!e.isReady&&s.s?(r("DOM not ready, queuing ajaxForm"),e(function(){e(s.s,s.c).ajaxForm(i)}),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return i.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,i,t).on("click.form-plugin",this.selector,i,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",i,t).bind("click.form-plugin",i,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var r=[];if(0===this.length)return r;var s,o=this[0],u=this.attr("id"),f=t?o.getElementsByTagName("*"):o.elements;if(f&&(f=e(f).get()),u&&(s=e(":input[form="+u+"]").get(),s.length&&(f=(f||[]).concat(s))),!f||!f.length)return r;var l,c,h,p,d,v,m;for(l=0,v=f.length;v>l;l++)if(d=f[l],h=d.name,h&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(r.push({name:h,value:e(d).val(),type:d.type}),r.push({name:h+".x",value:o.clk_x},{name:h+".y",value:o.clk_y}));else if(p=e.fieldValue(d,!0),p&&p.constructor==Array)for(n&&n.push(d),c=0,m=p.length;m>c;c++)r.push({name:h,value:p[c]});else if(i.fileapi&&"file"==d.type){n&&n.push(d);var g=d.files;if(g.length)for(c=0;c<g.length;c++)r.push({name:h,value:g[c],type:d.type});else r.push({name:h,value:"",type:d.type})}else null!==p&&"undefined"!=typeof p&&(n&&n.push(d),r.push({name:h,value:p,type:d.type,required:d.required}));if(!t&&o.clk){var y=e(o.clk),b=y[0];h=b.name,h&&!b.disabled&&"image"==b.type&&(r.push({name:h,value:y.val()}),r.push({name:h+".x",value:o.clk_x},{name:h+".y",value:o.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var r=this.name;if(r){var i=e.fieldValue(this,t);if(i&&i.constructor==Array)for(var s=0,o=i.length;o>s;s++)n.push({name:r,value:i[s]});else null!==i&&"undefined"!=typeof i&&n.push({name:this.name,value:i})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],r=0,i=this.length;i>r;r++){var s=this[r],o=e.fieldValue(s,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var r=t.name,i=t.type,s=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||t.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!t.checked||("submit"==i||"image"==i)&&t.form&&t.form.clk!=t||"select"==s&&-1==t.selectedIndex))return null;if("select"==s){var o=t.selectedIndex;if(0>o)return null;for(var u=[],f=t.options,l="select-one"==i,c=l?o+1:f.length,h=l?o:0;c>h;h++){var p=f[h];if(p.selected){var d=p.value;if(d||(d=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),l)return d;u.push(d)}}return u}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),function(e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}function o(t,n){var r=e(t).data(),i={},s,o=new RegExp("^"+n.toLowerCase()+"([A-Z])"),n=new RegExp("^"+n.toLowerCase());for(var u in r)n.test(u)&&(s=u.replace(o,function(e,t){return t.toLowerCase()}),i[s]=r[u]);return i}function u(t){var n={};if(!c[t]){t=t.split("-")[0];if(!c[t])return}var r=c[t];return e.each(l,function(e,t){t in r&&(n[t]=r[t])}),n}var t=e(window),i=function(t,n){var r=this;this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=e(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),r=n.language;c[r]||(r=r.split("-")[0],c[r]||(r=f.language)),n.language=r;switch(n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var i=h.parseFormat(n.format);n.startDate!==-Infinity&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=h.parseDate(n.startDate,i,n.language):n.startDate=-Infinity),n.endDate!==Infinity&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=h.parseDate(n.endDate,i,n.language):n.endDate=Infinity),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var s=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();s=e.grep(s,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"};if(!!o&&o!=="auto")if(s.length===1)switch(s[0]){case"top":case"bottom":n.orientation.y=s[0];break;case"left":case"right":n.orientation.x=s[0]}else o=e.grep(s,function(e){return/^left|right$/.test(e)}),n.orientation.x=o[0]||"auto",o=e.grep(s,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=o[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t=0,n,r;t<e.length;t++)n=e[t][0],r=e[t][1],n.on(r)},_unapplyEvents:function(e){for(var t=0,n,r;t<e.length;t++)n=e[t][0],r=e[t][1],n.off(r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.date,i=this._utc_to_local(r);this.element.trigger({type:t,date:i,format:e.proxy(function(e){var t=e||this.o.format;return h.formatDate(r,t,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(e){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return new Date(e.getTime()+e.getTimezoneOffset()*6e4)},_local_to_utc:function(e){return new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(e){return e===undefined&&(e=this.o.format),h.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return;var n=this.picker.outerWidth(),r=this.picker.outerHeight(),i=10,s=t.width(),o=t.height(),u=t.scrollTop(),a=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!="auto"}).first().css("z-index"))+10,f=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=f.left,p=f.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(h-=n-c)):(this.picker.addClass("datepicker-orient-left"),f.left<0?h-=f.left-i:f.left+n>s&&(h=s-n-i));var d=this.o.orientation.y,v,m;d==="auto"&&(v=-u+f.top-r,m=u+o-(f.top+l+r),Math.max(v,m)===m?d="top":d="bottom"),this.picker.addClass("datepicker-orient-"+d),d==="top"?p+=l:p-=r+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:h,zIndex:a})},_allow_update:!0,update:function(){if(!this._allow_update)return;var e=new Date(this.date),t,n=!1;arguments&&arguments.length&&(typeof arguments[0]=="string"||arguments[0]instanceof Date)?(t=arguments[0],t instanceof Date&&(t=this._local_to_utc(t)),n=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),n?this.setValue():t?e.getTime()!==this.date.getTime()&&this._trigger("changeDate"):this._trigger("clearDate"),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):(this.viewDate=new Date(this.date),this.date=new Date(this.date)),this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}while(e<this.o.weekStart+7)t+='<th class="dow">'+c[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+c[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){!t||!t.length?delete this.range:this.range=e.map(t,function(e){return e.valueOf()}),this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s=this.date.valueOf(),o=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()==r&&t.getUTCMonth()<i?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()==r&&t.getUTCMonth()>i)&&n.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==o.getFullYear()&&t.getUTCMonth()==o.getMonth()&&t.getUTCDate()==o.getDate()&&n.push("today"),s&&t.valueOf()==s&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!=-1&&n.push("selected")),n},fill:function(){var t=new Date(this.viewDate),r=t.getUTCFullYear(),i=t.getUTCMonth(),s=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,o=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,u=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,f=this.date&&this.date.valueOf(),l;this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[i]+" "+r),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=n(r,i-1,28,0,0,0,0),d=h.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(d),p.setUTCDate(d-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();var m=[],g;while(p.valueOf()<v){if(p.getUTCDay()==this.o.weekStart){m.push("<tr>");if(this.o.calendarWeeks){var y=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),b=new Date(+y+(11-y.getUTCDay())%7*864e5),w=new Date(+(w=n(b.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),E=(b-w)/864e5/7+1;m.push('<td class="cw">'+E+"</td>")}}g=this.getClassNames(p),g.push("day");if(this.o.beforeShowDay!==e.noop){var S=this.o.beforeShowDay(this._utc_to_local(p));S===undefined?S={}:typeof S=="boolean"?S={enabled:S}:typeof S=="string"&&(S={classes:S}),S.enabled===!1&&g.push("disabled"),S.classes&&(g=g.concat(S.classes.split(/\s+/))),S.tooltip&&(l=S.tooltip)}g=e.unique(g),m.push('<td class="'+g.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()==this.o.weekEnd&&m.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var x=this.date&&this.date.getUTCFullYear(),T=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");x&&x==r&&T.eq(this.date.getUTCMonth()).addClass("active"),(r<s||r>u)&&T.addClass("disabled"),r==s&&T.slice(0,o).addClass("disabled"),r==u&&T.slice(a+1).addClass("disabled"),m="",r=parseInt(r/10,10)*10;var N=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var C=-1;C<11;C++)m+='<span class="year'+(C==-1?" old":C==10?" new":"")+(x==r?" active":"")+(r<s||r>u?" disabled":"")+'">'+r+"</span>",r+=1;N.html(m)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.preventDefault();var r=e(t.target).closest("span, td, th");if(r.length==1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var i=h.modes[this.viewMode].navStep*(r[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,i),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,i),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var s=new Date;s=n(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var o=this.o.todayBtn=="linked"?null:"view";this._setDate(s,o);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!r.is(".disabled")){this.viewDate.setUTCDate(1);if(r.is(".month")){var a=1,f=r.parent().find("span").index(r),l=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(n(l,f,a,0,0,0,0))}else{var l=parseInt(r.text(),10)||0,a=1,f=0;this.viewDate.setUTCFullYear(l),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(n(l,f,a,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(r.is(".day")&&!r.is(".disabled")){var a=parseInt(r.text(),10)||1,l=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth();r.is(".old")?f===0?(f=11,l-=1):f-=1:r.is(".new")&&(f==11?(f=0,l+=1):f+=1),this._setDate(n(l,f,a,0,0,0,0))}}},_setDate:function(e,t){if(!t||t=="date")this.date=new Date(e);if(!t||t=="view")this.viewDate=new Date(e);this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),this.o.autoclose&&(!t||t=="date")&&this.hide()},moveMonth:function(e,t){if(!t)return e;var n=new Date(e.valueOf()),r=n.getUTCDate(),i=n.getUTCMonth(),s=Math.abs(t),o,u;t=t>0?1:-1;if(s==1){u=t==-1?function(){return n.getUTCMonth()==i}:function(){return n.getUTCMonth()!=o},o=i+t,n.setUTCMonth(o);if(o<0||o>11)o=(o+12)%12}else{for(var a=0;a<s;a++)n=this.moveMonth(n,t);o=n.getUTCMonth(),n.setUTCDate(r),u=function(){return o!=n.getUTCMonth()}}while(u())n.setUTCDate(--r),n.setUTCMonth(o);return n},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){e.keyCode==27&&this.show();return}var t=!1,n,r,i,s,o;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;n=e.keyCode==37?-1:1,e.ctrlKey?(s=this.moveYear(this.date,n),o=this.moveYear(this.viewDate,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(s=this.moveMonth(this.date,n),o=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.date),s.setUTCDate(this.date.getUTCDate()+n),o=new Date(this.viewDate),o.setUTCDate(this.viewDate.getUTCDate()+n)),this.dateWithinRange(s)&&(this.date=s,this.viewDate=o,this.setValue(),this.update(),e.preventDefault(),t=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;n=e.keyCode==38?-1:1,e.ctrlKey?(s=this.moveYear(this.date,n),o=this.moveYear(this.viewDate,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(s=this.moveMonth(this.date,n),o=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(s=new Date(this.date),s.setUTCDate(this.date.getUTCDate()+n*7),o=new Date(this.viewDate),o.setUTCDate(this.viewDate.getUTCDate()+n*7)),this.dateWithinRange(s)&&(this.date=s,this.viewDate=o,this.setValue(),this.update(),e.preventDefault(),t=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(t){this._trigger("changeDate");var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var s=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};s.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){var n=e(t.target).data("datepicker"),r=n.getUTCDate(),i=e.inArray(t.target,this.inputs),s=this.inputs.length;if(i==-1)return;if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<s&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates()},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var a=e.fn.datepicker;e.fn.datepicker=function(t){var n=Array.apply(null,arguments);n.shift();var r,a;return this.each(function(){var a=e(this),l=a.data("datepicker"),c=typeof t=="object"&&t;if(!l){var h=o(this,"date"),p=e.extend({},f,h,c),d=u(p.language),v=e.extend({},f,d,h,c);if(a.is(".input-daterange")||v.inputs){var m={inputs:v.inputs||a.find("input").toArray()};a.data("datepicker",l=new s(this,e.extend(v,m)))}else a.data("datepicker",l=new i(this,v))}if(typeof t=="string"&&typeof l[t]=="function"){r=l[t].apply(l,n);if(r!==undefined)return!1}}),r!==undefined?r:this};var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=i;var c=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,h.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||n.length===0)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(t,r,s){if(t instanceof Date)return t;typeof r=="string"&&(r=h.parseFormat(r));if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){var o=/([\-+]\d+)([dmwy])/,u=t.match(/([\-+]\d+)([dmwy])/g),a,f;t=new Date;for(var l=0;l<u.length;l++){a=o.exec(u[l]),f=parseInt(a[1]);switch(a[2]){case"d":t.setUTCDate(t.getUTCDate()+f);break;case"m":t=i.prototype.moveMonth.call(i.prototype,t,f);break;case"w":t.setUTCDate(t.getUTCDate()+f*7);break;case"y":t=i.prototype.moveYear.call(i.prototype,t,f)}}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}var u=t&&t.match(this.nonpunctuation)||[],t=new Date,p={},d=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12,e.setUTCMonth(t);while(e.getUTCMonth()!=t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},m,g,a;v.M=v.MM=v.mm=v.m,v.dd=v.d,t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var y=r.parts.slice();u.length!=y.length&&(y=e(y).filter(function(t,n){return e.inArray(n,d)!==-1}).toArray());if(u.length==y.length){for(var l=0,b=y.length;l<b;l++){m=parseInt(u[l],10),a=y[l];if(isNaN(m))switch(a){case"MM":g=e(c[s].months).filter(function(){var e=this.slice(0,u[l].length),t=u[l].slice(0,e.length);return e==t}),m=e.inArray(g[0],c[s].months)+1;break;case"M":g=e(c[s].monthsShort).filter(function(){var e=this.slice(0,u[l].length),t=u[l].slice(0,e.length);return e==t}),m=e.inArray(g[0],c[s].monthsShort)+1}p[a]=m}for(var l=0,w,E;l<d.length;l++)E=d[l],E in p&&!isNaN(p[E])&&(w=new Date(t),v[E](w,p[E]),isNaN(w)||(t=w))}return t},formatDate:function(t,n,r){typeof n=="string"&&(n=h.parseFormat(n));var i={d:t.getUTCDate(),D:c[r].daysShort[t.getUTCDay()],DD:c[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:c[r].monthsShort[t.getUTCMonth()],MM:c[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;var t=[],s=e.extend([],n.separators);for(var o=0,u=n.parts.length;o<=u;o++)s.length&&t.push(s.shift()),t.push(i[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=h,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=a,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);if(n.data("datepicker"))return;t.preventDefault(),n.datepicker("show")}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),define("datepicker",function(){}),function(e,t,n,r){var i=function(t,n){this.widget="",this.$element=e(t),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this._init()};i.prototype={constructor:i,_init:function(){var t=this;this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)})):this.template?this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this)}):this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)}),this.$widget=this.template!==!1?e(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",e.proxy(this.widgetClick,this)):!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=r,this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else 0===this.hour?this.hour=23:this.hour--;this.update()},decrementMinute:function(e){var t;t=e?this.minute-e:this.minute-this.minuteStep,0>t?(this.decrementHour(),this.minute=t+60):this.minute=t,this.update()},decrementSecond:function(){var e=this.second-this.secondStep;0>e?(this.decrementMinute(!0),this.second=e+60):this.second=e,this.update()},elementKeydown:function(e){switch(e.keyCode){case 9:switch(this.updateFromElementVal(),this.highlightedUnit){case"hour":e.preventDefault(),this.highlightNextUnit();break;case"minute":(this.showMeridian||this.showSeconds)&&(e.preventDefault(),this.highlightNextUnit());break;case"second":this.showMeridian&&(e.preventDefault(),this.highlightNextUnit())}break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}break;case 39:e.preventDefault(),this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(e.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}}},formatTime:function(e,t,n,r){return e=10>e?"0"+e:e,t=10>t?"0"+t:t,n=10>n?"0"+n:n,e+":"+t+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+r:"")},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),r=n.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-r}},getTemplate:function(){var e,t,n,r,i,s;switch(this.showInputs?(t='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',r='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',i='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',r='<span class="bootstrap-timepicker-second"></span>',i='<span class="bootstrap-timepicker-meridian"></span>'),s='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+t+"</td> "+'<td class="separator">:</td>'+"<td>"+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+r+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>",this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+s+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>"}return e},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){this.isOpen!==!1&&(this.showInputs&&this.updateFromWidgetInputs(),this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(n).off("mousedown.timepicker"),this.isOpen=!1)},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&2>=this.position?this.highlightHour():this.position>=3&&5>=this.position?this.highlightMinute():this.position>=6&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0);this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0);this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0);this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0);this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.setSelectionRange(9,11)},0):setTimeout(function(){e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return 23===this.hour?(this.hour=0,r):(this.hour++,this.update(),r)},incrementMinute:function(e){var t;t=e?this.minute+e:this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t,this.update()},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e,this.update()},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(this.$element.val())this.updateFromElementVal();else if("current"===e){var t=new Date,n=t.getHours(),r=Math.floor(t.getMinutes()/this.minuteStep)*this.minuteStep,i=Math.floor(t.getSeconds()/this.secondStep)*this.secondStep,s="AM";this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),s="PM"):s="AM"),this.hour=n,this.minute=r,this.second=i,this.meridian=s,this.update()}else e===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e)},setTime:function(e){var t,n;this.showMeridian?(t=e.split(" "),n=t[0].split(":"),this.meridian=t[1]):n=e.split(":"),this.hour=parseInt(n[0],10),this.minute=parseInt(n[1],10),this.second=parseInt(n[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(this.hour>12?this.hour=12:1>this.hour&&(this.hour=12),"am"===this.meridian||"a"===this.meridian?this.meridian="AM":("pm"===this.meridian||"p"===this.meridian)&&(this.meridian="PM"),"AM"!==this.meridian&&"PM"!==this.meridian&&(this.meridian="AM")):this.hour>=24?this.hour=23:0>this.hour&&(this.hour=0),0>this.minute?this.minute=0:this.minute>=60&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:0>this.second?this.second=0:this.second>=60&&(this.second=59)),this.update()},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){var t=this;e(n).on("mousedown.timepicker",function(n){0===e(n.target).closest(".bootstrap-timepicker-widget").length&&t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.disableFocus&&this.$element.blur(),this.updateFromElementVal(),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0}},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.updateElement(),this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var e=this.$element.val();e&&this.setTime(e)},updateWidget:function(){if(this.$widget!==!1){var e=10>this.hour?"0"+this.hour:this.hour,t=10>this.minute?"0"+this.minute:this.minute,n=10>this.second?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var t=e("input.bootstrap-timepicker-hour",this.$widget).val()+":"+e("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+e("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+e("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(t)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target).closest("a").data("action");n&&this[n]()},widgetKeydown:function(t){var n=e(t.target).closest("input"),r=n.attr("name");switch(t.keyCode){case 9:if(this.showMeridian){if("meridian"===r)return this.hideWidget()}else if(this.showSeconds){if("second"===r)return this.hideWidget()}else if("minute"===r)return this.hideWidget();this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),r){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}break;case 40:switch(t.preventDefault(),r){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}}}},e.fn.timepicker=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=e(this),s=r.data("timepicker"),o="object"==typeof t&&t;s||r.data("timepicker",s=new i(this,e.extend({},e.fn.timepicker.defaults,o,e(this).data()))),"string"==typeof t&&s[t].apply(s,n)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:".bootstrap-timepicker"},e.fn.timepicker.Constructor=i}(jQuery,window,document),define("timepicker",function(){}),function(e,t,n){function c(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function h(e,t){var r=this,i=n(r);if(r.value==i.attr("placeholder")&&i.hasClass("placeholder"))if(i.data("placeholder-password")){i=i.hide().next().show().attr("id",i.removeAttr("id").data("placeholder-id"));if(e===!0)return i[0].value=t;i.focus()}else r.value="",i.removeClass("placeholder"),r==d()&&r.select()}function p(){var e,t=this,r=n(t),i=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(c(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":i}).bind("focus.placeholder",h),r.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",i).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function d(){try{return t.activeElement}catch(e){}}var r=Object.prototype.toString.call(e.operamini)=="[object OperaMini]",i="placeholder"in t.createElement("input")&&!r,s="placeholder"in t.createElement("textarea")&&!r,o=n.fn,u=n.valHooks,a=n.propHooks,f,l;i&&s?(l=o.placeholder=function(){return this},l.input=l.textarea=!0):(l=o.placeholder=function(){var e=this;return e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":h,"blur.placeholder":p}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=i,l.textarea=s,f={get:function(e){var t=n(e),r=t.data("placeholder-password");return r?r[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var r=n(e),i=r.data("placeholder-password");return i?i[0].value=t:r.data("placeholder-enabled")?(t==""?(e.value=t,e!=d()&&p.call(e)):r.hasClass("placeholder")?h.call(e,!0,t)||(e.value=t):e.value=t,r):e.value=t}},i||(u.input=f,a.value=f),s||(u.textarea=f,a.value=f),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(h);setTimeout(function(){e.each(p)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),define("placeholder",function(){}),define("pluginloader",["jquery","tablesorter","tablepager","bootstrap","underscore","backbone","marionette","mustache","spin","jqueryspin","backbonesyphon","jqueryvalidate","underscorestring","additionalmethod","moment","plupload","tablepager","jqueryForm","datepicker","timepicker","placeholder"],function(){}),define("configs/marionette",["marionette","mustache"],function(e,t){return _.extend(e.Application.prototype,{navigate:function(e,t){return t==null&&(t={}),Backbone.history.navigate(e,t)},getCurrentRoute:function(){var e;return e=Backbone.history.fragment,_.isEmpty(e)?null:e},startHistory:function(){if(Backbone.history)return Backbone.history.start()},register:function(e,t){return this._registry==null&&(this._registry={}),this._registry[t]=e},unregister:function(e,t){return delete this._registry[t]},resetRegistry:function(){var e,t,n,r,i;r=this.getRegistrySize(),i=this._registry;for(t in i)e=i[t],e.region.close();return n="There were "+r+" controllers in the registry, there are now "+this.getRegistrySize(),this.getRegistrySize()>0?console.warn(n,this._registry):console.log(n)},getRegistrySize:function(){return _.size(this._registry)},registerElement:function(e,t){return this._elementRegistry==null&&(this._elementRegistry={}),this._elementRegistry[t]=e},unregisterElement:function(e,t){return delete this._elementRegistry[t]},resetElementRegistry:function(){var e,t,n,r,i;r=this.getElementRegistrySize(),i=this._elementRegistry;for(t in i)e=i[t],e.layout.close();return n="There were "+r+" controllers in the registry, there are now "+this.getElementRegistrySize(),this.getElementRegistrySize()>0?console.warn(n,this._elementRegistry):console.log(n)},getElementRegistrySize:function(){return _.size(this._elementRegistry)}}),_.extend(e.Region.prototype,{hide:function(){return this.$el.hide()},unhide:function(){return this.$el.show()}}),e.Renderer.render=function(e,n){return e||(e=""),typeof e=="function"&&(e=e()),t.to_html(e,n)},e.TemplateCache.prototype.loadTemplate=function(e){var t,n,r;r=e;if(!r||r.length===0)throw n="Could not find template: '"+e+"'",t=new Error(n),t.name="NoTemplateError",t;return r}}),define("configs/backbone",["backbone"],function(e){var t;return _.extend(e.Model.prototype,{sync:function(t,n,r){var i,s,o,u,a,f,l,c;if(!this.name)throw new Error("'name' property not set for the model");u={type:"POST",dataType:"json",data:{}},u.url=AJAXURL,f=""+t+"-"+this.name,u.data.action=f;switch(t){case"read":u.type="GET",s=n.idAttribute,u.data[s]=n.get(s);break;case"create":u.data=_.defaults(n.toJSON(),u.data);break;case"update":o=(l=r.onlyChanged)!=null?l:!1,o?n.hasChanged()&&(u.data.changes={},_.each(n.changed,function(e,t){return u.data.changes[e]=this.get(e)},this)):u.data=_.defaults(n.toJSON(),u.data);break;case"delete":i=(c=r.allData)!=null?c:!0,i?u.data=_.defaults(n.toJSON(),u.data):(s=n.idAttribute,u.data[s]=n.get(s))}a=r.xhr=e.ajax(_.extend(u,r)),n.trigger("request",n,a,r);if(t==="read"||t==="create")n._fetch=a;return a},parse:function(e){return e.code==="OK"?e.data:e}}),_.extend(e.Collection.prototype,{parse:function(e){return e.code==="OK"?e.data:e}}),t=e.sync,e.sync=function(e,n,r){var i;r==null&&(r={}),i=t(e,n,r);if(!n._fetch&&e==="read"||!n._fetch&&e==="create")n._fetch=i;return i}}),define("configloader",["configs/marionette","configs/backbone"],function(){}),define("app",["marionette"],function(e){return window.App=new e.Application,App.addRegions({headerRegion:"#header-region",leftNavRegion:"#left-nav-region",mainContentRegion:"#main-content-region",breadcrumbRegion:"#breadcrumb-region",footerRegion:"#footer-region",dialogRegion:"#dialog-region",loginRegion:"#login-region"}),App.rootRoute="",App.loginRoute="login",App.commands.setHandler("when:fetched",function(e,t){var n;return n=_.chain([e]).flatten().pluck("_fetch").value(),$.when.apply($,n).done(function(){return t()})}),App.reqres.setHandler("default:region",function(){return App.mainContentRegion}),App.on("initialize:after",function(e){App.startHistory(),App.execute("show:headerapp",{region:App.headerRegion}),App.execute("show:leftnavapp",{region:App.leftNavRegion});if(!App.getCurrentRoute())return App.navigate(this.rootRoute,{trigger:!0})}),App});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/menu",["app","backbone"],function(e){return e.module("Entities.Menu",function(e,t){var n;return e.MenuModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.name="menu",t.prototype.parse=function(e){return e.ID=parseInt(e.ID),e},t}(Backbone.Model),e.MenuCollection=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e.MenuModel,n.prototype.url=function(){return AJAXURL+"?action=get-menus"},n}(Backbone.Collection),n={getMenuItems:function(){var t;return t=new e.MenuCollection,t.fetch(),t}},t.reqres.setHandler("get:menu:collection",function(){return n.getMenuItems()})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/user",["app","backbone"],function(e){return e.module("Entities.User",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={display_name:"",role:"",user_registered:"",user_email:"",checked:""},t.prototype.name="user",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-users"},n}(Backbone.Collection),i=new r,n={getUsers:function(){return i.fetch(),i},saveUser:function(t){var n;return t==null&&(t={}),n=new e(t),n},addUser:function(e){return i.add(e)},editUser:function(t){var n;return n=i.get(t),n||(n=new e({ID:t}),i.add(n)),n}},t.reqres.setHandler("get:user:collection",function(){return n.getUsers()}),t.reqres.setHandler("create:user:model",function(e){return n.saveUser(e)}),t.commands.setHandler("add:new:user:model",function(e){return n.addUser(e)}),t.reqres.setHandler("get:user:data",function(e){return n.editUser(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/programmember",["app","backbone"],function(e){return e.module("Entities.Member",function(e,t){var n,r,i,s,o;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={display_name:"",referral_count:"",user_registered:"",customer:"",email:"",phone:"",user_login:"",points:"",purchased_ref:"",ref_discussion:"",status:"",action:"",confirmed:"",option:"",redem_date:"",date_confirm:"",option_arr:"",user_role:"",customer_val:"",rejected_status:"",history:"",history_date:"",history_status:"",user:""},t.prototype.name="member",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.filterbyname=function(e){var t;return t=this.filter(function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return e.customer?r=t.get("customer")==="true":r=!1,e.noncustomer?i=t.get("customer")==="false"||t.get("customer")==="":n=!1,e.ref_radio1?c=t.get("referral_count")===0:c=!1,e.ref_radio2?h=t.get("referral_count")<=5&&t.get("referral_count")>=1:h=!1,e.ref_radio3?p=t.get("referral_count")<=10&&t.get("referral_count")>=6:p=!1,e.ref_radio4?d=t.get("referral_count")<=50&&t.get("referral_count")>=11:d=!1,e.ref_radio5?v=t.get("referral_count")>50:v=!1,e.point1?s=t.get("points")===0:s=!1,e.point2?o=t.get("points")>=1&&t.get("points")<=2:o=!1,e.point3?u=t.get("points")>=3&&t.get("points")<=5:u=!1,e.point4?a=t.get("points")>=6&&t.get("points")<=10:a=!1,e.point6?l=t.get("points")>=11&&t.get("points")<=50:l=!1,e.point5?f=t.get("points")>50:f=!1,e.status1?m=t.get("status")==="Redemption Not initiated":m=!1,e.status2?g=t.get("status")==="Initiated":g=!1,e.status3?y=t.get("status")==="Approved":y=!1,e.status4?b=t.get("status")==="Confirmed":b=!1,e.status5?w=t.get("status")==="closed":w=!1,(r||i)&&(c||h||p||d||v)&&(s||o||u||a||f||l)&&(m||g||y||b||w)}),t},n.prototype.url=function(){return AJAXURL+"?action=get-members"},n}(Backbone.Collection),s=new r,o=new r,i=new r,n={getMembers:function(){return i.fetch(),s.fetch(),s},filterMembers:function(e){var t;return t=i.filterbyname(e),t},getProgramMemberUser:function(t){var n;return n=i.get(t),n||(n=new e({ID:t}),n.fetch({data:{action:"get_pm_model",userid:t}}),s.add(n)),n},getNewCollection:function(e){return e},getClonedCollection:function(e){return i.reset(e)}},t.reqres.setHandler("get:member:collection",function(){return n.getMembers()}),t.reqres.setHandler("filter:member:model",function(e){return n.filterMembers(e)}),t.reqres.setHandler("get:program_member:data",function(e){return n.getProgramMemberUser(e)}),t.reqres.setHandler("get:new:collection",function(e){return n.getNewCollection(e)}),t.reqres.setHandler("change:cloned:Collection",function(e){return n.getClonedCollection(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/referral_user",["app","backbone"],function(e){return e.module("Entities.ReferralUser",function(e,t){var n,r,i,s;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={name:"",phone:"",email:"",date:"",user_id:"",points:"",status:"",no_of_perchased_ref:"",no_of_discussion_referrals:""},t.prototype.name="referralUser",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-referrals"},n.prototype.filterById=function(e){var t;return t=this.filter(function(t){return t.get("user_id")===e}),t},n}(Backbone.Collection),s=new r,i=new r,s.fetch(),i.fetch(),n={getReferrals:function(e){var t;return t=i.filterById(e),s.reset(t),s}},t.reqres.setHandler("get:referral:list",function(e){return n.getReferrals(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/product",["app","backbone"],function(e){return e.module("Entities.Product",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={product_name:"",product_price:"",product_details:"",product_img:"",attachment:"",file:""},t.prototype.name="product",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-products"},n}(Backbone.Collection),i=new r,n={saveProduct:function(t){var n;return n=new e(t),n},getProducts:function(){return i.fetch(),i},addProduct:function(e){return i.add(e)},getSingleProduct:function(t){var n;return n=i.get(t),n||(n=new e({ID:t}),i.add(n)),n}},t.reqres.setHandler("create:new:product",function(e){return n.saveProduct(e)}),t.reqres.setHandler("get:product:collection",function(e){return n.getProducts(e)}),t.commands.setHandler("add:new:product:model",function(e){return n.addProduct(e)}),t.reqres.setHandler("get:user:model",function(e){return n.getSingleProduct(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/redemption",["app","backbone"],function(e){return e.module("Entities.Redemption",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={display_name:"",user_email:"",status:"",date:""},t.prototype.name="redemption",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-redemption"},n}(Backbone.Collection),i=new r,n={getRedemption:function(){return i.fetch(),i}},t.reqres.setHandler("get:redemption:collection",function(e){return n.getRedemption()})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/referrallist",["app","backbone"],function(e){return e.module("Entities.Referrallist",function(e,t){var n,r,i,s;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={display_name:"",program_name:"",status:"",date:"",date_import:"",datevalue:""},t.prototype.name="referrallist",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-referrallist"},n.prototype.filterbydata=function(e){var t;return t=this.filter(function(t){var n,r,i;return e.status1?r=t.get("status")==="New Referral":r=!1,e.status2?i=t.get("status")==="Converted":i=!1,n=!0,e.from_date!==""&&e.to_date!==""&&(e.from_date<=t.get("datevalue")&&t.get("datevalue")<=e.to_date?n=!0:n=!1),(r||i)&&n}),t},n}(Backbone.Collection),s=new r,i=new r,n={getRedemption:function(){return s.fetch({reset:!0}),i.fetch({reset:!0}),s},filterReferral:function(e){var t;return t=i.filterbydata(e),t}},t.reqres.setHandler("get:referrallist:collection",function(e){return n.getRedemption()}),t.reqres.setHandler("filter:referral:model",function(e){return n.filterReferral(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/customer",["app","backbone"],function(e){return e.module("Entities.Customer",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={referral_id:"",user_email:"",phone:"",date_of_import:"",date_of_purchase:"",purchase_value:"",date_of_expire:"",points:"",ref_count:""},t.prototype.name="customer",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-customers"},n}(Backbone.Collection),i=new r,n={getCustomers:function(e){return i.fetch({data:{username:e.username}}),i}},t.reqres.setHandler("get:customer:collection",function(e){return n.getCustomers(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/rewards",["app","backbone"],function(e){return e.module("Entities.Rewards",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={option:"",product_name:"",product_price:"",product_details:"",product_img:"",sum_of_points:"",disabled:"",classname:"",option_desc:"",min:"",max:"",checked:"",selected:""},t.prototype.name="rewards",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-rewards"},n.prototype.parse=function(e){return e},n}(Backbone.Collection),i=new r,n={getRewards:function(e){return i.fetch({reset:!0,data:{username:e.username}}),i},editUser:function(t){var n;return n=i.get(t),n.set("checked","checked"),n.set("selected","selected"),n||(n=new e({ID:t}),i.add(n)),n}},t.reqres.setHandler("get:rewards:collection",function(e){return n.getRewards(e)}),t.reqres.setHandler("get:new:rewards:model",function(e){return n.editUser(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/shipping",["app","backbone"],function(e){return e.module("Entities.Shipping",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={option:"",product_name:"",product_price:"",product_details:"",product_img:"",display_name:"",user_email:"",phone:"",sum_of_points:"",date:"",confirmed:"",initiatedby:"",status:""},t.prototype.name="shipping",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-shippingdetails"},n}(Backbone.Collection),i=new r,n={getRewards:function(e){return i.fetch({data:{username:e.username,option:e.option}}),i}},t.reqres.setHandler("get:shipping:data",function(e){return n.getRewards(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/optionadd",["app","backbone"],function(e){return e.module("Entities.OptionAdd",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={product_name:"",product_price:"",product_details:"",product_img:"",attachment:"",options:""},t.prototype.name="optionAdd",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-optionAdd"},n}(Backbone.Collection),i=new r,n={getOptionAdd:function(){return i.fetch(),i}},t.reqres.setHandler("get:optionadd:collection",function(){return n.getOptionAdd()})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/option",["app","backbone"],function(e){return e.module("Entities.Option",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={option_name:"",optiont_price:"",optiont_desc:"",product_details:"",opt_id:"",min_opt:"",max_opt:"",count:"",selected_arr:"",min_range:"",max_range:"",sum:"",prod_array:"",check:""},t.prototype.name="option",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-option"},n}(Backbone.Collection),i=new r,n={getOption:function(){return i.fetch(),i},saveOption:function(t){var n;return n=new e(t),n},addOption:function(e){return i.add(e)},getSingleOption:function(e){var t;return t=i.get(e),t||(t=new Product({ID:e}),i.add(t)),t}},t.reqres.setHandler("get:option:collection",function(){return n.getOption()}),t.reqres.setHandler("create:new:option",function(e){return n.saveOption(e)}),t.commands.setHandler("add:new:option:model",function(e){return n.addOption(e)}),t.reqres.setHandler("get:option:model",function(e){return n.getSingleOption(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/inventory",["app","backbone"],function(e){return e.module("Entities.Inventory",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={product_name:"",Confirmed_count:"",Initiated_count:"",Approved_count:"",Closed_Count:"",opt_id:""},t.prototype.name="inventory",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-inventory"},n}(Backbone.Collection),i=new r,n={getInventory:function(){return i.fetch(),i}},t.reqres.setHandler("get:inventory:collection",function(e){return n.getInventory()})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/pickup",["app","backbone"],function(e){return e.module("Entities.Pickup",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={month:"",date:"",year:"",name_array:"",date_array:"",hash:"",user_id:""},t.prototype.name="pickup",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-pickup"},n}(Backbone.Collection),i=new r,n={getPickup:function(){return i.fetch(),i}},t.reqres.setHandler("get:pickup:collection",function(e){return n.getPickup()})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("entities/inventoryPackage",["app","backbone"],function(e){return e.module("Entities.InventoryPackage",function(e,t){var n,r,i;return e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.idAttribute="ID",t.prototype.defaults={product_name:"",option_name:"",Confirmed_count:"",Initiated_count:"",Approved_count:"",Closed_Count:"",opt_id:""},t.prototype.name="inventoryPackage",t}(Backbone.Model),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.model=e,n.prototype.url=function(){return AJAXURL+"?action=get-inventory_package"},n}(Backbone.Collection),i=new r,n={getInventoryPackage:function(){return i.fetch(),i}},t.reqres.setHandler("get:inventoryPackage:collection",function(e){return n.getInventoryPackage()})})}),define("entitiesloader",["entities/menu","entities/user","entities/programmember","entities/referral_user","entities/product","entities/redemption","entities/referrallist","entities/customer","entities/rewards","entities/shipping","entities/optionadd","entities/option","entities/inventory","entities/pickup","entities/inventoryPackage"],function(){});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__slice=[].slice;define("controllers/region-controller",["marionette","app"],function(e,t){var n;return n=function(e){function n(e){e==null&&(e={}),this.region=e.region||t.request("default:region"),this._instance_id=_.uniqueId("controller"),t.commands.execute("register:instance",this,this._instance_id),n.__super__.constructor.call(this,e)}return __extends(n,e),n.prototype.close=function(){var e;return e=1<=arguments.length?__slice.call(arguments,0):[],delete this.region,delete this.options,t.commands.execute("unregister:instance",this,this._instance_id),n.__super__.close.call(this,e)},n.prototype.show=function(e,t){return t==null&&(t={}),_.defaults(t,{loading:!1,region:this.region}),this._setMainView(e),this._manageView(e,t)},n.prototype._setMainView=function(e){if(this._mainView)return;return this._mainView=e,this.listenTo(e,"close",this.close)},n.prototype._manageView=function(e,n){return n.loading?t.commands.execute("show:loading",e,n):n.region.show(e)},n}(e.Controller)});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("components/loading/loadingcontroller",["app","controllers/region-controller"],function(e,t){var n,r;return n=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(e){var t,n,r;r=e.view,t=e.config,t=_.isBoolean(t)?{}:t,_.defaults(t,{loadingType:"spinner",entities:this.getEntities(r),debug:!1});switch(t.loadingType){case"opacity":this.region.currentView.$el.css("opacity",.5);break;case"spinner":n=this.getLoadingView(),this.show(n);break;default:throw new Error("Invalid loadingType")}return this.showRealView(r,n,t)},n.prototype.showRealView=function(t,n,r){var i;return i=_.debounce(function(e){return function(){switch(r.loadingType){case"opacity":e.region.currentView.$el.removeAttr("style");break;case"spinner":if(e.region.currentView!==n)return t.close()}if(!r.debug)return e.show(t),t.triggerMethod("dependencies:fetched")}}(this),10),e.commands.execute("when:fetched",r.entities,i)},n.prototype.getEntities=function(e){return _.chain(e).pick("model","collection").toArray().compact().value()},n.prototype.getLoadingView=function(){return new r},n}(t),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template="<i></i>",t.prototype.className="loading-container",t.prototype.onShow=function(){var e;return e=this._getOptions(),this.$el.spin(e)},t.prototype.onClose=function(){return this.$el.spin(!1)},t.prototype._getOptions=function(){return{lines:10,length:6,width:2.5,radius:7,corners:1,rotate:9,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"auto",left:"auto"}},t}(Marionette.ItemView),e.commands.setHandler("show:loading",function(e,t){return new n({view:e,region:t.region,config:t.loading})})}),define("componentloader",["components/loading/loadingcontroller"],function(){}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!apps/header/right/templates/right.html",[],function(){return'\r\n<a href="#" class="dropdown-toggle" id="my-task-list" data-placement="bottom"  data-content=\'\' data-toggle="dropdown" >\r\n    <div class="user-details"> \r\n        <div class="username">\r\n           		<span class="light_grey">Logged in as:</span>						\r\n        </div>						\r\n    </div> \r\n    <div class="iconset top-chat-dark pull-right"></div>\r\n</a>	\r\n\r\n<div id="notification-list" class="popover fade bottom in" style="display:none; top: 52px; left: -56.9667px;">\r\n        <div class="arrow"></div>\r\n<h3 class="popover-title"></h3>\r\n    <div class="popover-content">\r\n    <div style="width:200px">\r\n        <div class="notification-messages success">\r\n            <div class="message-wrapper">\r\n                <div class="heading"></div>\r\n                <div class="description"></div>\r\n                <div class="date pull-left"></div>\r\n            </div>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n        <button type="button" class="btn btn-white btn-xs btn-mini" onclick="location.href = \'../../Skyi/dashboard\';">Dashbord</button>\r\n        <button type="button" id="logout" class="btn btn-primary btn-xs btn-mini" >Logout</button>							\r\n    </div>	\r\n</div>\r\n</div>\r\n\r\n'});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/header/right/rightapp",["app","controllers/region-controller","text!apps/header/right/templates/right.html"],function(e,t,n){return e.module("HeaderApp.RightHeaderApp",function(e,r){var i,s;return i=function(e){function t(){return this.showInfo=__bind(this.showInfo,this),this._currentUser=__bind(this._currentUser,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.view=e=this._getRightHeaderView(),this.listenTo(e,"get:current:user",this._currentUser),this.listenTo(e,"logout:current:user",this._logoutUser),this.show(e)},t.prototype._getRightHeaderView=function(){return new s({SITEURL:SITEURL})},t.prototype._currentUser=function(){var e;return e=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_current_user",success:function(t){return e.showInfo(t,{error:function(t){return e.showInfo(t)}})}})},t.prototype.showInfo=function(e){return this.view.triggerMethod("display:user:info",e)},t.prototype._logoutUser=function(){var e;return e=this,$.ajax({method:"POST",url:AJAXURL+"?action=logout_current_user",success:function(e){return location.href=SITEURL+"/wp-login.php"}})},t}(t),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=n,t.prototype.className="chat-toggler",t.prototype.onShow=function(){return this.trigger("get:current:user")},t.prototype.onDisplayUserInfo=function(e){var t,n,r,i,s,o;return t=e.date,n=t.split("-"),this.$el.find(".username").append(e.data.display_name),this.$el.find(".heading").append(e.data.display_name),o=e.data.role,r=o.split("_"),r&&(i=r[0],i=_.str.capitalize(r[0]),s=r[1],s=_.str.capitalize(r[1]),o=i+" "+s),this.$el.find(".description").append(o),this.$el.find(".pull-left").append(moment([n[0],n[1],n[2]]).fromNow())},t.prototype.events={"click #my-task-list":function(e){return this.$el.find("#notification-list").css("display")==="none"?this.$el.find("#notification-list").show():this.$el.find("#notification-list").hide()},"click #logout":function(e){return this.trigger("logout:current:user")}},t}(Marionette.ItemView),r.commands.setHandler("show:rightheaderapp",function(e){return e==null&&(e={}),new i(e)})})}),define("text!apps/header/templates/header.html",[],function(){return'<div class="header-seperation"> \r\n    <ul class="nav pull-left notifcation-center" id="main-menu-toggle-wrapper" style="display:none">	\r\n        <li class="dropdown"> <a id="main-menu-toggle" href="#main-menu"  class="" > <div class="iconset top-menu-toggle-white"></div> </a> </li>		 \r\n    </ul>\r\n    <!-- BEGIN LOGO -->	\r\n    <a href="../../Skyi/dashboard"><img src="../../html/assets/img/skyi-logo.png" class="logo" alt=""  data-src="assets/img/skyi-logo.png" height="40px" /></a>\r\n    <!-- END LOGO --> \r\n</div>\r\n<!-- END RESPONSIVE MENU TOGGLER --> \r\n<div class="header-quick-nav" > \r\n    <!-- BEGIN TOP NAVIGATION MENU -->\r\n    <div id="header-left-region" class="pull-left"> \r\n        \r\n    </div>\r\n    <!-- END TOP NAVIGATION MENU -->\r\n    <!-- BEGIN CHAT TOGGLER -->\r\n    <div id="header-right-region" class="pull-right"> \r\n\r\n    </div>\r\n    <!-- END CHAT TOGGLER -->\r\n</div> \r\n<!-- END TOP NAVIGATION MENU --> '});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/header/headerapp",["app","controllers/region-controller","apps/header/right/rightapp","text!apps/header/templates/header.html"],function(e,t,n,r){return e.module("HeaderApp",function(e,n){var i,s;return i=function(e){function t(){return this._getHeaderView=__bind(this._getHeaderView,this),this.showLeftRightViews=__bind(this.showLeftRightViews,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.layout=e=this._getHeaderView(),this.listenTo(e,"show",this.showLeftRightViews),this.show(e)},t.prototype.showLeftRightViews=function(){return n.execute("show:rightheaderapp",{region:this.layout.rightRegion})},t.prototype._getHeaderView=function(){return new s},t}(t),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=r,t.prototype.className="navbar-inner",t.prototype.regions={leftRegion:"#header-left-region",rightRegion:"#header-right-region"},t}(Marionette.Layout),n.commands.setHandler("show:headerapp",function(e){return e==null&&(e={}),new i(e)})})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/left-nav/leftnavapp",["app","controllers/region-controller"],function(e,t){return e.module("LeftNavApp",function(e,n){var r,i;return e.Controller=function(e){function t(){return this._getLeftNavView=__bind(this._getLeftNavView,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.collection=n.request("get:menu:collection"),this.view=e=this._getLeftNavView(this.collection),this.show(e)},t.prototype._getLeftNavView=function(e){return new r({collection:e})},t}(t),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="li",t.prototype.template='<a href="{{menu_item_link}}"> <i class="fa fa-caret-right"></i> <span class="title">{{post_title}}</span> <span class="selected"></span> </a>',t}(Marionette.ItemView),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template='<p class="menu-title">BROWSE </p> <ul class="menuitems"</ul>',t.prototype.className="page-sidebar-wrapper",t.prototype.id="main-menu-wrapper",t.prototype.itemView=i,t.prototype.itemViewContainer="ul.menuitems",t}(Marionette.CompositeView),n.commands.setHandler("show:leftnavapp",function(t){return t==null&&(t={}),new e.Controller(t)})})}),define("text!apps/users/list/templates/userlist.html",[],function(){return'	\r\n		<div class="page-title">		\r\n		\r\n		<h3><span class="semi-bold">Users</span></h3>	\r\n	</div>\r\n	      <div class="row-fluid">\r\n        <div class="span12">\r\n          <div class="grid simple ">\r\n            <!--<div class="grid-title">\r\n              <h4>Users <span class="semi-bold"></span></h4>\r\n            \r\n            </div>-->\r\n            <div class="grid-body referral-table">\r\n			<!--<select id="remote" class="pull-left" style="width:80px;">\r\n                    <option value="0">All</option>\r\n					{{#roles}}\r\n					<option value="{{name}}">{{name}}</option>\r\n					{{/roles}}\r\n                  </select>-->\r\n			  <div class="m-b-10 pull-right">\r\n			  <button  class="btn btn-primary pull-right" style="margin-right:5px;" id="add-user" onclick="location.href=\'#users/add\';" >Add Users</button>\r\n			</div>\r\n                <table class="table no-more-tables" id="user-list">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="width25">Name</th>\r\n                        <th class="width25">Role</th>\r\n                        <th class="width25">Last Login</th>\r\n                        <th class="width25">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                  \r\n       \r\n             \r\n                </tbody>\r\n              </table>\r\n			     <div id="myDiv" style="display:none;">\r\n					<div class="page-title">		\r\n						<i class="icon-custom-left" id="back-user-table"></i>\r\n						<h3><span class="semi-bold">Bulk Add</span></h3>	<br>\r\n						You can add all your user at one go\r\n					</div>\r\n					Your csv must be in the following format Email Address, Name, Telephone Number\r\n					<br><p class="text-success">eg: Micheal_sal@gmail.com, Micheal Saldana, 0456565555</p>\r\n					<div class="form-group">\r\n					\r\n					<input type="file" id="exampleInputFile" class="btn btn-primary">\r\n					<p class="help-block"> <a href="#">Sample CSV.</a></p>\r\n				  </div>\r\n				</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n		\r\n \r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/list/views",["app","text!apps/users/list/templates/userlist.html"],function(e,t){return e.module("Users.List.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template='<td class="v-align-middle width25"><div class="table_mob_hidden">Name</div>{{display_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Mobile</div>{{role}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Last Login</div>{{user_registered}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Action</div> <a href="#users/edit/{{ID}}" class="btn btn-primary btn-sm btn-small editUser">Edit</a></td>',t.prototype.className="",t.prototype.serializeData=function(){var e,n,r,i;return e=t.__super__.serializeData.call(this),n=this.model.get("display_name"),i=this.model.get("role"),n=_.str.capitalize(n),r=_.str.capitalize(i),e.display_name=n,e.role=r,e},t}(Marionette.ItemView),e.UserList=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="user-list",n.prototype.itemView=r,n.prototype.itemViewContainer="table#user-list tbody",n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/list/userslistcontroller",["app","controllers/region-controller","apps/users/list/views"],function(e,t){return e.module("Users.List",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e,t;return e=n.request("get:user:collection"),this.view=t=this._getUserView(e),this.show(t)},r.prototype._getUserView=function(t){return new e.Views.UserList({collection:t,templateHelpers:{roles:ROLES}})},r}(t),n.commands.setHandler("show:users:list",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/users/add/templates/useradd.html",[],function(){return'<div class="page-title">		\r\n		<a href="dashboard.html"></a>\r\n		<h3>Add <span class="semi-bold">Users</span></h3>	\r\n	</div>\r\n	<div class="row">\r\n            <div class="col-md-6">\r\n              <div class="grid simple">\r\n                <div class="grid-title no-border">\r\n                 \r\n                 \r\n                </div>\r\n                <div class="grid-body no-border">\r\n				<form id="addUserForm">\r\n                           \r\n                      <div class="form-group">\r\n                        <label class="form-label">Name</label>\r\n                        <span class="help">e.g. "Arvind Shah"</span>\r\n						<div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="text" name="display_name" required id="display_name"  class="form-control">                                 \r\n						</div>\r\n                      </div>\r\n                      <div class="form-group">\r\n                        <label class="form-label">Email Address</label>\r\n                        <div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="email" remote="{{AJAXURL}}?action=check_email" name="user_email" required id="user_email" class="form-control">                                 \r\n						</div>\r\n                      </div>\r\n					   <div class="row">\r\n							<div class="col-md-6">\r\n								<div class="form-group">\r\n									<label class="form-label">Role</label>\r\n									\r\n										<div class="input-with-icon  right">                                       \r\n											<i class=""></i>\r\n											<select name="role" id="role" required >\r\n												<option value="">Select a Role</option>\r\n											{{#roles}}\r\n												<option value="{{id}}">{{name}}</option>\r\n											{{/roles}}	\r\n							\r\n											</select>\r\n										</div>\r\n								</div>\r\n							</div>\r\n							<div class="col-md-6">\r\n								\r\n							</div>\r\n					   </div>\r\n					   <div class="form-group">\r\n                        <label class="form-label">Password</label>\r\n                        <div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="password"  name="password" required id="password" class="form-control">                                 \r\n						</div>\r\n                      </div>\r\n				\r\n					\r\n				  <div class="form-actions">  \r\n					<div class="pull-right">\r\n					  <button type="submit" id="saveUser" class="btn btn-success btn-cons"><i class="icon-ok"></i> Save</button>\r\n					  <button type="button" class="btn btn-white btn-cons" onclick="location.href=\'#users\';">Cancel</button>\r\n					  <button type="reset" class="hidden">Reset</button>\r\n					</div>\r\n					</div>\r\n				</form>\r\n                </div>\r\n              </div>\r\n            </div>		\r\n            <div class="col-md-6">\r\n        <div class="grid simple">\r\n							<div class="grid-title no-border">\r\n								<h4> <span class="semi-bold">Help</span></h4>\r\n							\r\n							</div>\r\n							<div class="grid-body no-border">\r\n								<div class="row-fluid">\r\n\r\n								<span class="semi-bold">Add a new user or edit the role for an existing user. You can assign one of the following roles:</span><ul>\r\n								  <li>Administrator</li>\r\n								  <li>Rewards Manager</li>\r\n								  </ul>\r\n								<span class="semi-bold">Administrator has the ability to:</span><ul>\r\n								<li>Manage Users</li>\r\n								<li>ManageProgram Members, Products, Points and Redemption of Points</li>\r\n								<li>Import Customers Database</li>\r\n								  </ul>\r\n								<span class="semi-bold">Rewards Manager has the ability to:</span><ul>\r\n								<li>Manage Program Members, Products, Points and Redemption of Points</li>\r\n								  <li>Import Customers Database</li></ul>\r\n								  </div>\r\n							</div>\r\n						</div>\r\n            </div>\r\n          </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/add/adduserview",["app","text!apps/users/add/templates/useradd.html"],function(e,t){return e.module("Users.Add.Views",function(e,n){return e.UserAddView=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="",n.prototype.events={"click #saveUser":function(e){e.preventDefault();if(this.$el.find("#addUserForm").valid())return this.$el.find(".alert").remove(),this.$el.find("#saveUser").attr("disabled",!0),this.trigger("save:new:user",Backbone.Syphon.serialize(this))}},n.prototype.onNewUserAdded=function(e){return e.code==="Error"?this.$el.find("#addUserForm").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> User with the given email address is already present in the system</div>'):(this.$el.find("#addUserForm").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> New user added successfully</div>'),location.href="#users"),this.$el.find("#saveUser").removeAttr("disabled"),this.$el.find('button[type="reset"]').trigger("click")},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/add/useraddcontroller",["app","controllers/region-controller","apps/users/add/adduserview"],function(e,t){return e.module("Users.Add",function(e,n){var r;return r=function(t){function r(){return this.userAdded=__bind(this.userAdded,this),this._saveUser=__bind(this._saveUser,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.view=e=this._getUserAddView(),this.listenTo(e,"save:new:user",this._saveUser),this.show(e)},r.prototype._getUserAddView=function(){return new e.Views.UserAddView({templateHelpers:{roles:ROLES,AJAXURL:AJAXURL}})},r.prototype._saveUser=function(e){var t;return t=n.request("create:user:model",e),t.save(null,{wait:!0,success:this.userAdded})},r.prototype.userAdded=function(e,t){return n.execute("add:new:user:model",e),this.view.triggerMethod("new:user:added",t)},r}(t),n.commands.setHandler("show:users:add",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/users/bulkadd/templates/bulkadd.html",[],function(){return'			     <div id="myDiv">\r\n					<div class="page-title">		\r\n						<i class="icon-custom-left" id="back-user-table"></i>\r\n						<h3><span class="semi-bold">Bulk Add</span></h3>	<br>\r\n						You can add all your user at one go\r\n					</div>\r\n					Your csv must be in the following format Email Address, Name, Telephone Number\r\n					<br><p class="text-success">eg: Micheal_sal@gmail.com, Micheal Saldana, 0456565555</p>\r\n					<div class="form-group">\r\n					\r\n					<input type="file" id="exampleInputFile" class="btn btn-primary">\r\n					<p class="help-block"> <a href="#">Sample CSV.</a></p>\r\n				  </div>\r\n				</div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/bulkadd/bulkview",["app","text!apps/users/bulkadd/templates/bulkadd.html"],function(e,t){return e.module("Users.BulkAdd.Views",function(e,n){return e.UsersBulkView=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="",n}(Marionette.ItemView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/bulkadd/bulkaddcontroller",["app","controllers/region-controller","apps/users/bulkadd/bulkview"],function(e,t){return e.module("Users.BulkAdd",function(e,n){var r;return r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(){var e;return this.view=e=this._getUserBulkView(),this.show(e)},n.prototype._getUserBulkView=function(){return new e.Views.UsersBulkView},n}(t),n.commands.setHandler("show:users:bulkadd",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/users/edit/templates/useredit.html",[],function(){return'<div class="page-title">		\r\n		<!--<a href="#users"><i class="icon-custom-left"></i></a>-->\r\n		<h3>Edit <span class="semi-bold">User</span></h3>	\r\n	</div>\r\n	<div class="row">\r\n			<div class="col-md-6">\r\n			  <div class="grid simple">\r\n				<div class="grid-title no-border">\r\n				 \r\n				 \r\n				</div>\r\n				<div class="grid-body no-border">\r\n				<form id="editUserForm">\r\n						   \r\n					  <div class="form-group">\r\n						<label class="form-label">Name</label>\r\n						<span class="help">e.g. "Arvind Shah"</span>\r\n						<div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							\r\n				<input type="text" name="display_name" required id="display_name" value="{{display_name}}" class="form-control">                                 \r\n						</div>\r\n					  </div>\r\n					  <div class="form-group">\r\n						<label class="form-label">Email Address</label>\r\n						<div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="email" readonly  name="user_email" required id="user_email" value="{{user_email}}" class="form-control">                                 \r\n						</div>\r\n					  </div>\r\n					   <div class="row">\r\n							<div class="col-md-6">\r\n								<div class="form-group">\r\n									<label class="form-label">Role</label>\r\n									\r\n										<div class="input-with-icon  right">                                       \r\n											<i class=""></i>\r\n											<select name="role" id="role" required >\r\n												<option value="">Select a Role</option>\r\n											{{#roles}}\r\n												<option value="{{id}}">{{name}}</option>\r\n											{{/roles}}	\r\n							\r\n											</select>\r\n										</div>\r\n								</div>\r\n							</div>\r\n							<div class="col-md-6">\r\n							\r\n							</div>\r\n					   </div>\r\n					   <div class="form-group">\r\n                        <label class="form-label">Password</label>\r\n                        <div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="password"  name="password" id="password" class="form-control">                                 \r\n						</div>\r\n                      </div>\r\n						<div class="form-group">\r\n                        <label class="form-label">Suspend</label>\r\n                        <div class="input-with-icon  right">                                       \r\n							<i class=""></i>\r\n							<input type="checkbox" class="suspend" {{checked}} name="suspend" id="suspend" value="0" />                                 \r\n						</div>\r\n                      </div>\r\n					\r\n				  <div class="form-actions">  \r\n					<div class="pull-right">\r\n					  <button type="submit" id="updateUser" class="btn btn-success btn-cons"><i class="icon-ok"></i> Save</button>\r\n					  <button type="button" class="btn btn-white btn-cons" onclick="location.href=\'#users\';">Cancel</button>\r\n					 <button type="reset" class="hidden">Reset</button>\r\n					</div>\r\n					</div>\r\n				</form>\r\n				</div>\r\n			  </div>\r\n			</div>		\r\n			<div class="col-md-6">\r\n		<div class="grid simple">\r\n							<div class="grid-title no-border">\r\n								<h4> <span class="semi-bold">Help</span></h4>\r\n							\r\n							</div>\r\n							<div class="grid-body no-border">\r\n								<div class="row-fluid">\r\n								<span class="semi-bold">Add a new user or edit the role for an existing user. You can assign one of the following roles:</span><ul>\r\n								  <li>Administrator</li>\r\n								  <li>Rewards Manager</li>\r\n								  </ul>\r\n								<span class="semi-bold">Administrator has the ability to:</span><ul>\r\n								<li>Manage Users</li>\r\n								<li>ManageProgram Members, Products, Points and Redemption of Points</li>\r\n								<li>Import Customers Database</li>\r\n								  </ul>\r\n								<span class="semi-bold">Rewards Manager has the ability to:</span><ul>\r\n								<li>Manage Program Members, Products, Points and Redemption of Points</li>\r\n								  <li>Import Customers Database</li></ul>\r\n								</div>\r\n							</div>\r\n						</div>\r\n			</div>\r\n		  </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/edit/edituserview",["app","text!apps/users/edit/templates/useredit.html"],function(e,t){return e.module("Users.Edit.Views",function(e,n){return e.UserEditView=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="",n.prototype.events={"click #updateUser":function(e){e.preventDefault();if(this.$el.find("#editUserForm").valid())return this.$el.find(".alert").remove(),this.$el.find("#updateUser").attr("disabled",!0),this.trigger("update:new:user",Backbone.Syphon.serialize(this))},"click .suspend":function(e){return $("#"+e.target.id).prop("checked")===!0?$("#"+e.target.id).val(1):$("#"+e.target.id).val(0)}},n.prototype.onShow=function(){var e,t;return $("html, body").animate({scrollTop:0},"slow"),t=this.model.attributes.role,e=_.str.capitalize(t),this.$el.find("#role option[value='"+t+"']").attr("selected","selected")},n.prototype.onUserUpdated=function(e){return e.code==="Error"?this.$el.find("#editUserForm").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> User with the given email address is already present in the system</div>'):(this.$el.find("#editUserForm").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> User updated successfully</div>'),location.href="#users"),this.$el.find("#updateUser").removeAttr("disabled"),this.$el.find('button[type="reset"]').trigger("click")},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/edit/editusercontroller",["app","controllers/region-controller","apps/users/edit/edituserview"],function(e,t){return e.module("Users.Edit",function(e,n){var r;return r=function(t){function r(){return this.userUpdated=__bind(this.userUpdated,this),this._updateUser=__bind(this._updateUser,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t,r;return t=e.ID,this.model=n.request("get:user:data",t),this.view=r=this._getUserEditView(this.model),this.listenTo(r,"update:new:user",this._updateUser),this.show(r)},r.prototype._getUserEditView=function(t){return new e.Views.UserEditView({model:t,templateHelpers:{roles:ROLES,AJAXURL:AJAXURL}})},r.prototype._updateUser=function(e){return this.model.save(e,{wait:!0,success:this.userUpdated})},r.prototype.userUpdated=function(e,t){return this.view.triggerMethod("user:updated",t)},r}(t),n.commands.setHandler("show:users:edit",function(e){return new r(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/users/usersapp",["app","apps/users/list/userslistcontroller","apps/users/add/useraddcontroller","apps/users/bulkadd/bulkaddcontroller","apps/users/edit/editusercontroller"],function(e){return e.module("Users",function(e,t){var n,r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={users:"list","users/list":"list","users/add":"add","users/edit/:id":"edit","users/bulk-add":"bulkAdd"},t}(Marionette.AppRouter),n={list:function(){return t.execute("show:users:list",{region:t.mainContentRegion})},add:function(){return t.execute("show:users:add",{region:t.mainContentRegion})},edit:function(e){return t.execute("show:users:edit",{region:t.mainContentRegion,ID:e})},bulkAdd:function(){return t.execute("show:users:bulkadd",{region:t.mainContentRegion})}},e.on("start",function(){return new r({controller:n})})})}),define("text!apps/program-member/programmember/templates/program-member.html",[],function(){return'\r\n		<div class="page-title">		\r\n		\r\n		<h3>Welcome, &nbsp;<span class="semi-bold bolesemi"></span></h3>	\r\n	</div>\r\n\r\n\r\n\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n		<div class="panel-group panel-product" >\r\n		  <div class="program_filter panel panel-default">\r\n			<div class="panel-heading">\r\n			  <h4 class="panel-title">\r\n				<a id="hideshow" class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">\r\n							 <span class="semi-bold">Click to filter your search</span>\r\n							 <div class="plus_img pull-right"></div>\r\n				</a>\r\n				\r\n			  </h4>\r\n			</div>\r\n			<div id="collapseOne" class="panel-heading panel-collapse collapse">\r\n			  <div class="panel-body">\r\n				        <form id="prgram_member_form">\r\n				        		   <div class="row">\r\n                        <div class="col-md-3">\r\n                          <div class="grid simple">\r\n							<div class="grid-title ">\r\n							  <h4>Is a customer?</h4>\r\n							</div>\r\n							<div class="grid-body ">\r\n								 <div class="checkbox check-success ">\r\n										<input id="customer" name="customer" type="checkbox" value="1" >\r\n										 <label for="customer" style="padding-left:25px;">Yes</label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="noncustomer" name="noncustomer" type="checkbox" value="1" >\r\n										 <label for="noncustomer" style="padding-left:25px;">No</label>\r\n								</div>\r\n \r\n								<!--<div class="links">\r\n									<a href="javascript:void(0)" id="customer_check">Check all</a>\r\n									<span class="grey_text">|</span>\r\n									<a href="javascript:void(0)" id="customer_uncheck" >None</a>\r\n							  </div>-->\r\n \r\n							</div>\r\n						  </div>\r\n						</div>\r\n						   <div class="col-md-3">\r\n                          <div class="grid simple">\r\n							<div class="grid-title ">\r\n							  <h4>No of Referrals </h4>\r\n							</div>\r\n							\r\n							<div class="grid-body">\r\n 							<div class="checkbox check-success ">\r\n										<input id="ref_radio1" name="ref_radio1" type="checkbox" value="1" >\r\n										 <label for="ref_radio1" style="padding-left:25px;">0</label>\r\n										 	<input type="hidden" name="ref_point1" id="ref_point1" value="">\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								 <div class="checkbox check-success ">\r\n										<input id="ref_radio2" name="ref_radio2" type="checkbox" value="1" >\r\n										 <label for="ref_radio2" style="padding-left:25px;">1 to 5</label>\r\n										 	<input type="hidden" name="ref_point2" id="ref_point2" value="">\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n										<input id="ref_radio3" name="ref_radio3" type="checkbox" value="1" >\r\n										 <label for="ref_radio3" style="padding-left:25px;">6 to 10</label>\r\n										 	<input type="hidden" name="ref_point3" id="ref_point3" value="">\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n										<input id="ref_radio4" name="ref_radio4" type="checkbox" value="4" >\r\n										 <label for="ref_radio4" style="padding-left:25px;">11 to 50</label>\r\n										 	<input type="hidden" name="ref_point4" id="ref_point4" value="">\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n										<input id="ref_radio5" name="ref_radio5" type="checkbox" value="1" >\r\n										 <label for="ref_radio5" style="padding-left:25px;">more than 50</label>\r\n										 	<input type="hidden" name="ref_point5" id="ref_point5" value="">\r\n								</div>\r\n								<div class="clearfix"></div>\r\n						  \r\n							<div class="links">\r\n							<a href="javascript:void(0)" id="referral_check">Check all</a>\r\n							<span class="grey_text">|</span>\r\n							<a href="javascript:void(0)" id="referral_uncheck">None</a>\r\n							</div>\r\n							</div>\r\n						  </div>\r\n						</div>\r\n						<div class="col-md-3">\r\n                          <div class="grid simple">\r\n							<div class="grid-title ">\r\n							  <h4>Points</h4>\r\n							</div>\r\n							\r\n							<div class="grid-body">\r\n							<div class="">\r\n\r\n								<div class="checkbox check-success ">\r\n									<input id="point1" name="point1" type="checkbox" value="1" >\r\n									<label for="point1" style="padding-left:25px;">0</label> \r\n								</div>\r\n								<div class="clearfix"></div> \r\n								<div class="checkbox check-success ">\r\n									<input id="point2" name="point2" type="checkbox" value="1" >\r\n									<label for="point2" style="padding-left:25px;">1 to 2</label> \r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n									<input id="point3" name="point3" type="checkbox" value="1" >\r\n									<label for="point3" style="padding-left:25px;">3 to 5</label> \r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n									<input id="point4" name="point4" type="checkbox" value="1" >\r\n									<label for="point4" style="padding-left:25px;">6 to 10</label> \r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n									<input id="point6" name="point6" type="checkbox" value="1" >\r\n									<label for="point6" style="padding-left:25px;">11 to 50</label> \r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n									<input id="point5" name="point5" type="checkbox" value="1" >\r\n									<label for="point5" style="padding-left:25px;">more than 50</label> \r\n								</div>\r\n								<div class="clearfix"></div>\r\n							</div>\r\n\r\n							 \r\n							<div class="clearfix"></div>\r\n							<div class="links">\r\n							<a href="javascript:void(0)" id="point_check">Check all</a>\r\n							<span class="grey_text">|</span>\r\n							<a href="javascript:void(0)" id="point_uncheck">None</a>\r\n							</div>\r\n							</div>\r\n						  </div>\r\n						</div>\r\n						<!--<div class="col-md-4">\r\n                          <div class="grid simple">\r\n							<div class="grid-title ">\r\n							  <h4>Points </h4>\r\n							</div>\r\n							<div class="grid-body">\r\n								<div class="">\r\n								 <div class="checkbox check-success ">\r\n										<input id="point1" name="point1" type="checkbox" value="1" >\r\n										 <label for="point1" style="padding-left:25px;"><b>0</b></label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="point2" name="point2" type="checkbox" value="1" >\r\n										 <label for="point2" style="padding-left:25px;"><b>< 2</b></label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="point3" name="point3" type="checkbox" value="1" >\r\n										 <label for="point3" style="padding-left:25px;"><b>< 5</b></label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="point4" name="point4" type="checkbox" value="1" >\r\n										 <label for="point4" style="padding-left:25px;"><b>< 10</b></label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="point5" name="point5"  type="checkbox" value="1" >\r\n										 <label for="point5" style="padding-left:25px;"><b>> 10</b></label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n							</div>\r\n										                \r\n			                <div class="clearfix"></div>\r\n			                		<div class="links">\r\n									<a href="#" id="point_check">Check all</a>\r\n									<span class="grey_text">|</span>\r\n									<a href="#" id="point_uncheck">None</a>\r\n							  </div>\r\n							  </div>\r\n						  </div>\r\n						</div>-->\r\n						 <div class="col-md-3">\r\n                          <div class="grid simple">\r\n							<div class="grid-title ">\r\n							  <h4>Redemption Status </h4>\r\n							</div>\r\n							<div class="grid-body ">\r\n								 <div class="checkbox check-success ">\r\n										<input id="status1" name="status1" type="checkbox" value="1" >\r\n										 <label for="status1" style="padding-left:25px;">Redemption Not Initiated</label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success">\r\n										<input id="status2" name="status2" type="checkbox" value="1" >\r\n										 <label for="status2" style="padding-left:25px;">Initiated</label>\r\n								</div>\r\n								<div class="checkbox check-success ">\r\n										<input id="status3" name="status3" type="checkbox" value="1" >\r\n										 <label for="status3" style="padding-left:25px;">Approved</label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n										<input id="status4" name="status4" type="checkbox" value="1" >\r\n										 <label for="status4" style="padding-left:25px;">Confirmed</label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="checkbox check-success ">\r\n										<input id="status5" name="status5" type="checkbox" value="1" >\r\n										 <label for="status5" style="padding-left:25px;">Closed</label>\r\n								</div>\r\n								<div class="clearfix"></div>\r\n								<div class="links">\r\n \r\n									<a href="javascript:void(0)" id="status_check">Check all</a>\r\n									<span class="grey_text">|</span>\r\n									<a href="javascript:void(0)" id="status_uncheck" >None</a>\r\n \r\n							  </div>\r\n							</div>\r\n						  </div>\r\n						</div>\r\n						\r\n						  </div>\r\n						</div>\r\n						<div class="clearfix"></div>\r\n						<button type="button" id="submitform" class="btn btn-primary btn-cons m-t-10 pull-right">Submit</button>\r\n						<div class="pace pace-inactive pull-right m-r-5 m-t-10">\r\n								<div class="pace-activity"></div>\r\n						</div>\r\n						<div class="clearfix"></div><div class="pace pace-inactive pull-left">\r\n                        <div class="pace-activity"></div></div>\r\n						</div>\r\n              </form>\r\n			  </div>\r\n			</div>\r\n		  </div>\r\n\r\n		</div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n \r\n	 <div class="row-fluid">\r\n        <div class="span12">\r\n          <div class="grid simple ">\r\n            <div class="grid-title">\r\n              <h4><span class="semi-bold">Program Members </span>Listed below</h4>\r\n            </div>\r\n		\r\n            <div class="grid-body referral-table ">	\r\n               <table id="program-member-table" class="table no-more-tables">\r\n               <thead>\r\n                   <tr>\r\n                       <th class="width20">Name<span class="arrow"></span></th>\r\n                       <th class="width20 {sorter: \'digit\'}">Date Joined<span class="arrow"></span></th>\r\n                       <th class="width20 {sorter: \'digit\'}">No Of Referrals<span class="arrow"></span></th>\r\n                       <th class="width20 {sorter: \'digit\'}">Points<span class="arrow"></span></th>\r\n                       <th class="width20">Status<span class="arrow"></span></th>\r\n                       <th class="width20">customer<span class="arrow"></span></th>\r\n                   </tr>\r\n               </thead>\r\n               <tbody>\r\n                  \r\n               \r\n       \r\n             \r\n                </tbody>\r\n                <tfoot>\r\n    \r\n    <tr>\r\n      <td class="pager" colspan="5">\r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/first.png" class="first"/> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/prev.png" class="prev"/> \r\n        <span class="pagedisplay"></span> <!-- this can be any element, including an input --> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/next.png" class="next"/> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/last.png" class="last"/> \r\n        \r\n      </td>\r\n    </tr>\r\n  </tfoot>\r\n              </table>\r\n\r\n\r\n              </div>\r\n              \r\n              		        </div>\r\n        </div>\r\n      </div> '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/programmember/program-member-view",["app","text!apps/program-member/programmember/templates/program-member.html"],function(e,t){return e.module("Member.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.className="user_class",t.prototype.template='<td class="v-align-middle width20 clickable"><div class="table_mob_hidden">Name</div>{{display_name}}</td> <td class="v-align-middle width20"><div class="table_mob_hidden">Date Joined</div>{{user_registered}}</td> <td class="v-align-middle width20"><div class="table_mob_hidden">No Of Referrals</div>{{referral_count}}</td> <td class="v-align-middle width20"><div class="table_mob_hidden">Points</div>{{points}}</td> <td class="v-align-middle width20 status"><div class="table_mob_hidden">Status</div>{{status}}</td> <td class="v-align-middle width20"><div class="table_mob_hidden">Is a Customer</div>{{customer_val}}</td>',t.prototype.events={"click ":"click"},t.prototype.modelEvents={"change:status":function(){return this.$el.find(".status").text(this.model.get("status"))}},t.prototype.click=function(){return location.href="#referrals/"+this.model.get("user_login")+"/"+this.model.get("ID")},t.prototype.onShow=function(){return this.$el.find(".bolesemi").text(this.model.get("user_role"))},t}(Marionette.ItemView),e.ProgramMember=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="",n.prototype.itemView=r,n.prototype.itemViewContainer="table#program-member-table tbody",n.prototype.onShow=function(){var e,t;return t=_.str.capitalize(this.collection.models[0].attributes.user_role),this.$el.find(".bolesemi").text(t),this.$el.find("#customer").attr("checked",!0),this.$el.find("#noncustomer").attr("checked",!0),this.$el.find("#ref_radio1").prop("checked",!0),this.$el.find("#ref_radio2").prop("checked",!0),this.$el.find("#ref_radio3").prop("checked",!0),this.$el.find("#ref_radio4").prop("checked",!0),this.$el.find("#ref_radio5").prop("checked",!0),this.$el.find("#point1").prop("checked",!0),this.$el.find("#point2").prop("checked",!0),this.$el.find("#point3").prop("checked",!0),this.$el.find("#point4").prop("checked",!0),this.$el.find("#point5").prop("checked",!0),this.$el.find("#point6").prop("checked",!0),this.$el.find("#status1").prop("checked",!0),this.$el.find("#status2").prop("checked",!0),this.$el.find("#status3").prop("checked",!0),this.$el.find("#status4").prop("checked",!0),this.$el.find("#status5").prop("checked",!0),e=this,this.$el.find("#program-member-table").tablesorter({theme:"blue",widthFixed:!0,sortList:[[0,1]],widgets:["zebra","filter"]}).tablesorterPager({container:$(".pager"),size:25})},n.prototype.events={"click #customer_check":function(e){return this.$el.find("#customer").prop("checked",!0),this.$el.find("#noncustomer").prop("checked",!0)},"click #referral_check":function(e){return this.$el.find("#ref_radio1").prop("checked",!0),this.$el.find("#ref_radio2").prop("checked",!0),this.$el.find("#ref_radio3").prop("checked",!0),this.$el.find("#ref_radio4").prop("checked",!0),this.$el.find("#ref_radio5").prop("checked",!0)},"click #customer_uncheck":function(e){return $("#noncustomer").prop("checked",!1),$("#customer").prop("checked",!1)},"click #referral_uncheck":function(e){return this.$el.find("#ref_radio1").prop("checked",!1),this.$el.find("#ref_radio2").prop("checked",!1),this.$el.find("#ref_radio3").prop("checked",!1),this.$el.find("#ref_radio4").prop("checked",!1),this.$el.find("#ref_radio5").prop("checked",!1)},"click #submitform":function(e){return e.preventDefault(),this.$el.find("#hideshow").addClass("collapsed"),this.$el.find("#collapseOne").removeClass("collapse in"),this.$el.find("#collapseOne").addClass("collapse"),this.trigger("filter:member:info",Backbone.Syphon.serialize(this))},"click .ref_class":function(e){return this.$el.find("#ref_point1").val("false"),this.$el.find("#ref_point2").val("false"),this.$el.find("#ref_point3").val("false"),this.$el.find("#ref_point4").val("false"),this.$el.find("#ref_point5").val("false"),this.$el.find("#ref_radio"+e.target.value).prop("checked",!0),this.$el.find("#ref_point"+e.target.value).val("true")},"click #status_check":function(e){return this.$el.find("#status1").prop("checked",!0),this.$el.find("#status2").prop("checked",!0),this.$el.find("#status3").prop("checked",!0),this.$el.find("#status4").prop("checked",!0),this.$el.find("#status5").prop("checked",!0)},"click #status_uncheck":function(e){return this.$el.find("#status1").prop("checked",!1),this.$el.find("#status2").prop("checked",!1),this.$el.find("#status3").prop("checked",!1),this.$el.find("#status4").prop("checked",!1),this.$el.find("#status5").prop("checked",!1)},"click #point_check":function(e){return this.$el.find("#point1").prop("checked",!0),this.$el.find("#point2").prop("checked",!0),this.$el.find("#point3").prop("checked",!0),this.$el.find("#point4").prop("checked",!0),this.$el.find("#point5").prop("checked",!0),this.$el.find("#point6").prop("checked",!0)},"click #point_uncheck":function(e){return this.$el.find("#point1").prop("checked",!1),this.$el.find("#point2").prop("checked",!1),this.$el.find("#point3").prop("checked",!1),this.$el.find("#point4").prop("checked",!1),this.$el.find("#point5").prop("checked",!1),this.$el.find("#point6").prop("checked",!1)},"click .point_class":function(e){return this.$el.find("#point_check1").val("false"),this.$el.find("#point_check2").val("false"),this.$el.find("#point_check3").val("false"),this.$el.find("#point_check4").val("false"),this.$el.find("#point_check5").val("false"),this.$el.find("#point"+e.target.value).prop("checked",!0),this.$el.find("#point_check"+e.target.value).val("true")}},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/programmember/program-member-controller",["app","controllers/region-controller","apps/program-member/programmember/program-member-view"],function(e,t){return e.module("Member",function(e,n){var r;return r=function(t){function r(){return this._changeCollection=__bind(this._changeCollection,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.memberCollection=n.request("get:member:collection"),this.view=e=this._getView(this.memberCollection),this.listenTo(e,"filter:member:info",this._filterMember),this.listenTo(e,"change:member:collection",this._changeCollection),n.execute("when:fetched",[this.memberCollection],function(t){return function(){return t.show(e)}}(this))},r.prototype._getView=function(t){return new e.Views.ProgramMember({collection:t,templateHelpers:{AJAXURL:AJAXURL}})},r.prototype._filterMember=function(e){var t;return t=n.request("filter:member:model",e),console.log(t),this.memberCollection.reset(t),$("#program-member-table").trigger("update")},r.prototype._changeCollection=function(e){return n.request("change:cloned:Collection",e)},r}(t),n.commands.setHandler("show:program:members",function(e){return e==null&&(e={}),new r(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/program-member-app",["app","apps/program-member/programmember/program-member-controller"],function(e){return e.module("ProgramMember",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={view:"list","referrals/:id/:userid":"show"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:program:members",{region:t.mainContentRegion})},show:function(e,n){return t.execute("show:main:App",{region:t.mainContentRegion,ID:e,userid:n})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/program-member/members/templates/member_info.html",[],function(){return'\r\n			<div class="page-title">		\r\n		<a href="dashboard.html"></a>\r\n		<h3><span class="semi-bold">{{display_name}} Dashboard</span></h3>	\r\n	</div>\r\n			 <div class="row email_message">\r\n				<div class="col-md-4">\r\n					<div class="dashboard_grid padding-20 tiles white vertical ">\r\n							<div class="">\r\n								<h4><span class="semi-bold">Profile</span> Details </h4>\r\n								\r\n							</div>\r\n\r\n							<div class="">\r\n								<div class="row ">\r\n					 					<div class="col-md-12 ">\r\n										   <address class="margin-top-10 margin-bottom-20">\r\n												<strong >Name :</strong>&nbsp;{{display_name}}<br><br>\r\n												<strong>Email :</strong>&nbsp;{{user_email}}<br><br>\r\n												<strong>Phone :</strong>&nbsp;{{phone}}\r\n											</address>	\r\n											\r\n										</div>\r\n									\r\n								</div>\r\n							</div>\r\n						</div>\r\n				</div>\r\n				<div class="col-md-5">\r\n			  <div class="dashboard_grid padding-20 tiles purple added-margin  m-b-20">\r\n              <div class="">\r\n				<div class="tiles-title "><h1 class="text-white bold weather-widget-big-text ">{{referral_count}}</h1></div>\r\n                <div class="tiles-title "><h4 class="text-white">Total number of Referrals submitted</h4></div> <br>\r\n			         <div class="widget-stats">\r\n                      <div class="wrapper transparent"> \r\n						<span class="item-title">Referrals <br>Declined</span> <span class="item-count animate-number semi-bold" data-value="01" data-animation-duration="10">0</span>\r\n					  </div>\r\n                    </div>\r\n                    <div class="widget-stats">\r\n                      <div class="wrapper transparent">\r\n						<span class="item-title">Referrals <br>Purchased</span> <span class="item-count animate-number semi-bold" data-value="01" data-animation-duration="50">{{purchased_ref}}</span> \r\n					  </div>\r\n                    </div>\r\n                    <div class="widget-stats ">\r\n                      <div class="wrapper last"> \r\n						<span class="item-title">Referrals <br>Under Discussion</span> <span class="item-count animate-number semi-bold" data-value="00" data-animation-duration="30">{{ref_discussion}}</span> \r\n					 </div>\r\n                    </div>\r\n			  </div>			\r\n			</div>\r\n				</div>\r\n				<div class="col-md-3 single-colored-widget ">\r\n\r\n					\r\n					  <!--<div class="heading margin-bottom-10">\r\n					  	<span class="height90 pull-left"></span>\r\n					  <!--<h1 class=" bold weather-widget-big-text ">02</h1>-->\r\n					<!--<h4>Total number of Points</h4>\r\n						<div class="clearfix">{{points}}</div>\r\n					  </div>\r\n					  <div class="content-wrapper red ">\r\n						<h4 class="text-white">Redemption not Initiated</h4>\r\n						 <button class="btn btn-danger-dark btn-sm btn-small " type="button">Initiate Redemption</button>\r\n						</div>-->\r\n\r\n<!-- Add status div here-->\r\n<div id="noti_redem_not" class="hidden">\r\n	Your Redemption has been rejected.\r\n</div>\r\n<div class="row tiles-container tiles white spacing-bottom dashboard_grid hidden" id="redem_not">\r\n<div class="tile-more-content col-md-12 col-sm-12 no-padding">\r\n<div class="tiles green">\r\n<div class="p-l-20 p-r-20 p-t-20 p-b-10">\r\n<h3 class=""><span class="text-white"> Current Status </h3>\r\n<h4 class=""><span class="text-white  semi-bold status">{{status}}</span></h4>\r\n</div>\r\n<div class="p-l-20 m-b-10">\r\n<button id="ini_redemption" class="btn btn-danger btn-cons m-t-10 " data-toggle="modal" data-target="#packages_data"> {{action}} </button>\r\n</div>\r\n\r\n    <div class="tiles white padding-10" id="rejecteddiv_original">\r\n        <div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history1">\r\n            View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span>\r\n        </div>\r\n        <div id="history1" class="collapse">\r\n            {{#history}}\r\n            <h5 class="">{{history_status}} on : <span class="semi-bold rejected">{{history_date}} </span> by  {{user}}</h5>\r\n            <div class="clearfix"></div>\r\n            {{/history}}\r\n        </div>\r\n    </div>\r\n    <div class="tiles white padding-10" id="rejecteddiv">\r\n\r\n    </div>\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div class="row tiles-container tiles white spacing-bottom dashboard_grid hidden" id="initiated_div">\r\n<div class="tile-more-content col-md-12 col-sm-12 no-padding">\r\n<div class="tiles green">\r\n<div class="p-l-20 p-r-20 p-t-20 p-b-10">\r\n<h3 class=""><span class="text-white"> Current Status </h3>\r\n<h4 class=""><span class="text-white  semi-bold">{{status}}</span></h4>\r\n\r\n<h4 class=""><span class="text-white ">{{redem_date}}</span></h4>\r\n\r\n</div>\r\n\r\n<div class="p-l-20 p-r-20 p-b-10">\r\n	<label class="check-delivery">\r\n		<input type="checkbox" name="delivery" id="delivery" value="0" /> Shipping Option\r\n	</label>\r\n</div>\r\n\r\n<div class="row p-l-20 p-r-20 p-b-10">\r\n<div class="col-md-6">\r\n<button id="inititate-redemt" class="btn btn-default width_auto m-t-10 reject_reminder" type="button">Reject</button>\r\n</div>\r\n<div class="col-md-6">\r\n<button id="inititate-redemt" class="btn btn-danger width_auto m-t-10 confirm_reminder" type="button">Approve</button>\r\n</div>\r\n\r\n</div>\r\n    <div class="tiles white padding-10" >\r\n        <div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history2">\r\n            View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span>\r\n        </div>\r\n        <div id="history2" class="collapse">\r\n            {{#history}}\r\n            <h5 class="">{{history_status}} on : <span class="semi-bold rejected">{{history_date}}</span> by  {{user}}</h5>\r\n            <div class="clearfix"></div>\r\n            {{/history}}\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\r\n<div class="row tiles-container tiles white spacing-bottom dashboard_grid hidden" id="approved_send">\r\n<div class="tile-more-content col-md-12 col-sm-12 no-padding">\r\n<div class="tiles green">\r\n<div class="p-l-20 p-r-20 p-t-20 p-b-10">\r\n<h3 class=""><span class="text-white"> Current Status </h3>\r\n<h4 class=""><span class="text-white  semi-bold status">{{status}}</span></h4>\r\n<h4 class=""><span class="text-white approved ">{{redem_date}}</span></h4>\r\n</div>\r\n<div class="p-l-20 m-b-10">\r\n<button id="approved-redemt" class="btn btn-danger btn-cons m-t-10" type="button">{{action}}</button>\r\n</div>\r\n\r\n    <div class="tiles white padding-10" id="approvediv_original">\r\n        <div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history3">\r\n            View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span>\r\n        </div>\r\n        <div id="history3" class="collapse">\r\n            {{#history}}\r\n            <h5 class="">{{history_status}} on : <span class="semi-bold rejected">{{history_date}}</span> by  {{user}}</h5>\r\n            <div class="clearfix"></div>\r\n            {{/history}}\r\n        </div>\r\n    </div>\r\n    <div class="tiles white padding-10" id="approvediv">\r\n\r\n    </div>\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div class="row tiles-container tiles white spacing-bottom dashboard_grid hidden" id="confirmed_div">\r\n<div class="tile-more-content col-md-12 col-sm-12 no-padding">\r\n<div class="tiles green">\r\n<div class="p-l-20 p-r-20 p-t-20 p-b-10">\r\n<h3 class=""><span class="text-white"> Current Status </h3>\r\n<h4 class=""><span class="text-white  semi-bold">{{status}}</span></h4>\r\n<h4 class=""><span class="text-white confirmed ">{{redem_date}}</span></h4>\r\n</div>\r\n<div class="p-l-20 m-b-10">\r\n\r\n<h5 class="text-white">Will come on : <span class="text-white semi-bold"> {{date_confirm}}</span> </h5>\r\n\r\n</div><button type="button" id="send_remin" class="btn btn-danger btn-cons m-t-5 m-l-20 hidden">Close</button>\r\n<div class="tiles white padding-10" >\r\n	<div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history4">\r\n      View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span>\r\n    </div>\r\n	<div id="history4" class="collapse">\r\n		{{#history}}\r\n			<h5 class="">{{history_status}} on : <span class="semi-bold rejected">{{history_date}}</span> by  {{user}}</h5>\r\n			<div class="clearfix"></div>\r\n		{{/history}}\r\n	</div>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n<!-- Add status div here-->\r\n                    <div class="row tiles-container tiles white spacing-bottom dashboard_grid hidden" id="closed">\r\n                        <div class="tile-more-content col-md-12 col-sm-12 no-padding">\r\n                            <div class="tiles green">\r\n                                <div class="p-l-20 p-r-20 p-t-20 p-b-10">\r\n                                    <h3 class=""><span class="text-white"> Current Status </h3>\r\n                                    <h4 class=""><span class="text-white  semi-bold status">Closed</span></h4>\r\n\r\n                                </div>\r\n\r\n\r\n                                <div class="tiles white padding-10" id="closed_original">\r\n                                    <div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history5">\r\n                                        View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span>\r\n                                    </div>\r\n                                    <div id="history5" class="collapse">\r\n                                        {{#history}}\r\n                                        <h5 class="">{{history_status}} on : <span class="semi-bold rejected">{{history_date}}</span> by  {{user}}</h5>\r\n                                        <div class="clearfix"></div>\r\n                                        {{/history}}\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n    </div>\r\n\r\n\r\n  <div class="modal fade hidden" id="packages_data" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div class="modal-header">\r\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\r\n      <i class="icon-credit-card icon-7x"></i>\r\n      <h4 id="myModalLabel" class="semi-bold m-t-25 m-b-15">Reminder to Program Member to Initiate Redemption</h4>\r\n      </div>\r\n      <div class="modal-body">\r\n       <div class="row form-row">\r\n       <p class="semi-bold p-l-50 p-r-50 m-b-10 m-t-5">We will send an email to the Program Member asking him / her to initaite redemption of points. The following packages are in the point range of the Program Member. Check the package you\'d like to display in the reminder email and hit \'Send\' when done.</p>\r\n    	<div class="col-md-12 text-center">\r\n       <ol id="option_list" class="p-l-5 m-r-10 m-l-5 m-t-20 m-b-10 reminder_opt_list">\r\n\r\n		\r\n	   </ol>\r\n	   </div></div>\r\n	   </div>\r\n    <div class="modal-footer">\r\n     <input id="packagestring" name="packagestring" type="hidden" value=""/>\r\n		 <button id="send_ini_redemption" class="btn btn-primary btn-cons m-t-10 " type="button">Send</button>\r\n    </div>\r\n  </div>\r\n  <!-- /.modal-content -->\r\n</div>\r\n<!-- /.modal-dialog -->\r\n</div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/members/member_view",["app","text!apps/program-member/members/templates/member_info.html"],function(e,t){return e.module("Member.Views",function(e,n){var r;return r=Array(),e.Info=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.events={"click .confirm_reminder":function(e){return this.trigger("set:new:redemption",this.model.get("option"),this.model.get("user_login"),this.$el.find("#delivery").val())},"click .reject_reminder":function(e){return this.trigger("set:rejected:redemption",this.model.get("option"),this.model.get("user_login"))},"click #ini_redemption":function(e){return this.trigger("get:options:list")},"click #send_remin":function(e){return this.$el.find("#send_remin").attr("disabled",!0),this.trigger("send:closure:reminder",this.model.get("option"),this.model.get("ID"))},"click #send_ini_redemption":function(e){return r.length===0?!1:(this.$el.find("#send_ini_redemption").attr("disabled",!0),this.trigger("send:email:reminder",this.model.get("option"),this.model.get("ID"),this.$el.find("#packagestring").val()))},"click .package_select":function(e){var t,n;return $("#"+e.target.id).prop("checked")===!0?(r.push(e.target.value),n=r.join(","),this.$el.find("#packagestring").val(n)):(t=r.indexOf(e.target.value),r.splice(t,1),n=r.join(","),this.$el.find("#packagestring").val(n))},"click #delivery":function(e){return $("#"+e.target.id).prop("checked")===!0?$("#"+e.target.id).val(1):$("#"+e.target.id).val(0)}},n.prototype.onShow=function(){var e,t,n;n=this.model.get("status"),t=this.model.get("rejected_status"),e=this.model.get("points"),n.replace(/\s/g,"");if(n==="Approved")return $("#approved_send").removeClass("hidden"),$("#approved-redemt").hide();if(n==="Redemption Not initiated"&&t===0){$("#redem_not").removeClass("hidden"),$("#noti_redem_not").removeClass("hidden");if(parseInt(e)===0)return this.$el.find("#ini_redemption").hide()}else{if(n==="Initiated")return $("#initiated_div").removeClass("hidden");if(n==="Confirmed")return $("#send_remin").removeClass("hidden"),$("#confirmed_div").removeClass("hidden");if(n==="Redemption Not initiated"&&t===1)return $("#redem_not").removeClass("hidden");if(n==="closed")return $("#closed").removeClass("hidden")}},n.prototype.serializeData=function(){var e,t;return t=n.__super__.serializeData.call(this),e=this.model.get("customer"),e===""||e==="false"?t.customer="Not an existing Customer":t.customer="Existing Customer",t},n.prototype.onSaveRejectedRedemption=function(e){var t,n,r,i,s,o;$("#redem_not").removeClass("hidden"),$("#initiated_div").addClass("hidden"),$(".status").text(e.status),$("#ini_redemption").text(e.action),console.log(e.initiated),r="",r+='<div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history8"> View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span> </div> <div id="history8" class="collapse">',o=e.initiated;for(n=i=0,s=o.length;i<s;n=++i)t=o[n],r+='<h5 class="">'+t.history_status+' on : <span class="semi-bold rejected">'+t.history_date+"</span> by "+e.user+'</h5> <div class="clearfix"></div>';return r+="</div></div>",$("#rejecteddiv").append(r),$("#rejecteddiv_original").hide(),$("#rejecteddiv").removeClass("hidden"),$("#noti_redem_not").removeClass("hidden")},n.prototype.onSaveApprovedRedemption=function(e){var t,n,r,i,s,o;$("#redem_not").addClass("hidden"),$("#initiated_div").addClass("hidden"),$("#approved_send").removeClass("hidden"),$(".status").text(e.status),$("#approved-redemt").hide(),r="",console.log(e.initiated),r+='<div class="collapse-trigger collapsed" data-toggle="collapse" data-target="#history7"> View History <span class="glyphicon glyphicon-chevron-down pull-right"></span><span class="glyphicon glyphicon-chevron-up pull-right"></span> </div> <div id="history7" class="collapse">',o=e.initiated;for(n=i=0,s=o.length;i<s;n=++i)t=o[n],r+='<h5 class="">'+t.history_status+' on : <span class="semi-bold rejected">'+t.history_date+" by "+e.user+'</h5> <div class="clearfix"></div>';return r+="</div></div>",console.log(r),$("#approvediv").append(r),$("#approvediv_original").hide(),$("#approvediv").removeClass("hidden")},n.prototype.onSendInitiateReminder=function(){return $(".modal-backdrop.in").remove(),this.$el.find(".email_message").after('<div class="alert alert-info ref_msg"> <button data-dismiss="alert" class="close"></button> Message has been sent. </div>'),$("#ini_redemption").attr("disabled",!1),$("#send_ini_redemption").attr("disabled",!1),$("#packages_data").addClass("hidden"),r=Array(),$("#packagestring").val("")},n.prototype.onSendClosureReminder=function(){return $("#send_remin").hide(),$("#confirmed_div").addClass("hidden"),$("#closed").removeClass("hidden")},n.prototype.onSetOptionList=function(e){var t,n,r,i,s,o;console.log(e),r=e,i="";if(r!==null)for(n=s=0,o=r.length;s<o;n=++s)t=r[n],i+='<li> <div class="checkbox check-success "> <input id="customer'+t.ID+'" class="package_select" name="customer'+t.ID+'" type="checkbox" value="'+t.ID+'" > <label for="customer'+t.ID+'" style="padding-left:25px;"><b>'+t.option_name+"</b></label> </div> </li>";return this.$el.find("ol").text(""),this.$el.find("ol").append(i),this.$el.find("#packages_data").removeClass("hidden")},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/members/member_controller",["app","controllers/region-controller","apps/program-member/members/member_view"],function(e,t){return e.module("Member",function(e,n){var r;return r=function(t){function r(){return this.optionList=__bind(this.optionList,this),this.sendClosureMail=__bind(this.sendClosureMail,this),this.sendInitiateMail=__bind(this.sendInitiateMail,this),this.rejectDetails=__bind(this.rejectDetails,this),this.confirmDetails=__bind(this.confirmDetails,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t;return this.ID=e.ID,this.region=e.topRegion,this.model=n.request("get:program_member:data",this.ID),this.view=t=this._getMembersView(this.model),this.listenTo(t,"set:new:redemption",this._setRedemption),this.listenTo(t,"set:rejected:redemption",this._setRejectedRedemption),this.listenTo(t,"send:email:reminder",this._sendNotInitiatedEmail),this.listenTo(t,"send:closure:reminder",this._sendClosureEmail),this.listenTo(t,"get:options:list",this._getOptionsList),n.execute("when:fetched",[this.model],function(e){return function(){return e.show(t)}}(this))},r.prototype._getMembersView=function(t){return new e.Views.Info({model:t})},r.prototype._setRedemption=function(e,t,n){var r;return r=this,$.ajax({method:"POST",url:AJAXURL+"?action=set-redemption",data:"option="+e+"&username="+t+"&shipping="+n,success:function(e){return r.confirmDetails(e)},error:function(e){}})},r.prototype._setRejectedRedemption=function(e,t){var n;return n=this,$.ajax({method:"POST",url:AJAXURL+"?action=set-rejected-redemption",data:"option="+e+"&username="+t,success:function(e){return n.rejectDetails(e)},error:function(e){}})},r.prototype.confirmDetails=function(e){return this.view.triggerMethod("save:approved:redemption",e)},r.prototype.rejectDetails=function(e){return this.view.triggerMethod("save:rejected:redemption",e)},r.prototype._sendNotInitiatedEmail=function(e,t,n){var r;return r=this,$.ajax({method:"POST",url:AJAXURL+"?actio=set-notinitiated-email",data:"option="+e+"&ID="+t+"&str="+n,success:function(e){return r.sendInitiateMail(e)},error:function(e){}})},r.prototype.sendInitiateMail=function(e){return this.view.triggerMethod("send:Initiate:Reminder",e)},r.prototype._sendClosureEmail=function(e,t){var n;return n=this,$.ajax({method:"POST",url:AJAXURL+"?action=set-closure-email",data:"option="+e+"&ID="+t,success:function(e){return n.sendClosureMail(e)},error:function(e){}})},r.prototype.sendClosureMail=function(e){return this.view.triggerMethod("send:Closure:Reminder",e)},r.prototype._getOptionsList=function(){var e;return e=this,$.ajax({method:"POST",url:AJAXURL+"?action=get-option-list",data:"",success:function(t){return e.optionList(t)},error:function(e){}})},r.prototype.optionList=function(e){return console.log(e),this.view.triggerMethod("set:option:list",e)},r}(t),n.commands.setHandler("show:member:info",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/program-member/referrals/templates/referralinfo.html",[],function(){return'\r\n	\r\n		\r\n	      <div class="row-fluid">\r\n        <div class="span12">\r\n          <div class="grid simple ">\r\n            <div class="grid-title">\r\n              <h4><span class="semi-bold">Referrals</span> Listed below</h4>\r\n				 <div class="tools">\r\n					<a href="javascript:;" class="collapse"></a>\r\n				 </div>\r\n            </div>\r\n			\r\n            <div class="grid-body referral-table">\r\n               <table class="table table-striped " id="referral_table"  >\r\n                <thead>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th >Mobile</th>\r\n                    <th data-hide="phone,tablet">Email</th>\r\n					 <th >Points accrued</th>\r\n                    <th data-hide="phone,tablet">Date</th>\r\n                    <th data-hide="phone,tablet">Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                 \r\n                  \r\n             \r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n	  \r\n	               '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/referrals/referral_view",["app","text!apps/program-member/referrals/templates/referralinfo.html"],function(e,t){return e.module("Referral.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template="<td>{{name}}</td><td>{{phone}}</td><td>{{email}}</td><td>{{points}}</td><td>{{date}}</td><td>{{status}}</td>",t}(Marionette.ItemView),e.Referral=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="",n.prototype.itemView=r,n.prototype.itemViewContainer="table#referral_table tbody",n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/referrals/referral_controller",["app","controllers/region-controller","apps/program-member/referrals/referral_view"],function(e,t){return e.module("Referral",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t;return this.ID=e.ID,this.referralCollection=n.request("get:referral:list",this.ID),this.view=t=this._getReferralsView(this.referralCollection),this.show(t)},r.prototype._getReferralsView=function(t){return new e.Views.Referral({collection:t})},r}(t),n.commands.setHandler("show:referral:list",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/customer/customerHead/templates/customerHead.html",[],function(){return'<div class="form-wizard-steps">\r\n                      <ul class="wizard-steps clearfix">\r\n                        <li id="lireferrals" class="active" data-target="#step1"> <a href="#tab1" id="changeInfoView" data-toggle="tab">  <span class="title">Referrals</span> </a> </li>\r\n                        <li id="lirewards" data-target="#step2" class=""> <a href="#display" id="changeView" data-toggle="tab">  <span class="title">Rewards</span> </a> </li>\r\n                        <li id="lishipping" data-target="#step3"   > <a id="userstep3" href="#tab3">  <span class="title">Delivery</span> </a> </li>\r\n                       <!-- <li data-target="#step4" class=""> <a href="#tab4" data-toggle="tab"> <span class="step">4</span> <span class="title">Feedback <br>\r\n                          </span> </a> </li>-->\r\n                     </ul><input type="hidden" name="optionval" id="optionval" value="2" />\r\n                      <div class="clearfix"></div>\r\n                    </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/customerHead/customerHeadView",["app","text!apps/customer/customerHead/templates/customerHead.html"],function(e,t){return e.module("customerHead.Views",function(e,n){var r;return r="",e.Head=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.initialize=function(){return r=Marionette.getOption(this,"shipping_val")},n.prototype.events={"click #changeView":function(e){return this.trigger("change:customer:view")},"click #changeInfoView":function(e){return this.trigger("change:customerInfo:view")},"click #userstep3":function(e){return e.preventDefault(),this.trigger("change:customerShipping:view")}},n.prototype.onShow=function(){console.log(r);if(r===1)return $("lishipping").addClass("active")},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/customerHead/customerHeadController",["app","controllers/region-controller","apps/customer/customerHead/customerHeadView"],function(e,t){return e.module("customerHead",function(e,n){var r,i;return i="",r=function(t){function r(){return this._getCustomerShippingView=__bind(this._getCustomerShippingView,this),this._getCustomerInfoView=__bind(this._getCustomerInfoView,this),this._changecustomerView=__bind(this._changecustomerView,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t,n;return t=e.username,this.subregion=e.subregion,this.topRegion=e.subregion,this.ID=e.ID,this.shipping_val=e.shipping_val,console.log(this.shipping_val),i=t,this.view=n=this._getCustomerHeaderView(),this.listenTo(n,"change:customer:view",this._changecustomerView),this.listenTo(n,"change:customerInfo:view",this._getCustomerInfoView),this.listenTo(n,"change:customerShipping:view",this._getCustomerShippingView),this.show(n)},r.prototype._getCustomerHeaderView=function(){return new e.Views.Head({shipping_val:this.shipping_val})},r.prototype._changecustomerView=function(){return n.execute("show:info",{region:this.subregion,username:i,topRegion:this.topRegion,ID:this.ID})},r.prototype._getCustomerInfoView=function(){return n.execute("show:customers",{region:this.subregion,username:i,topRegion:this.topRegion,ID:this.ID})},r.prototype._getCustomerShippingView=function(){return n.execute("show:shipping",{region:this.subregion,username:i,topRegion:this.topRegion,ID:this.ID})},r}(t),n.commands.setHandler("show:customer:head",function(e){return e==null&&(e={}),console.log(e),new r(e)})})}),define("text!apps/customer/Info/templates/customerinfolist.html",[],function(){return' <br>\r\n                        <!--<h4 class="semi-bold">Step 1 - <span class="light">Reviews</span></h4>-->\r\n                         <div class="row">\r\n                          <div class="col-md-12 desc-text">\r\n                            <p class="semi-bold">Welcome to the Rewards Program, <span id="pm-name"></span></p>\r\n                            <h4 class="no-margin inline semi-bold"><div id="counter_val">0</div></h4> of your referrals have become SKYi customers, and you have earned points! If you\'d like to redeem your points, take a look at the reward packages you are eligible for and make a selection. \r\n                          </div>\r\n                          <div class="col-md-4">\r\n                            <div class="tiles points-earned">\r\n                              <p class="no-margin p-t-10 point-label inline">Points Earned: </p>\r\n                              <h3 class="subheader inline"><div id="pointer_val">0</div></h3>\r\n                            </div>\r\n                          </div>\r\n                          <div class="col-md-8">\r\n                            <div class="tiles redemption-status">\r\n                              <h5 class="status-label inline">Current Status: </h5>\r\n                                <div id="redemption_status" class="inline status"></div>\r\n                                <!--<button type="button" class="btn btn-danger btn-cons" id="inititate-redemt">Initiate Redemption »</button>-->\r\n                                <div id="redemption_msg" class=""></div>\r\n                                <!-- <p>Animate your icons in just a click!</p> -->\r\n                                <br>\r\n                                <a href="#display" id="changeView" data-toggle="tab" class="pull-right">Next <span class="glyphicon glyphicon-chevron-right"></span></a>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                          </div>\r\n                        <div id="display_msg"></div>\r\n                         </div>\r\n                         <div id="caannot_initiate_msg" class="ref_msg alert alert-error m-b-5 m-t-20 hidden"><button data-dismiss="alert" class="close"></button>You cannot initiate redemption with zero points.</div>\r\n\r\n                      <div class="info-boxed">\r\n                        <div class="row">\r\n                          <div class="col-md-12">\r\n                              <div class="grid simple ">\r\n                                  <div class="grid-body" style="display: block;">\r\n                                          <table id="customer_table" class="table no-more-tables">\r\n                                              <thead>\r\n                                                  <tr>\r\n                                                      <th class="width5">s.no.</th>\r\n                                                      <th class="width20">Name</th>\r\n                                                      <th class="width20">Mobile</th>\r\n                                                      <th class="width20">Email</th>\r\n                                                      <th class="width15">Conversion Date</th>\r\n                                                      <th class="width15">Expiry</th>\r\n                                                      <th class="width5">Points</th>\r\n                                                  </tr>\r\n                                              </thead>\r\n                                              <tbody>\r\n                                                  \r\n                                              </tbody>\r\n                                          </table>\r\n                                  </div>\r\n                              </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                     \r\n                    \r\n    '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/Info/InfoView",["app","text!apps/customer/Info/templates/customerinfolist.html"],function(e,t){return e.module("Customer.Views",function(e,n){var r,i;return i="",r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template="<td>{{srno}}</td><td>{{name}}</td><td>{{phone}}</td><td>{{user_email}}</td><td>{{date_of_purchase}}</td><td>{{date_of_expire}}</td><td>{{points}}</td>",t.prototype.serializeData=function(){var e,n,r,i,s,o,u,a,f;return e=t.__super__.serializeData.call(this),i=this.model.get("date_of_expire"),s=this.model.get("date_of_import"),a="--",s!=="--"&&(n=i.split("-"),r=s.split("-"),o=moment([n[0],n[1],n[2]]),f=moment([r[0],r[1],r[2]]),u=f.from(o),a=u.replace("ago","left")),e.date_of_expire=a,e},t}(Marionette.ItemView),e.List=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="padding-20",n.prototype.initialize=function(){return i=Marionette.getOption(this,"ID")},n.prototype.itemView=r,n.prototype.itemViewContainer="table#customer_table tbody",n.prototype.collectionEvents={add:"DisplayMessage"},n.prototype.events={"click #inititate-redemt":function(){var e;return this.collection.length!==0?e=this.collection.models[0].attributes.sum_of_points:e="",$("#lireferrals").removeClass("active"),$("#lishipping").removeClass("active"),$("#lirewards").addClass("active"),this.trigger("change:customer:view",e)},"click #changeView":function(){var e;return this.collection.length!==0?e=this.collection.models[0].attributes.sum_of_points:e="",$("#lireferrals").removeClass("active"),$("#lishipping").removeClass("active"),$("#lirewards").addClass("active"),this.trigger("change:customer:view",e)}},n.prototype.DisplayMessage=function(e){var t,n,r;return r=e.get("sum_of_points"),n=e.get("ref_count"),t=this.collection.length,t===0?(this.$el.find("#counter_val").text(n),this.$el.find("#pointer_val").text(n)):(this.$el.find("#counter_val").text(n),this.$el.find("#pointer_val").text(r))},n.prototype.onShow=function(){var e;return e=this,console.log(this.collection),this.collection.trigger("reset"),$.ajax({method:"POST",url:AJAXURL+"?action=get_points",data:"username="+i,success:function(t){var n,r,i;r=t.status,e.$el.find("#pm-name").text(t.display_name),r.replace(/\s/g,"");if(t.status===""||t.status==="Redemption Not initiated")n="Redemption Not Initiated",i="Select a reward package to initiate redemption of points.";t.status==="Initiated"&&(n="Redemption initiated. Waiting for Approval",i="The Rewards Manager needs to approve your reward request. Please wait for an email."),t.status==="Approved"&&(n="Reward Request Approved",i="To collect your reward from our office, confirm a convenient date and time."),t.status==="Confirmed"&&(n="Confirmed",i="Do remember to pick up your reward on the set date and time."),t.status==="closed"&&(n="closed",i="Redemption process complete and closed."),e.$el.find("#redemption_status").text(n),e.$el.find("#redemption_msg").text(i);if(r==="Approved"||r==="Confirmed"||r==="Initiated")return e.$el.find("#inititate-redemt").hide(),e.$el.find("#redemption_msg1").text("Redemption was initiated by "+t.initiatedby+" on "+t.date)},error:function(e){}})},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/Info/InfoController",["app","controllers/region-controller","apps/customer/Info/InfoView"],function(e,t){return e.module("Customer",function(e,n){var r,i;return i="",r=function(t){function r(){return this._changecustomerView=__bind(this._changecustomerView,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t,r;return t=e.username,i=t,this.subregion=e.region,this.ID=e.ID,this.topRegion=e.topRegion,this.customerCollection=n.request("get:customer:collection",e),this.view=r=this._getCustomerView(this.customerCollection),this.listenTo(r,"change:customer:view",this._changecustomerView),this.show(r)},r.prototype._getCustomerView=function(t){return new e.Views.List({collection:t,ID:this.ID})},r.prototype._changecustomerView=function(e){return n.execute("show:info",{region:this.subregion,username:i,ID:this.ID,topRegion:this.topRegion})},r}(t),n.commands.setHandler("show:customers",function(e){return e==null&&(e={}),console.log(e),new r(e)})})}),define("text!apps/customer/rewards/templates/rewards.html",[],function(){return'<div class="row">\r\n                          <div class="col-md-12 desc-text">\r\n                            <p class="m-b-10">\r\n                            Below is a list of reward packages that you are eligible for. Select one and click \'Continue\'. \r\n                            <br>\r\n                            <small>Please note: You cannot do a partial redemption of points. All your points will be used for a redemption, even if you choose a reward package with points less than your earned points.</small>\r\n                            </p>\r\n                          </div>\r\n                          <div class="col-md-4">\r\n                            <div class="tiles points-earned">\r\n                              <p class="no-margin p-t-10 point-label inline">Points Earned: </p>\r\n                              <h3 class="subheader text-center inline"><div id="pointer_val">0</div></h3>\r\n                              <input type="hidden" id="pointer_val_field" name="pointer_val_field" value="" />\r\n                            </div>\r\n                          </div>\r\n                          <div class="col-md-8">\r\n                            <div class="tiles redemption-status">\r\n                              <h5 class="status-label inline">Current Status: </h5>\r\n                              <div id="redemption_status" class="inline status"></div>\r\n                              <div id="redemption_msg" class=""></div>\r\n                              <a href="#tab3" class="pull-right" data-toggle="tab" id="confirm_redempt">Continue <span class="glyphicon glyphicon-chevron-right"></span></a>\r\n                              <div id="rewards_msg" class=" inline" ></div>\r\n                                <!--<button type="button" class="btn btn-danger btn-cons" id="btn-animate-icon">add shipping details »</button>-->\r\n                                <!-- <p>Animate your icons in just a click!</p> -->\r\n                              <div class="clearfix"></div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="info-boxed">\r\n                          <div class="radio rewards" id="rewardsdata">\r\n\r\n                          </div>\r\n                        </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/rewards/rewardsView",["app","text!apps/customer/rewards/templates/rewards.html"],function(e,t){return e.module("Rewards.Views",function(e,n){var r,i,s,o;return o="",s="",i=[],r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return e=this.model.get("disabled")},t.prototype.template='<div id="reward{{ID}}" class="tiles white m-t-10 m-b-20 reward-container {{selected}}"> <div class="sel-indicator"><span class="glyphicon glyphicon-ok"></span> Selected Reward</div> <div class="row"> <div class="col-md-4"> <input type="radio"  id="option{{ID}}" {{disabled}} {{checked}} value="0" class="option_set" name=option"> <label class="pull-left m-t-20 radio-label" for="option{{ID}}"><span class="{{classname}} radio_txt_lrg pull-left semi-bold">{{option}}</span></label> <h4 class="semi-bold m-t-20">{{option}}</h4> </div> <div class="col-md-8"> <h4 class="{{classname}} semi-bold m-t-20">Points: {{min}}</h4> </div> <div class="clearfix"></div> <h5 class="m-t-10 p-l-15">{{option_desc}}</h5> <div class="clearfix"></div> <ol class="m-l-5 m-t-20 m-b-10 user_step_list"> {{#product_details}} <li><div class="rewards_img"> <img  src="{{product_img}}" class="hide-for-small"></div> <h4 class="m-t-5 semi-bold">{{product_name}}</h4> <h5 >{{product_details}}</h5> </li> {{/product_details}} </ol> </div>',t.prototype.events={"click .reward-container":function(e){var t,n,r,o,u,a;t=this.model.get("ID");for(u=0,a=i.length;u<a;u++)r=i[u],r===this.model.get("ID")?$("#option"+t).val("1"):($("#option"+t).val("0"),i=[]);return this.$el.find(".ref_msg1").remove(),this.$el.find(".ref_msg").remove(),o=this.model.get("ID"),console.log(parseInt(this.$el.find("#option"+t).val())),$(".reward-container").removeClass("selected"),$(".option_set").attr("checked",!1),console.log(n=this.model.get("disabled")),parseInt(this.$el.find("#option"+t).val())===0?(i.push(this.model.get("ID")),s=this.model.get("ID"),n!=="disabled"?(this.$el.find(".reward-container").removeClass("selected"),this.$el.find(".option_set").attr("checked",!1),this.$el.find("#reward"+t).addClass("selected"),this.$el.find("#option"+t).attr("checked",!0)):this.$el.find("#reward"+t).before('<div class="ref_msg1 alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>You Don\'t have enough points</div>')):(this.$el.find(".reward-container").removeClass("selected"),this.$el.find(".option_set").attr("checked",!1),$("#option"+t).val("0"),i=[],s="")}},t}(Marionette.ItemView),e.ListRewards=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="padding-20",n.prototype.initialize=function(){return this.collection.trigger("reset"),o=Marionette.getOption(this,"ID")},n.prototype.itemView=r,n.prototype.itemViewContainer="div#rewardsdata",n.prototype.events={"click #confirm_redempt":function(){return this.$el.find(".ref_msg1").remove(),this.$el.find(".ref_msg").remove(),console.log(s),console.log(this.$el.find("#pointer_val_field").val()),s!==""&&parseInt(this.$el.find("#pointer_val_field").val())!==0?($("#lireferrals").removeClass("active"),$("#lishipping").addClass("active"),$("#lirewards").removeClass("active"),this.trigger("change:customerShipping:view",s)):this.$el.find("#rewardsdata").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Please select an option</div>')}},n.prototype.onShow=function(){var e;return e=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_points",data:"username="+o,success:function(t){var n,r,i;e.$el.find("#pointer_val_field").val(t.points),e.$el.find("#pointer_val").text(t.points),n=t.option,s=t.option,s===null&&(s="");if(t.status===""||t.status==="Redemption Not initiated")r="Redemption Not Initiated",i="Select a reward package to initiate redemption of points.";t.status==="Initiated"&&(console.log(t.status),r="Redemption initiated. Waiting for Approval",i="The Rewards Manager needs to approve your reward request. Please wait for an email."),t.status==="Approved"&&(r="Reward Request Approved",i="To collect your reward from our office, confirm a convenient date and time."),t.status==="Confirmed"&&(r="Confirmed",i="Do remember to pick up your reward on the set date and time."),t.status==="closed"&&(r="Closed",i="Redemption process complete and closed."),console.log(r),console.log(i),e.$el.find("#redemption_status").text(r),e.$el.find("#redemption_msg").text(i);if(t.status==="Approved"||t.status==="Confirmed"||t.status==="Initiated"||t.status==="closed")return e.trigger("get:rewards:model",n),e.$el.find("#pointer_val_field").val(t.points),e.$el.find("#pointer_val").text(t.points),e.$el.find("#redemption_status").text(r),e.$el.find("#redemption_msg").text(i)},error:function(e){}})},n.prototype.onNewRedemptionAdded=function(e){return console.log(e)},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/rewards/rewardsController",["app","controllers/region-controller","apps/customer/rewards/rewardsView"],function(e,t){return e.module("Rewards",function(e,n){var r;return r=function(t){function r(){return this._getRewardsModelView=__bind(this._getRewardsModelView,this),this._getCustomerShippingView=__bind(this._getCustomerShippingView,this),this.showRef=__bind(this.showRef,this),this._saveRedemption=__bind(this._saveRedemption,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t;return this.region=e.region,this.username=e.username,this.topRegion=e.topRegion,this.ID=e.ID,this.rewardsCollection=n.request("get:rewards:collection",e),this.view=t=this._getCustomerRewardsView(this.rewardsCollection,this.ID),this.listenTo(t,"save:inititate:redemption",this._saveRedemption),this.listenTo(t,"change:customerShipping:view",this._getCustomerShippingView),this.listenTo(t,"get:rewards:model",this._getRewardsModelView),n.execute("when:fetched",[this.rewardsCollection],function(e){return function(){return e.show(t)}}(this))},r.prototype._getCustomerRewardsView=function(t,n){return new e.Views.ListRewards({collection:t,ID:n})},r.prototype._saveRedemption=function(e){var t;return t=this,$.ajax({method:"POST",url:AJAXURL+"?action=save_redemption",data:"optionid="+e+"&username="+t.username,success:function(e){return t.showRef(e)}},{error:function(e){}})},r.prototype.showRef=function(e){return this.view.triggerMethod("new:redemption:added",e)},r.prototype._getCustomerShippingView=function(e){return n.execute("show:shipping",{region:this.region,username:this.username,option:e,ID:this.ID,topRegion:this.topRegion})},r.prototype._getRewardsModelView=function(e){var t;return t=n.request("get:new:rewards:model",e),this.rewardsCollection.reset(t),n.execute("when:fetched",[this.rewardsCollection],function(e){return function(){return e.show(e.view)}}(this))},r}(t),n.commands.setHandler("show:info",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/customer/shipping/templates/shipping.html",[],function(){return'\r\n          <div class="row" id="initiated_div">\r\n            <div class="col-md-4">\r\n              <div class="tiles points-earned">\r\n                <p class="no-margin p-t-10 point-label inline">Points Earned: </p>\r\n                <h3 class="subheader text-center inline"><div id="sum_points"></div></h3>\r\n                <input type="hidden" id="pointer_val_field" name="pointer_val_field" value="" />\r\n              </div>\r\n            </div>\r\n            <div class="col-md-8">\r\n              <div class="tiles redemption-status">\r\n\r\n                <h5 class="status-label inline">Current Status: </h5>\r\n                <div id="redemption_status" class="inline status"></div>\r\n\r\n                 <div class="pace pace-inactive pull-left">\r\n                <div class="pace-activity"></div></div>\r\n                 <div id="redemption_msg" class="redemption_msg"></div><input type="hidden" name="option_name" id="option_name" value="" />\r\n                 <input type="hidden" name="option_count" id="option_count" value="0" />\r\n                <!-- <p>Animate your icons in just a click!</p> -->\r\n                <div class="clearfix"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n            <div id="confirmation_div" class="row hidden">\r\n            <div class="col-md-12 m-t-20">\r\n            <div  class="alert alert-success ">\r\n              <button class="close" data-dismiss="alert"></button>\r\n              <div style="font-size:18px">Done! Process of points redemption is almost complete. You now only have to go and collect your reward on the set date and time.</div> </div>\r\n            </div></div>\r\n            <div class="info-boxed">\r\n          \r\n        \r\n\r\n\r\n\r\n            <div id="redemption_initiation_div" class="jumbotron compact">\r\n                \r\n\r\n\r\n\r\n                <div id="shippingrow">\r\n\r\n                </div>\r\n                <br/>\r\n                <p id="ini_msg"></p>\r\n\r\n                <div id="delivery_details" class="hidden">\r\n\r\n                    <label class="inline">\r\n                        <input type="radio" id="rad1" class="radio_delivery" name="group1" value="1" checked/> Pick up\r\n                    </label>\r\n                    <label class="inline">\r\n                        <input type="radio" id="rad2" class="radio_delivery" name="group1" value="2"/> Delivery\r\n                    </label>\r\n\r\n                </div>\r\n<br/>\r\n                <div id="rewards_msg"></div>\r\n\r\n                <div class="row" id="initiated">\r\n                    <div class="col-md-12">\r\n                        <div class="tiles-body row">\r\n\r\n\r\n                            <div class="col-md-6 hidden" id="time_details">\r\n                                <h4 class="semi-bold m-b-20">When can we expect you?</h4>\r\n                                <div class="row">\r\n                                    <div class="col-md-6">\r\n                                        <div class="input-append success date no-padding">\r\n                                            <input type="text" id="datepicker" class="form-control">\r\n                                            <span class="add-on"><span class="arrow"></span><i class="fa fa-th"></i></span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class="col-md-6">\r\n\r\n                                        <div class="input-append bootstrap-timepicker-component">\r\n                                            <input type="text" id="timepicker" class="timepicker-24 span12">\r\n                                            <span class="add-on"><span class="arrow"></span><i class="fa fa-clock-o"></i></span> </div>\r\n                                    </div></div>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                            <div class="col-md-6 hidden" id="address_details">\r\n                                <h4 class="semi-bold m-b-20">Where do you want it delivered?</h4>\r\n                                <label>Address</label>\r\n                                <textarea id="address" name="address" value="" class="col-md-12"></textarea>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                            <div class="col-md-6 hidden" id="pickdetails">\r\n                                <h4 class="semi-bold m-b-10">We expect to see you at our office:</h4>\r\n                                <div class="m-t-10">\r\n                                    <div class="pull-left width35 semi-bold"> <h5>On :</h5> </div>\r\n                                    <div class="pull-left"> <h5 class="semi-bold" id="date">22-06-2014</h5> </div>\r\n                                    <div class="clearfix"></div>\r\n                                </div>\r\n                                <div class="m-t-10">\r\n                                    <div class="pull-left width35 semi-bold"> <h5>At :</h5> </div>\r\n                                    <div class="pull-left"> <h5 class="semi-bold" id="time">12:00 pm </h5></div>\r\n                                    <div class="clearfix"></div>\r\n                                </div>\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                            <div class="col-md-6 hidden" id="ship_details">\r\n                                <h4 class="semi-bold m-b-10">Address:</h4>\r\n                                <div id="add_value"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row" id="confirm_details">\r\n                            <div class="col-md-12 m-b-10">\r\n                                <p class="text-center"><button type="button" class="btn btn-danger btn-cons hidden" id="final_confirm_button">Confirm</button></p></div>\r\n                                <div class="pace pace-inactive  pull-left">\r\n                                    <div class="pace-activity"></div></div>\r\n                                <!-- <p>Animate your icons in just a click!</p> -->\r\n                                <div class="clearfix"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                <div id="confirm_msg" class="row hidden">\r\n                    <div class="col-md-12 m-t-20">\r\n                        <div  class="alert alert-success ">\r\n                            <button class="close" data-dismiss="alert"></button>\r\n                            <div style="font-size:18px">You have successfully initiated redemption of your points. </div> </div>\r\n                    </div></div>\r\n                <p align="center"><button type="button" class="btn btn-danger btn-cons" id="final-redemption"></button></p>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n            <div id ="redemption_notinitaited" class ="hidden">\r\n            <div class="ref_msg alert alert-success m-t-10">\r\n            <button data-dismiss="alert" class="close"></button>\r\n            <h3 class="semi-bold">Redemption Not Initiated.</h3>\r\n            <h4>User has to first inititate redemption on Step 1 </h4>\r\n            </div>\r\n            </div>\r\n'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/shipping/shippingView",["app","text!apps/customer/shipping/templates/shipping.html"],function(e,t){return e.module("Shipping.Views",function(e,n){var r,i,s,o,u;return o="",u="",s="",i="",r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template='<div class="tiles-body"> <div class="row"> <div class="col-md-6"> <h4 class="semi-bold">You have chosen:</h4> <p class="semi-bold" id="option">{{option}}</p> <ol id=productlist> {{#product_details}} <li>{{product_name}}</li> {{/product_details}} </ol> <div class="clearfix"></div> </div> <div class="col-md-6"> <h4 class="semi-bold">Your details as in our system:</h4> <div class="m-t-10"> <div class="pull-left semi-bold"> Name :&nbsp; </div> <div class="pull-left"> {{display_name}} </div> <div class="clearfix"></div> </div> <div class="m-t-10"> <div class="pull-left semi-bold"> Email :&nbsp; </div> <div class="pull-left">{{user_email}} </div> <div class="clearfix"></div> </div> <div class="m-t-10"> <div class="pull-left semi-bold"> Phone :&nbsp; </div> <div class="pull-left">{{phone}} </div> </div> <br> </div> </div> </div>',t}(Marionette.ItemView),e.Options=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="padding-20",n.prototype.initialize=function(){return o=Marionette.getOption(this,"option"),u=Marionette.getOption(this,"ID")},n.prototype.itemView=r,n.prototype.itemViewContainer="div#shippingrow",n.prototype.events={"click #final-redemption":function(){return this.$el.find(".pace-inactive").show(),this.$el.find(".ref_msg").remove(),this.$el.find("#final-redemption").attr("disabled",!0),this.trigger("save:final:redemption",o)},"click #final_confirm_button":function(){return this.$el.find(".ref_msg").remove(),this.$el.find("#datepicker").val()!==""||this.$el.find("#address").val()!==""?(this.$el.find(".pace-inactive").show(),this.$el.find("#final_confirm_button").attr("disabled",!0),this.trigger("save:final:details",o,this.$el.find("#datepicker").val(),this.$el.find("#timepicker").val(),this.$el.find("#address").val())):this.$el.find("#address").val()===""&&$("#rad2").is(":checked")?this.$el.find("#rewards_msg").before('<div class="ref_msg alert alert-error"><button data-dismiss="alert" class="close"></button>Please enter Address</div>'):this.$el.find("#rewards_msg").before('<div class="ref_msg alert alert-error"><button data-dismiss="alert" class="close"></button>Please select date and Time</div>')},"click .radio_delivery":function(e){return this.$el.find(".ref_msg").remove(),$("#"+e.target.id).val()==="1"?(this.$el.find("#time_details").removeClass("hidden"),this.$el.find("#address_details").addClass("hidden"),this.$el.find("#rad1").parent(".inline").addClass("selected"),this.$el.find("#rad2").parent(".inline").removeClass("selected"),this.$el.find("#ini_msg").text("You will need to collect your reward from our office. From the date and time picker below, please select a convenient option and confirm below. (You can select a date 1-3 months from the date of your reward request was approved)."),this.$el.find("#final-redemption").text("Confirm")):(this.$el.find("#address_details").removeClass("hidden"),this.$el.find("#time_details").addClass("hidden"),this.$el.find("#rad2").parent(".inline").addClass("selected"),this.$el.find("#rad1").parent(".inline").removeClass("selected"),this.$el.find("#ini_msg").text(" The reward will be shipped to you. Please enter your complete address below and confirm."),this.$el.find("#final-redemption").text("Confirm"))}},n.prototype.onShow=function(){return this.trigger("show:final:view",u,o)},n.prototype.onFinalRedemptionView=function(e){var t,n,r,u,a,f,l,c,h,p,d,v,m;l=this,l.$el.find("#pointer_val_field").val(e.points),l.$el.find("#sum_points").text(e.points),s=e.option,console.log(e.status);if(e.status===""||e.status===null||e.status==="Redemption Not initiated")h="Redemption Not Initiated",d="Select a reward package to initiate redemption of points.",l.$el.find("#ini_msg").text("You can initiate redemption of points below. Once you initiate, all your points will lapse. (Partial redemption of points is not allowed). Also, once initiated, you will not be able to change your reward package option."),l.$el.find("#final-redemption").text("Initiate");e.status==="Initiated"&&(h="Redemption initiated. Waiting for Approval",d="The Rewards Manager needs to approve your reward request. Please wait for an email.",l.$el.find("#ini_msg").text("You have initiated redemption of points. The reward request will be approved by the Rewards Manager and you will be notified through an email."),l.$el.find("#final-redemption").hide()),e.status==="Approved"&&(h="Reward Request Approved",d="To collect your reward from our office, confirm a convenient date and time."),e.status==="Confirmed"&&(h="Confirmed",d="Do remember to pick up your reward on the set date and time."),e.status==="closed"&&(h="Closed",d="Redemption process complete and closed."),l.$el.find("#redemption_status").text(h),l.$el.find("#redemption_msg").text(d),$("#lireferrals").removeClass("active"),$("#lishipping").addClass("active"),$("#lirewards").removeClass("active"),i=e.approved_date,p="",l.$el.find("#option").text(e.option_name),c=e.product;if(c!==null)for(a=v=0,m=c.length;v<m;a=++v)u=c[a],p+="<li>"+u+"</li>";return l.$el.find("ol").text(""),l.$el.find("ol").append(p),o===void 0&&s===0&&(console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),l.$el.find("#redemption_notinitaited").removeClass("hidden"),l.$el.find("#initiated").addClass("hidden"),l.$el.find("#initiated_div").addClass("hidden"),l.$el.find("#shippingrow").addClass("hidden"),l.$el.find("#hr1").addClass("hidden"),l.$el.find("#hr2").addClass("hidden"),l.$el.find("#ini_msg").hide(),l.$el.find("#final-redemption").hide(),l.$el.find("#time_details").hide(),l.$el.find("#redemption_initiation_div").hide()),f=e.initiatedby,r=e.date,h=e.status,s===1&&(l.$el.find("#redemption_msg1").text("Redemption was initiated by "+f+" on "+r),l.$el.find("#final-redemption").hide(),l.$el.find("#final_confirm_button").addClass("hidden")),s===2&&(l.$el.find("#final-redemption").hide(),l.$el.find("#final_confirm_button").removeClass("hidden"),l.$el.find("#time_details").removeClass("hidden"),l.$el.find("#rad1").parent(".inline").addClass("selected"),l.$el.find("#rad2").parent(".inline").removeClass("selected"),l.$el.find("#redemption_msg1").text("Redemption was initiated by "+f+" on "+r),l.$el.find("#ini_msg").text("You will need to collect your reward from our office. From the date and time picker below, please select a convenient option and confirm below. (You can select a date 1-3 months from the date of your reward request was approved)."),l.$el.find("#final-redemption").text("Confirm"),parseInt(e.shipping)===1?l.$el.find("#delivery_details").removeClass("hidden"):l.$el.find("#time_details").removeClass("hidden")),s===3&&(l.$el.find("#final-redemption").hide(),l.$el.find("#final_confirm_button").addClass("hidden"),l.$el.find("#redemption_msg1").text("Redemption was initiated by "+f+" on "+r),l.$el.find("#confirmation_div").removeClass("hidden"),l.$el.find("#time_details").hide(),n=e.confirm_date,n!==""?(l.$el.find("#pickdetails").removeClass("hidden"),t=n.split("|"),l.$el.find("#date").text(t[0]),l.$el.find("#time").text(t[1]),l.$el.find("#ini_msg").text("You have confirmed to collect your reward from our office. We look forward to meeting you!"),l.$el.find("#final-redemption").hide()):(l.$el.find("#ship_details").removeClass("hidden"),l.$el.find("#add_value").text(e.address),l.$el.find("#ini_msg").text("Your reward will be shipped to "+e.address+"."),l.$el.find("#final-redemption").hide())),s===4&&(l.$el.find("#final-redemption").hide(),l.$el.find("#final_confirm_button").addClass("hidden"),l.$el.find("#redemption_msg1").text("Redemption was initiated by "+f+" on "+r),l.$el.find("#time_details").hide(),l.$el.find("#ini_msg").text("Redemption process complete and closed."),l.$el.find("#final-redemption").hide()),l.$el.find("#datepicker").datepicker({format:"yyyy-mm-dd ",startDate:i}),$("#timepicker").timepicker({timeFormat:"H:i"})},n.prototype.onNewRedemptionInitiated=function(e){return this.$el.find(".pace-inactive").hide(),this.$el.find("#final-redemption").hide(),this.$el.find("#confirm_msg").removeClass("hidden"),this.$el.find("#redemption_msg").text("Redemption was initiated by "+e.display_name+" on "+e.date)},n.prototype.onFinalRedemptionInitiated=function(e){this.$el.find(".pace-inactive").hide(),this.$el.find("#final_confirm_button").hide(),this.$el.find("#time_details").hide(),this.$el.find("#delivery_details").addClass("hidden"),this.$el.find("#address_details").addClass("hidden"),e.date===""&&(this.$el.find("#ship_details").removeClass("hidden"),this.$el.find("#add_value").text(e.address));if(e.address==="")return this.$el.find("#pickdetails").removeClass("hidden"),this.$el.find("#date").text(e.date),this.$el.find("#time").text(e.time)},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/customer/shipping/shippingController",["app","controllers/region-controller","apps/customer/shipping/shippingView"],function(e,t){return e.module("Shipping",function(e,n){var r;return r=function(t){function r(){return this._memberdetails=__bind(this._memberdetails,this),this.finalRedempt=__bind(this.finalRedempt,this),this.showRedempt=__bind(this.showRedempt,this),this._finalDetails=__bind(this._finalDetails,this),this._finalRedemption=__bind(this._finalRedemption,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(e){var t;return this.username=e.username,this.option=e.option,this.userid=e.ID,this.topRegion=e.topRegion,this.shippingdata=n.request("get:shipping:data",e),this.view=t=this._getCustomerShippingView(this.shippingdata,this.option,this.userid),this.listenTo(t,"save:final:redemption",this._finalRedemption),this.listenTo(t,"save:final:details",this._finalDetails),this.listenTo(t,"new:member:info",this._memberdetails),this.listenTo(t,"show:final:view",this._viewdetails),n.execute("when:fetched",[this._viewdetails],function(e){return function(){return e.show(t)}}(this))},r.prototype._getCustomerShippingView=function(t,n,r){return console.log(n),new e.Views.Options({collection:t,option:n,ID:r})},r.prototype._finalRedemption=function(e){var t;return t=this,$.ajax({method:"POST",url:AJAXURL+"?action=final_redemption",data:"option="+e+"&username="+t.username,success:function(e){return t.showRedempt(e)}},{error:function(e){}})},r.prototype._finalDetails=function(e,t,n,r){var i;return i=this,$.ajax({method:"POST",url:AJAXURL+"?action=final_save_details",data:"option="+e+"&username="+i.username+"&date="+t+"&time="+n+"&address="+r,success:function(e){return i.finalRedempt(e)}},{error:function(e){}})},r.prototype._viewdetails=function(e,t){var n;return n=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_shippping_points",data:"username="+e+"&option="+t,success:function(e){return n.viewRedempt(e)},error:function(){return console.log("error")}})},r.prototype.showRedempt=function(e){return this.view.triggerMethod("new:redemption:initiated",e)},r.prototype.finalRedempt=function(e){return this.view.triggerMethod("final:redemption:initiated",e)},r.prototype.viewRedempt=function(e){return this.view.triggerMethod("final:redemption:view",e)},r.prototype._memberdetails=function(e){return n.execute("show:member:info",{region:this.topRegion,ID:this.userid})},r}(t),n.commands.setHandler("show:shipping",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/program-member/templates/program_main.html",[],function(){return'<div id="program-member-region" class="m-b-40"> \r\n        \r\n    </div>\r\n    <!-- END TOP NAVIGATION MENU -->\r\n    <!-- BEGIN CHAT TOGGLER -->\r\n    <div id="referral-region" > </div>\r\n    <div id="info-region" class="m-t-10"></div>'});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/program-member/member_mainapp",["app","controllers/region-controller","apps/program-member/members/member_controller","apps/program-member/referrals/referral_controller","apps/customer/customerHead/customerHeadController","apps/customer/Info/InfoController","apps/customer/rewards/rewardsController","apps/customer/shipping/shippingController","text!apps/program-member/templates/program_main.html"],function(e,t,n,r,i,s,o,u,a){return e.module("MainApp",function(e,n){var r,i;return r=function(e){function t(){return this._getMainView=__bind(this._getMainView,this),this.showViews=__bind(this.showViews,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(e){var t;return this.ID=e.ID,this.userid=e.userid,this.layout=t=this._getMainView(),this.listenTo(t,"show",this.showViews),this.show(t)},t.prototype.showViews=function(){return n.execute("show:member:info",{topRegion:this.layout.topRegion,ID:this.userid}),n.execute("show:customer:head",{region:this.layout.bottomRegion,username:this.ID,subregion:this.layout.secondRegion,topRegion:this.layout.topRegion,ID:this.userid}),n.execute("show:customers",{region:this.layout.secondRegion,username:this.ID,topRegion:this.layout.topRegion,ID:this.userid})},t.prototype._getMainView=function(){return new i},t}(t),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=a,t.prototype.className="",t.prototype.regions={topRegion:"#program-member-region",bottomRegion:"#referral-region",secondRegion:"#info-region"},t}(Marionette.Layout),n.commands.setHandler("show:main:App",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/products/list/templates/productlist.html",[],function(){return'\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n		<div class="panel-group panel-product" id="rowdata" >\r\n			<div class="panel panel-default">\r\n            <div class="panel-heading m-b-10">\r\n        	<h4 class="panel-title">\r\n            <div class="row">\r\n            <div class="col-md-8" >\r\n            <h4 id=""><span class="">Product Name & Description </span></h4>\r\n            </div>\r\n            <div class="col-md-2" >\r\n            <h4 class="" id="" >Price</h4>\r\n            </div>\r\n            <div class="col-md-2" >\r\n            </div>\r\n            </div>\r\n	        </h4>\r\n	    	</div>\r\n			</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/products/list/listview",["app","text!apps/products/list/templates/productlist.html"],function(e,t){return e.module("List.Views",function(e,n){var r,i;return i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="div",t.prototype.template='<div id="showdiv" class="panel panel-default" > <div class="panel-heading"> <div class="panel-title"> <a class="collapsed" id="collapsediv{{ID}}" data-toggle="collapse" data-parent="#accordion" href="#collapseOne{{ID}}"> <div class="row"> <div class="col-md-1"> <img src="{{product_image}}" id="header_img{{ID}}" class="img-responsive" width="60px"> </div> <div class="col-md-7" > <h4 class="text_wrap" ><span class="semi-bold" id="header_name{{ID}}">{{product_name}}  </span> - <span  id="header_desc{{ID}}">{{product_details}}</span></h4> </div> <div class="col-md-2" > <h4 class="bold" id="header_price{{ID}}" ><i class="font18 fa fa-rupee"></i>{{product_price}}</h4> </div> <div class="col-md-2" > <div class="plus_img"></div> </div> </div> </a> </div> </div> <div id="collapseOne{{ID}}" class="panel-collapse collapse "> <div class="panel-body"> <form id="edit-new-form{{ID}}" enctype="multipart/form-data" method="POST"> <div class="row form-row simple"> <div class="col-md-4"> <div class="thumbnail upload-img"> <i class="p-l-10 fa fa-cloud-upload fa fa-6x custom-icon-space"> </i> <div class="caption"> <img class="uploaded-image" src="{{product_image}}"/> <div class="row"> <div class="col-md-12"> <button type="button" class="btn btn-primary btn-cons m-t-20" id="{{uniqueID}}"> Choose Image </button> </div></div> <div class="row"> <div class="col-md-12"> <div id="progress-{{uniqueID}}" style="width: 100%; display: none;" class="progress progress-striped active m-t-10 m-b-10"> <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="progress-bar"></div> <span class="sr-only">0% Complete </span> </div> <input type="hidden" name="attachmentid" value="{{product_thumbnail_id}}"/> </div></div></div> </div> </div> <div class="col-md-8"> <input type="hidden" name="prod_id" id="prod_id" value="{{ID}}" /> <input type="text" placeholder="Product Name" class="form-control" id="product_name" value="{{product_name}}" name="product_name"> <div class="row form-row"> <div class="col-md-12"> <textarea rows="5" class="form-control" id="product_details" name="product_details" placeholder="Products Details"> {{product_details}} </textarea> </div> </div> <div class="row form-row m-t-5"> <div class="col-md-6"> <input type="text" placeholder="Product Price" class="form-control price" id="product_price" value="{{product_price}}" name="product_price"> </div> </div> </div> </div> <div class="row form-row"> <div class="col-md-12 margin-top-10"> <div class="pull-right"> <button data-toggle="collapse" id="submit-edit-form{{ID}}" class="btn btn-primary btn-cons edit" type="submit"> Save </button> </div> </div> </div> </form> </div> </div> </div>',t.prototype.events={"click .edit":function(e){var t;e.preventDefault(),t=this.$el.find("#prod_id").val(),this.$el.find(".alert").remove();if(this.$el.find("#edit-new-form"+t).valid())return this.$el.find(".alert").remove(),this.$el.find("#submit-edit-form"+t).attr("disabled",!0),this.trigger("update:new:product",t,Backbone.Syphon.serialize(this))},"keydown  .price":function(e){var t,n;n=e.target.value,t=e.keyCode||e.which;if(t>64&&t<91||t>96&&t<123)return!1}},t.prototype.initialize=function(e){return t.__super__.initialize.call(this,e),this.uniqueID="choose-file-"+this.model.get("ID")},t.prototype.mixinTemplateHelpers=function(e){return e=t.__super__.mixinTemplateHelpers.call(this,e),e.uniqueID=this.uniqueID,e},t.prototype.onShow=function(){return this.uploader=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",file_data_name:"async-upload",multiple_queues:!0,browse_button:this.uniqueID,multipart:!0,urlstream_upload:!0,max_file_size:"10mb",url:UPLOADURL,flash_swf_url:SITEURL+"/wp-includes/js/plupload/plupload.flash.swf",silverlight_xap_url:SITEURL+"/wp-includes/js/plupload/plupload.silverlight.xap",filters:[{title:"Image files",extensions:"jpg,gif,png"}],multipart_params:{action:"upload-attachment",_wpnonce:_WPNONCE}}),this.uploader.init(),this.uploader.bind("FilesAdded",function(e){return function(t,n){return e.uploader.start(),e.$el.find("#progress-"+e.uniqueID).show()}}(this)),this.uploader.bind("UploadProgress",function(e){return function(t,n){return e.$el.find(".progress-bar").css("width",n.percent+"%")}}(this)),this.uploader.bind("Error",function(e){return function(e,t){return e.refresh()}}(this)),this.uploader.bind("FileUploaded",function(e){return function(t,n,r){return e.$el.find(".progress-bar").css("width","0%"),e.$el.find("#progress-"+e.uniqueID).hide(),r=JSON.parse(r.response),e.$el.find('input[name="attachmentid"]').val(r.data.id),e.$el.find("#progress-"+e.uniqueID).closest(".caption").find(".uploaded-image").attr("src",r.data.sizes.thumbnail.url)}}(this))},t.prototype.onClose=function(){return this.uploader.destroy()},t.prototype.onRender=function(){return this.$el},t}(Marionette.ItemView),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template='<div id="showdiv" class="panel panel-default"> <div class="panel-heading"> <h4 class="panel-title">No Products found</h4> </div> </div>',t}(Marionette.ItemView),e.Product=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="row",n.prototype.itemView=i,n.prototype.emptyView=r,n.prototype.itemViewContainer="div#rowdata",n.prototype.onNewProductEdited=function(e){return this.collection.trigger("reset"),this.$el.find(".alert").remove(),this.$el.find("#showdiv").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Product Updated Successfully. </div>')},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/products/list/listcontroller",["app","controllers/region-controller","apps/products/list/listview"],function(e,t){return e.module("List",function(e,n){var r;return r=function(t){function r(){return this.productEdited=__bind(this.productEdited,this),this._updateProduct=__bind(this._updateProduct,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.productCollection=n.request("get:product:collection"),this.view=e=this._getProductView(this.productCollection),this.listenTo(e,"itemview:update:new:product",this._updateProduct),this.show(e)},r.prototype._getProductView=function(t){return new e.Views.Product({collection:t})},r.prototype._updateProduct=function(e,t,r){var i;return i=n.request("get:user:model",t),i.save(r,{wait:!0,success:this.productEdited})},r.prototype.productEdited=function(e,t){return this.view.triggerMethod("new:product:edited",e)},r}(t),n.commands.setHandler("show:product:list",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/products/Add/templates/addproduct.html",[],function(){return'<div class="page-title"> <!--<i class="icon-custom-left"></i>-->\r\n    <h3><span class="semi-bold">Products</span></h3>\r\n</div>\r\n<div class="pull-right actions m-b-30">\r\n    <button class="btn btn-primary btn-cons" type="button" id="add-new-product">Add Product</button>\r\n</div>\r\n<div class="clearfix"></div>\r\n<div id="showmsg" class="row ">\r\n    <div class="col-md-12">\r\n        <div class="grid simple transparent" id="add-new-div" style="display:none">\r\n            <div class="no-border">\r\n                <h4 class="semi-bold">Add Product Details</h4>\r\n            </div>\r\n            <div class="p-t-10">\r\n                <form id="addnewform" enctype="multipart/form-data" method="POST">\r\n                    <div class="row form-row simple">\r\n                        <div class="col-md-4">\r\n                            <div class="thumbnail upload-img">\r\n                                <i class="p-l-10 fa fa-cloud-upload fa fa-6x custom-icon-space" id="icon-resize"></i>\r\n\r\n                                <div class="caption">\r\n                                    <img class="uploaded-image" src="{{dummyImage}}"/>\r\n\r\n                                     <div class="row">\r\n                                    <div class="col-md-12">\r\n                                        <button type="button" class="btn btn-primary btn-cons edit m-t-20"\r\n                                                id="{{uniqueID}}">\r\n                                            Choose Image\r\n                                        </button>\r\n                                        </div></div>\r\n                                         <div class="row">\r\n                                        <div class="col-md-12">\r\n                                    <div id="progress-{{uniqueID}}" style="width: 100%; display: none;"\r\n                                         class="progress progress-striped active m-b-10 m-t-10">\r\n                                        <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"\r\n                                             class="progress-bar"></div>\r\n                                        <span class="sr-only">0% Complete </span>\r\n                                    <input type="hidden" name="attachmentid"  value="0"/>\r\n                                </div>\r\n                                </div></div>\r\n\r\n\r\n                            </div>\r\n                        </div>   </div>\r\n                        <div class="col-md-8">\r\n                            <input type="text" required placeholder="Product Name" class="form-control"\r\n                                   id="product_name" name="product_name">\r\n\r\n                            <div class="row form-row">\r\n                                <div class="col-md-12">\r\n                                    <textarea rows="5" class="form-control" required id="product_details"\r\n                                              name="product_details" placeholder="Products Details"></textarea>\r\n                                </div>\r\n                            </div>\r\n                            <div class="row form-row m-t-5">\r\n                                <div class="col-md-6">\r\n                                    <input type="text" placeholder="Product Price" required class="form-control price"\r\n                                           id="product_price" name="product_price">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class="row form-row">\r\n                        <div class="col-md-12 margin-top-10">\r\n\r\n                            <div class="pull-right">\r\n                                <button class="btn btn-white btn-cons" id="cancel_product" type="button">Cancel</button>\r\n                                <button class="btn btn-success btn-cons" type="submit" id="submit-new-product">Add\r\n                                </button>\r\n                                <button type="reset" class="hidden">Reset</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/products/Add/addview",["app","text!apps/products/Add/templates/addproduct.html"],function(e,t){return e.module("Add.Views",function(e,n){return e.ProductAdd=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.events={"click #submit-new-product":function(e){e.preventDefault(),this.$el.find(".alert").remove();if(this.$el.find("#addnewform").valid())return this.$el.find(".alert").remove(),this.$el.find("#submit-new-product").attr("disabled",!0),this.trigger("save:new:product",Backbone.Syphon.serialize(this))},"click #add-new-product,#cancel_product":function(){return this.$el.find("#add-new-div").toggle()},"keydown  .price":function(e){var t,n;n=e.target.value,t=e.keyCode||e.which;if(t>64&&t<91||t>96&&t<123)return!1}},n.prototype.initialize=function(){return this.uniqueID=_.uniqueId("choose-file-add")},n.prototype.mixinTemplateHelpers=function(e){return e=n.__super__.mixinTemplateHelpers.call(this),e.uniqueID=this.uniqueID,e.dummyImage=""+SITEURL+"/wp-content/themes/skyi/img/placeholder.jpg",e},n.prototype.onProductAdded=function(){return this.$el.find(".alert").remove(),this.$el.find("#showmsg").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Poduct Added successfully</div>'),this.$el.find("#add-new-div").hide(),this.$el.find("#submit-new-product").removeAttr("disabled",!1),this.$el.find('button[type="reset"]').trigger("click"),this.$el.find("#progress-"+this.uniqueID).closest(".caption").find(".uploaded-image").attr("src",""+SITEURL+"/wp-content/themes/skyi/img/placeholder.jpg"),$("html, body").animate({scrollTop:$(document).height()},"slow")},n.prototype.onShow=function(){return $("#addnewform").validate({rules:{product_price:{number:!0,required:!0}}}),this.uploader=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",file_data_name:"async-upload",multiple_queues:!0,browse_button:this.uniqueID,multipart:!0,urlstream_upload:!0,max_file_size:"10mb",url:UPLOADURL,flash_swf_url:SITEURL+"/wp-includes/js/plupload/plupload.flash.swf",silverlight_xap_url:SITEURL+"/wp-includes/js/plupload/plupload.silverlight.xap",filters:[{title:"Image files",extensions:"jpg,gif,png"}],multipart_params:{action:"upload-attachment",_wpnonce:_WPNONCE}}),this.uploader.init(),this.uploader.bind("FilesAdded",function(e){return function(t,n){return e.uploader.start(),e.$el.find("#progress-"+e.uniqueID).show()}}(this)),this.uploader.bind("UploadProgress",function(e){return function(t,n){return e.$el.find(".progress-bar").css("width",n.percent+"%")}}(this)),this.uploader.bind("Error",function(e){return function(e,t){return e.refresh()}}(this)),this.uploader.bind("FileUploaded",function(e){return function(t,n,r){return e.$el.find(".progress-bar").css("width","0%"),e.$el.find("#progress-"+e.uniqueID).hide(),r=JSON.parse(r.response),e.$el.find('input[name="attachmentid"]').val(r.data.id),e.$el.find("#progress-"+e.uniqueID).closest(".caption").find(".uploaded-image").attr("src",r.data.sizes.thumbnail.url)}}(this))},n.prototype.onClose=function(){return this.uploader.destroy()},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/products/Add/addcontroller",["app","controllers/region-controller","apps/products/Add/addview"],function(e,t){return e.module("Add",function(e,n){var r;return r=function(t){function r(){return this.productAdded=__bind(this.productAdded,this),this._saveProduct=__bind(this._saveProduct,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.view=e=this._getProductAddView(),this.listenTo(e,"save:new:product",this._saveProduct),this.show(e)},r.prototype._getProductAddView=function(){return new e.Views.ProductAdd},r.prototype._saveProduct=function(e){var t;return t=n.request("create:new:product",e),t.save(null,{wait:!0,success:this.productAdded})},r.prototype.productAdded=function(e,t){return n.execute("add:new:product:model",e),this.view.triggerMethod("product:added")},r}(t),n.commands.setHandler("show:product:add",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/products/templates/mainfile.html",[],function(){return'<div id="topregion">\r\n        </div>\r\n      <div id="bottomregion">\r\n        \r\n\r\n      </div>\r\n\r\n  '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__bind=function(e,t){return function(){return e.apply(t,arguments)}};define("apps/products/productapp",["app","controllers/region-controller","apps/products/list/listcontroller","apps/products/Add/addcontroller","text!apps/products/templates/mainfile.html"],function(e,t,n,r,i){return e.module("Products",function(e,n){var r,s,o,u;return o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={products:"list"},t}(Marionette.AppRouter),u={list:function(){return n.execute("show:productapp",{region:n.mainContentRegion})}},e.on("start",function(){return new o({controller:u})}),s=function(e){function t(){return this._getProductsView=__bind(this._getProductsView,this),this.showRegionViews=__bind(this.showRegionViews,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.layout=e=this._getProductsView(),this.listenTo(e,"show",this.showRegionViews),this.show(e)},t.prototype.showRegionViews=function(){return n.execute("show:product:add",{region:this.layout.topRegion}),n.execute("show:product:list",{region:this.layout.bottomRegion})},t.prototype._getProductsView=function(){return new r},t}(t),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=i,t.prototype.regions={topRegion:"#topregion",bottomRegion:"#bottomregion"},t}(Marionette.Layout),n.commands.setHandler("show:productapp",function(e){return e==null&&(e={}),new s(e)})})}),define("text!apps/Import/templates/import.html",[],function(){return'<div class="page-title">\r\n        <h3>Import <span class="semi-bold">Customer Database</span></h3>\r\n      </div>\r\n        <div class="row ">\r\n        <div class="col-md-12 ">\r\n          <div class="m-b-20 tile-more-content padding-10"><h4>Customer database CSV was last imported on:\r\n          <span id="import_date" class="semi-bold text-success">{{date}}</span></h4>\r\n        </div>\r\n        </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="grid">\r\n                <div class=" no-border">\r\n                  <h4>Upload the customer CSV file:</h4>\r\n                </div>\r\n                <div class="grid-body no-border">\r\n                  <div class="row-fluid">\r\n                    <form id="uploadFormdata" action="" class="dropzone no-margin" enctype="multipart/form-data">\r\n                      <div class="fallback">\r\n                        <input name="file" type="file"  />\r\n                      </div>\r\n                      <div class="m-t-20"> \r\n                        <button type="submit" class="btn btn-primary btn-cons edit pull-left" id="submit-csvfile" >Upload</button> \r\n                       <div class="pace pace-inactive pull-left">\r\n                        <div class="pace-activity"></div></div></div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n                          <div class="row">\r\n                    <div class="col-md-8">\r\n                        <div class="grid simple ">\r\n                            <div id="showdiv" class="grid-body no-border" style="display:none" >\r\n                                  <h4 class="m-b-20">CSV successfully uploaded.</h4>\r\n                                    <table class="table no-more-tables  m-b-5">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td  class="v-align-middle"><span class="muted"><h5>Total No. of Records:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="totalrecords" class="muted"><h5>500</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of Duplicates From Last Uploaded CSV:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="duplicaterecords" class="muted"><h5>450</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of New Customers Since Last Uploaded CSV:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="newcustomers" class="muted"><h5>400</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of Referrals Records Found:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="referrlas" class="muted"><h5>350</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                    </div>\r\n                </div>\r\n\r\n        </div>\r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Import/ImportView",["app","text!apps/Import/templates/import.html"],function(e,t){return e.module("Show.Views",function(e,n){return e.Import=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.events={"click #submit-csvfile":function(e){var t;return t=this,this.$el.find(".pace-inactive").show(),this.trigger("save:csv:file")}},n.prototype.onDataResponseCsv=function(e){return this.$el.find(".pace-inactive").hide(),this.$el.find("#showdiv").show(),this.$el.find("#totalrecords").text(e[0]),this.$el.find("#duplicaterecords").text(e[1]),this.$el.find("#newcustomers").text(e[2]),this.$el.find("#referrlas").text(e[3]),this.$el.find("#import_date").text(e[4])},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Import/ImportController",["app","controllers/region-controller","apps/Import/ImportView"],function(e,t){return e.module("Show",function(e,n){var r;return r=function(t){function n(){return this._uploadCSV=__bind(this._uploadCSV,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(){var e;return this.view=e=this._getImportView(),this.listenTo(e,"save:csv:file",this._uploadCSV),this.show(e)},n.prototype._getImportView=function(t){return new e.Views.Import({templateHelpers:{date:DATE}})},n.prototype._uploadCSV=function(e){var t;return t=this,$("#uploadFormdata").ajaxForm({method:"POST",url:AJAXURL+"?action=upload_CSV",success:function(e){return t.showResponse(e)}},{error:function(e){}})},n.prototype.showResponse=function(e){return this.view.triggerMethod("data:response:csv",e)},n}(t),n.commands.setHandler("show:importapp",function(e){return e==null&&(e={}),new r(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Import/Importapp",["app","controllers/region-controller","apps/Import/ImportController"],function(e,t,n){return e.module("Import",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={Import:"list"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:importapp",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/Redemption/templates/redemption.html",[],function(){return'\r\n              \r\n               <div class="page-title">\r\n                \r\n                  <h3>Redemption <span class="semi-bold">Timeline</span></h3>\r\n               </div>\r\n               <div class="row">\r\n                  <div class="col-md-9">\r\n                     <div class="grid simple ">\r\n                        <div class="grid-body referral-table">\r\n                              <table id="redemption_table" class="table no-more-tables">\r\n                               <thead>\r\n                                   <tr>\r\n                                       <th class="width25">Name.</th>\r\n                                       <th class="width25">Email</th>\r\n                                       <th class="width25">Status</th>\r\n                                       <th class="width25">Date</th>\r\n                                   </tr>\r\n                               </thead>\r\n                               <tbody>\r\n                                 \r\n                              \r\n                             \r\n                              </tbody>\r\n                           </table>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n				 \r\n				 <!-- <div class="col-md-3 ">\r\n					<h3>  Redemption Not Initiated</h3>\r\n						<button type="button" class="btn  btn-success">  <span class="bold">Initiate Redemption</span></button>\r\n					<br><br><div class="grid simple m-t-10 ">\r\n                        <div class="grid-body">\r\n						  <h3 >Total points:</h3>\r\n						  <h1 class="semi-bold">1200</h1>\r\n						</div>\r\n					</div>\r\n				\r\n				  </div>-->\r\n               </div>\r\n               \r\n      \r\n    '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Redemption/redemptionView",["app","text!apps/Redemption/templates/redemption.html"],function(e,t){return e.module("AddRedemption.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template='<td class="v-align-middle width25"><div class="table_mob_hidden">Name</div>{{display_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Email</div>{{user_email}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Status</div>{{status}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Date</div>{{date}}</td>',t}(Marionette.ItemView),e.ListRedemption=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.itemView=r,n.prototype.itemViewContainer="table#redemption_table tbody",n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Redemption/redemptionController",["app","controllers/region-controller","apps/Redemption/redemptionView"],function(e,t){return e.module("AddRedemption",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.redemptionCollection=n.request("get:redemption:collection"),this.view=e=this._getRedemptionRewardsView(this.redemptionCollection),this.show(e)},r.prototype._getRedemptionRewardsView=function(t){return new e.Views.ListRedemption({collection:t})},r}(t),n.commands.setHandler("show:redemption",function(e){return e==null&&(e={}),new r})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Redemption/redemptionapp",["app","controllers/region-controller","apps/Redemption/redemptionController"],function(e,t,n){return e.module("List",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={redemptions:"redemption"},t}(Marionette.AppRouter),r={redemption:function(){return t.execute("show:redemption",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/referrallist/templates/referral.html",[],function(){return'\r\n\r\n		<div class="page-title">		\r\n	\r\n		<h3>Referrals</h3>	\r\n	</div>\r\n\r\n   <div class="row date_msg">\r\n        <div class="col-md-12">\r\n    <div class="panel-group panel-product" >\r\n      <div class="program_filter panel panel-default">\r\n      <div class="panel-heading">\r\n        <h4 class="panel-title">\r\n        <a id="hideshow" class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">\r\n               <span class="semi-bold">Click to filter your search</span>\r\n               <div class="plus_img pull-right"></div>\r\n        </a>\r\n        \r\n        </h4>\r\n      </div>\r\n      <div id="collapseOne" class="panel-heading panel-collapse collapse">\r\n        <div class="panel-body">\r\n                <form id="referral_form">\r\n                       <div class="row">\r\n                        <div class="col-md-4">\r\n                          <div class="grid simple">\r\n              <div class="grid-title ">\r\n                <h4>Date (Referral Added On)</h4>\r\n              </div>\r\n              <div class="grid-body ">\r\n					<div class="row">\r\n					<div class="col-md-6">\r\n                   <label>From Date</label>\r\n                  <div class="input-append success date col-md-12 col-lg-8 no-padding">\r\n                    <input type="text" id="from_date"  name="from_date" class="form-control">\r\n                    <span class="add-on"><span class="arrow"></span><i class="fa fa-th"></i></span> \r\n                  </div>\r\n				  </div>\r\n          <div class="col-md-6">\r\n                   <label>To Date</label>\r\n                  <div class="input-append success date col-md-12 col-lg-8 no-padding">\r\n                    <input type="text" id="to_date" name="to_date" class="form-control">\r\n                    <span class="add-on"><span class="arrow"></span><i class="fa fa-th"></i></span> \r\n                  </div>\r\n                 <div class="clearfix"></div>\r\n               </div>\r\n              </div>  \r\n                \r\n \r\n                <div class="links m-t-10">\r\n                  <a href="javascript:void(0)" id="date_uncheck" >None</a>\r\n                </div>\r\n \r\n              </div>\r\n              </div>\r\n            </div>\r\n               \r\n            \r\n            \r\n             <div class="col-md-3">\r\n                          <div class="grid simple">\r\n              <div class="grid-title ">\r\n                <h4>Status of Referral </h4>\r\n              </div>\r\n              <div class="grid-body ">\r\n                 <div class="checkbox check-success p-t-10 ">\r\n                    <input id="status1" name="status1" type="checkbox" value="1" >\r\n                     <label for="status1" style="padding-left:25px;">New Referral</label>\r\n                </div>\r\n                <div class="clearfix"></div>\r\n                <div class="checkbox check-success">\r\n                    <input id="status2" name="status2" type="checkbox" value="1" >\r\n                     <label for="status2" style="padding-left:25px;">Converted</label>\r\n                </div>\r\n                \r\n                <br>\r\n              <!-- <div class="links m-t-10">\r\n \r\n                  <a href="javascript:void(0)" id="status_check">Check all</a>\r\n                  <span class="grey_text">|</span>\r\n                  <a href="javascript:void(0)" id="status_uncheck" >None</a>\r\n \r\n                </div>-->\r\n              </div>\r\n              </div>\r\n            </div>\r\n            \r\n              </div>\r\n            </div>\r\n            <div class="clearfix"></div>\r\n            <button type="button" id="submitform" class="btn btn-primary btn-cons m-t-10 pull-right">Submit</button>\r\n			<div class="pace pace-inactive pull-right m-r-5 m-t-10">\r\n			<div class="pace-activity"></div>\r\n			</div>\r\n            <div class="clearfix"></div>\r\n         </div>\r\n              </form>\r\n        </div>\r\n      </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n	      <div class="row-fluid">\r\n        <div class="span12">\r\n          <div class="grid simple ">\r\n\r\n\r\n             \r\n\r\n\r\n\r\n\r\n			<br>\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n		    <button type="button" id="exportcsv" class="btn btn-link   pull-right"><i class="fa fa-download"></i> &nbsp; Export</button>\r\n            <div class="grid-body referral-table">\r\n               <table id="referrallist_table" class="table no-more-tables">\r\n               <thead>\r\n                   <tr>\r\n                       <th class="width25">Name.<span class="arrow"></th>\r\n                       <th class="width25">Date Added on<span class="arrow"></th>\r\n                       <th class="width25">Program Member<span class="arrow"></th>\r\n                       <th class="width25">Status<span class="arrow"></th>\r\n                       <th class="width25">Conversion Date<span class="arrow"></th>\r\n                   </tr>\r\n               </thead>\r\n               <tbody>\r\n                  \r\n                </tbody>\r\n                <tfoot>\r\n    \r\n    <tr>\r\n      <td class="pager" colspan="5">\r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/first.png" class="first"/> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/prev.png" class="prev"/> \r\n        <span class="pagedisplay"></span> <!-- this can be any element, including an input --> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/next.png" class="next"/> \r\n        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/last.png" class="last"/> \r\n        \r\n      </td>\r\n    </tr>\r\n  </tfoot>\r\n              </table>\r\n            </div>\r\n\r\n          </div>\r\n          </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/referrallist/referrallistView",["app","text!apps/referrallist/templates/referral.html"],function(e,t){return e.module("Add.Views",function(e,n){var r;return console.log("test"),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template='<td class="v-align-middle width25"><div class="table_mob_hidden">Name</div>{{display_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Date Added on</div>{{date}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Program Member</div>{{program_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Status</div>{{status}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Conversion Date</div>{{date_import}}</td>',t}(Marionette.ItemView),e.List=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.itemView=r,n.prototype.itemViewContainer="table#referrallist_table tbody",n.prototype.onShow=function(){var e,t,n,r;return e=this.collection.pluck("old"),t=_.first(e),n=this.collection.pluck("current"),console.log(r=_.first(n)),this.$el.find("#referrallist_table").tablesorter({theme:"blue",widthFixed:!0,sortList:[[0,1]],widgets:["zebra","filter"]}).tablesorterPager({container:$(".pager"),size:25}),this.$el.find("#to_date").val()===""&&(this.$el.find("#to_date").val(r),this.$el.find("#to_date").datepicker({format:"yyyy-mm-dd ",startDate:r})),this.$el.find("#from_date").val()===""&&(this.$el.find("#from_date").val(t),this.$el.find("#from_date").datepicker({format:"yyyy-mm-dd ",startDate:t})),this.$el.find("#status1").prop("checked",!0),this.$el.find("#status2").prop("checked",!0),this.$el.find("#from_date").prop("checked",!0),this.$el.find("#to_date").prop("checked",!0)},n.prototype.events=function(){return{"click #status_check":function(e){return this.$el.find("#status1").prop("checked",!0),this.$el.find("#status2").prop("checked",!0)},"click #status_uncheck":function(e){return this.$el.find("#status1").prop("checked",!1),this.$el.find("#status2").prop("checked",!1)},"click #date_uncheck":function(e){return this.$el.find("#from_date").val(""),this.$el.find("#to_date").val("")},"click #submitform":function(e){return e.preventDefault(),$(".ref_msg").remove(),this.$el.find("#to_date").val()<this.$el.find("#from_date").val()?($(".date_msg").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"> <button data-dismiss="alert" class="close"></button>To date cannot be less than From date</div>'),!1):(this.$el.find("#hideshow").addClass("collapsed"),this.$el.find("#collapseOne").removeClass("collapse in"),this.$el.find("#collapseOne").addClass("collapse"),this.trigger("filter:referral:info",Backbone.Syphon.serialize(this)))},"click #exportcsv":function(e){return e.preventDefault(),this.trigger("export:to:csv",Backbone.Syphon.serialize(this))}}},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/referrallist/referrallistController",["app","controllers/region-controller","apps/referrallist/referrallistView"],function(e,t){return e.module("Add",function(e,n){var r;return r=function(t){function r(){return this._exportCSV=__bind(this._exportCSV,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.referrallistCollection=n.request("get:referrallist:collection"),this.view=e=this._getReferrallistCollectionView(this.referrallistCollection),this.listenTo(e,"filter:referral:info",this._filterReferral),this.listenTo(e,"export:to:csv",this._exportCSV),n.execute("when:fetched",[this.referrallistCollection],function(t){return function(){return t.show(e)}}(this))},r.prototype._getReferrallistCollectionView=function(t){return console.log(t),new e.Views.List({collection:t,templateHelpers:{roles:ROLES,AJAXURL:AJAXURL}})},r.prototype._filterReferral=function(e){var t;return t=n.request("filter:referral:model",e),this.referrallistCollection.reset(t),$("#referrallist_table").trigger("update")},r.prototype._exportCSV=function(e){var t;return t=this,window.location.href=AJAXURL+"?action=export_csv&from_date="+e.from_date+"&to_date="+e.to_date+"&status1="+e.status1+"&status2="+e.status2+"&coll="+this.referrallistCollection},r}(t),n.commands.setHandler("show:referralslist",function(e){return e==null&&(e={}),new r})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/referrallist/referrallistapp",["app","controllers/region-controller","apps/referrallist/referrallistController"],function(e,t,n){return e.module("referrallist",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={referrals:"list"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:referralslist",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/Options/List/templates/optionList.html",[],function(){return'	<div class="row">\r\n        <div class="col-md-12">\r\n		<div class="panel-group panel-product" id="rowdata" >\r\n		  \r\n		  	<div class="panel panel-default">\r\n            <div class="panel-heading m-b-10">\r\n        	<h4 class="panel-title">\r\n            <div class="row">\r\n            <div class="col-md-7" >\r\n            <h4 id=""><span class="">Package Name & Description </span></h4>\r\n            </div>\r\n            <div class="col-md-3" >\r\n            <h4 class="" id="" >Points</h4>\r\n            </div>\r\n            <div class="col-md-2" >\r\n            </div>\r\n            </div>\r\n	        </h4>\r\n	    	</div>\r\n			</div>\r\n\r\n		</div>\r\n\r\n        </div>\r\n\r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Options/List/listView",["app","text!apps/Options/List/templates/optionList.html"],function(e,t){return e.module("OptionList.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="div",t.prototype.className="panel panel-default",t.prototype.template='<div class="panel-heading m-b-10" > <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse"  href="#collapseOne{{ID}}"> <div class="row"> <div class="col-md-7"> <h4 class="text_wrap" id="header_name{{ID}}"><span class="semi-bold">{{option_name}} - </span> {{option_desc}}</h4> </div> <div class="col-md-3"> <h4 class="" ><label class="pull-left" id="min{{ID}}">{{min_opt}}&nbsp;</label></h4> </div> <div class="col-md-2"> <div class="plus_img"></div> </div> </div> </a> </h4> </div> <div id="collapseOne{{ID}}" class="panel-collapse collapse"> <div class="panel-body"> <form class="" id="edit-option-form{{ID}}"> <div class="row form-row simple"> <div class="col-md-8"> <input type="text" placeholder="Title" required class="form-control" id="option_name" name="option_name" value="{{option_name}}"> <div class="row form-row"> <div class="col-md-12"> <textarea rows="5" class="form-control" id="option_desc" required name="option_desc"  placeholder="Description">{{option_desc}}</textarea> </div> </div> <div class="row form-row m-t-5"> <div class="col-md-6"> <div class="row "> <div class="col-md-2"> <h5 class="semi-bold">Points:  </h5> </div> <div class="col-md-10"> <input type="text" placeholder="Minimum Points required" required class="form-control price" id="min_opt" name="min_opt" value="{{min_opt}}"> </div></div> </div> <div class="col-md-6"> <div class="row "> <div class="col-md-5"> <h5 class="semi-bold">Package Value: </h5> </div> <div class="col-md-7"> <h5 id="" class="semi-bold text-left"><i class="font18 fa fa-rupee"></i></i><span id="price_val{{ID}}">{{sum}}</span></h5> </div></div> </div> </div> <div class="row m-b-10"> <div class="col-md-6"> <div class="row "> <div class="col-md-4"> <h5 class="semi-bold">Price Range: </h5> </div> <div class="col-md-8"> <h5 class="semi-bold text-left"><i class="font18 fa fa-rupee"></i><span id="min_range{{ID}}">{{min_range}}</span> - <i class="font18 fa fa-rupee"></i><span id="max_range{{ID}}">{{max_range}}</span></h5> </div></div> </div> <div class="col-md-6"></div> </div> <input type="hidden" name="archiveval" id="archiveval" value="0" /> <div class="checkbox check-success "> <input class="archive" id="archive{{ID}}" {{check}} name="archive{{ID}}" type="checkbox" value="0" > <label class="semi-bold" for="archive{{ID}}" style="padding-left:25px;margin-left: 0;"><b>Archive</b></label> </div> <div id="desc"></div> </div> <div class="col-md-4"> <div class="thumbnail grid simple"> <div class="grid-title "> <div class="row"> <div class="col-md-7"> <h4>Products </h4> </div> <div class="col-md-5"> <h4>Price </h4> </div></div> </div><input type="hidden" id="price_total{{ID}}" name="price_total{{ID}}" value="{{sum}}" /> <input type="hidden" id="minrange{{ID}}" name="minrange{{ID}}" value="{{min_range}}" /> <input type="hidden" id="maxrange{{ID}}" name="minrange{{ID}}" value="{{max_range}}" /> <div class="grid-body product"> {{#product_details}} <div class="row"> <div class="col-md-7"> <div class="checkbox check-success p-t-5"> <input id="{{opt_id}}{{ID}}" class="checkboxSelect" type="checkbox" {{selected}} value="{{ID}}" > <label for="{{opt_id}}{{ID}}" style="padding-left:25px;"><b>{{product_name}}</b></label> <input type="hidden" id="product_price{{opt_id}}{{ID}}" name="product_price{{opt_id}}{{ID}}" value="{{product_price}}" /> </div> </div> <div class="col-md-5"> <label id="" class="p-l-25"><i class="font18 fa fa-rupee"></i><b>{{product_price}}</b></label> </div> </div> {{/product_details}} </div> </div> </div> </div> <div class="row form-row"> <div class="col-md-12 margin-top-10"> <div class="pull-right"> <input type="hidden" name="opt_id" id="opt_id" value="{{ID}}" /> <input type="hidden" name="count{{ID}}" id="count{{ID}}" value="0" /> <input type="hidden" name="optionstring" id="optionstring" value="" /> <input type="hidden" name="optionstring1" id="optionstring1" value="" /> <button  data-toggle="collapse" class="btn btn-primary btn-cons edit pull-right" id="submit-edit-form{{ID}}"  type="submit" >Save</button> <div class="pace pace-inactive pull-right  m-r-10"> <div class="pace-activity"></div></div></div> </div> </div> </form> </div> </div>',t.prototype.events={"click .edit":function(e){var t;e.preventDefault(),t=this.$el.find("#opt_id").val(),this.$el.find(".alert").remove();if(parseInt(this.$el.find("#min_opt").val())>parseInt(this.$el.find("#max_opt").val()))return this.$el.find("#edit-option-form"+t).before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Min range has to be less than or eaual to Max range</div>'),!1;if(parseInt($("#count"+t).val())===0)return this.$el.find("#edit-option-form"+t).before('<div class="alert alert-successe"> <button data-dismiss="alert" class="close"></button> Select atleast one product range</div>'),!1;if(this.$el.find("#edit-option-form"+t).valid())return this.$el.find(".alert").remove(),this.$el.find(".pace-inactive").show(),this.$el.find("#submit-edit-form"+t).attr("disabled",!0),this.trigger("update:new:option",t,Backbone.Syphon.serialize(this))},"click .checkboxSelect":function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;$(".ref_msg").remove(),h=Array(),c=Array(),m=this.$el.find("#optionstring").val(),g=m.split(",");for(i=y=0,b=g.length;y<b;i=++y)r=g[i],h.push(r);return l=e.target.value,a=this.$el.find("#product_price"+e.target.id).val(),t=this.$el.find("#opt_id").val(),f=this.$el.find("#price_total"+t).val(),u=this.$el.find("#minrange"+t).val(),o=this.$el.find("#maxrange"+t).val(),$("#"+e.target.id).prop("checked")===!0?(f=parseInt(f)+parseInt(a),this.$el.find("#price_total"+t).val(f),n=$("#count"+t).val(),n=parseInt(n)+1,$("#count"+t).val(n),h.push(l),p=h.join(","),this.$el.find("#optionstring").val(p),$("#price_val"+t).text(f)):(f=parseInt(f)-parseInt(a),$("#price_val"+t).text(f),this.$el.find("#price_total"+t).val(f),n=$("#count"+t).val(),n=parseInt(n)-1,$("#count"+t).val(n),s=h.indexOf(l),h.splice(s,1),p=h.join(","),this.$el.find("#optionstring").val(p),c.push(l),d=c.join(","),this.$el.find("#optionstring1").val(d)),f<u?(v=parseInt(u)-parseInt(f),$("#submit-edit-form"+t).addClass("hidden"),$("#edit-option-form"+t).before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value is less than the selected price range by '+v+". Please choose products within the price range.</div>")):f>o?(v=parseInt(f)-parseInt(o),$("#submit-edit-form"+t).addClass("hidden"),$("#edit-option-form"+t).before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value has exceeded the selected price range by '+v+". Please choose products within the price range.</div>")):$("#submit-edit-form"+t).removeClass("hidden")},"keyup .price":function(e){var t,n;return t=this.model.get("ID"),this.$el.find(".alert").remove(),n=e.keyCode||e.which,console.log(n),parseInt(n)===48?($("#edit-option-form"+t).before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Cannot create package with points 0 </div>'),$("#submit-edit-form"+t).addClass("hidden"),!1):(console.log("code"),this.trigger("get:pointslist:range",Backbone.Syphon.serialize(this)))},"click .archive":function(e){return $("#"+e.target.id).prop("checked")===!0?this.$el.find("#archiveval").val("1"):this.$el.find("#archiveval").val("0")},"keydown  .price":function(e){var t,n;n=e.target.value,t=e.keyCode||e.which;if(t>64&&t<91||t>96&&t<123)return!1}},t.prototype.onShow=function(){var e,t,n;return e=this.model.get("ID"),$("#count"+e).val(this.model.get("count")),n=this.model.get("selected_arr"),$("#count"+e).val(n.length),t=this.model.get("prod_array"),this.$el.find("#optionstring").val(t)},t}(Marionette.ItemView),e.ProductList=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.className="row",n.prototype.itemView=r,n.prototype.itemViewContainer="div#rowdata",n.prototype.onNewOptionEdited=function(e){var t;return t=e.get("ID"),this.collection.trigger("reset"),this.$el.find(".alert").remove(),this.$el.find(".pace-inactive").hide(),this.$el.find("#min_range"+t).text(e.get("min_range")),this.$el.find("#max_range"+t).text(e.get("max_range")),this.$el.find("#minrange"+t).val(e.get("min_range")),this.$el.find("#maxrange"+t).val(e.get("max_range")),this.$el.find("#archiveval").val(e.get("archiveval")),this.$el.find("#rowdata").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Package details updated successfully</div>')},n.prototype.onShowRangeList=function(e,t){var n,r;return $(".ref_msg").remove(),this.$el.find("#min_range"+t).text(e.min),this.$el.find("#max_range"+t).text(e.max),this.$el.find("#minrange"+t).val(e.min),this.$el.find("#maxrange"+t).val(e.max),n=this.$el.find("#price_total"+t).val(),parseInt(n)<parseInt(e.min)?(r=parseInt(e.min)-parseInt(n),$("#submit-edit-form"+t).addClass("hidden"),$("#edit-option-form"+t).before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value is less than the selected price range by '+r+". Please choose products within the price range.</div>")):parseInt(n)>parseInt(e.max)?(r=parseInt(n)-parseInt(e.max),$("#submit-edit-form"+t).addClass("hidden"),$("#edit-option-form"+t).before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value has exceeded the selected price range by '+r+". Please choose products within the price range.</div>")):$("#submit-edit-form"+t).removeClass("hidden")},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Options/List/listController",["app","controllers/region-controller","apps/Options/List/listView"],function(e,t){return e.module("OptionList",function(e,n){var r;return r=function(t){function r(){return this.showRangeList=__bind(this.showRangeList,this),this._getRangeList=__bind(this._getRangeList,this),this.optionEdited=__bind(this.optionEdited,this),this._updateOption=__bind(this._updateOption,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.optionCollection=n.request("get:option:collection"),this.view=e=this._getOptionListView(this.optionCollection),this.listenTo(e,"itemview:update:new:option",this._updateOption),this.listenTo(e,"itemview:get:pointslist:range",this._getRangeList),this.show(e)},r.prototype._getOptionListView=function(t){return new e.Views.ProductList({collection:t})},r.prototype._updateOption=function(e,t,r){var i;return i=n.request("get:option:model",t),i.save(r,{wait:!0,success:this.optionEdited})},r.prototype.optionEdited=function(e,t){return this.view.triggerMethod("new:option:edited",e)},r.prototype._getRangeList=function(e,t){var n;return n=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_points_range",data:t,success:function(e){return n.showRangeList(e,t.opt_id)}},{error:function(e){}})},r.prototype.showRangeList=function(e,t){return this.view.triggerMethod("show:range:list",e,t)},r}(t),n.commands.setHandler("show:option:list",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/Options/Add/templates/addOption.html",[],function(){return'<div class="page-title"> \r\n        <h3><span class="semi-bold showpac">Packages</span></h3>\r\n      </div>\r\n          <div class="pull-right actions m-b-30">\r\n          <button class="btn btn-primary btn-cons" type="button" id="add-product-option">Add Package</button>\r\n        </div>\r\n        <div class="clearfix"></div>\r\n	        <div id="" class="row">\r\n        <div class="col-md-12">\r\n          <div class="grid simple transparent" id="add-option-details" style="display:none">\r\n            <div class="no-border">\r\n              <h4 class="semi-bold">Add Package Details</h4>\r\n            </div>\r\n            <div class="p-t-10">\r\n              <form class="" id="add-new-option">\r\n                <div class="row form-row simple">\r\n\r\n                  <div class="col-md-8">\r\n                    <input type="text" placeholder="Title" required class="form-control" id="option_name" name="option_name">\r\n					 <div class="row form-row">\r\n					  <div class="col-md-12">\r\n						<textarea rows="5" class="form-control " id="option_desc" required name="option_desc" placeholder="Description"></textarea>\r\n					  </div>\r\n					</div>\r\n				\r\n					 <div class="row form-row m-t-5">\r\n					  \r\n					  <div class="col-md-6">\r\n\r\n            <div class="row ">\r\n            <div class="col-md-2">\r\n            <h5 class="semi-bold">Points:  </h5>\r\n            </div>\r\n            <div class="col-md-10">\r\n					  <input type="text" placeholder="Minimum Points required"  class="form-control checkrange price" id="min_opt" name="min_opt">\r\n					  </div></div>\r\n            </div>\r\n\r\n            <div class="col-md-6">\r\n             <div class="row ">\r\n            <div class="col-md-5">\r\n            <h5 class="semi-bold">Package Value: </h5>\r\n            </div>\r\n            <div class="col-md-7">\r\n            <h5 id="" class="semi-bold text-left"><i class="font18 fa fa-rupee"></i><span id="price_val"></span></h5>\r\n            </div></div>\r\n            </div>\r\n					\r\n					</div>\r\n\r\n\r\n            <div class="row m-b-10">\r\n            <div class="col-md-6">\r\n             <div class="row ">\r\n            <div class="col-md-4">\r\n            <h5 class="semi-bold">Price Range: </h5>\r\n            </div>\r\n            <div class="col-md-8">\r\n            <h5 class="semi-bold text-left"><i class="font18 fa fa-rupee"></i><span id="min_range">0</span> - <i class="font18 fa fa-rupee"></i><span id="max_range">0</span></h5>\r\n            </div></div>\r\n            </div>\r\n            <div class="col-md-6"></div>\r\n            </div>\r\n                <input type="hidden" name="archiveval" id="archiveval" value="0" />\r\n                <div class="checkbox check-success ">\r\n                    <input id="archive" name="archive" type="checkbox" value="0" >\r\n                     <label class="semi-bold" for="archive" style="padding-left:25px;margin-left: 0;"><b>Archive</b></label>\r\n                </div>\r\n          <div id="desc"></div>\r\n					  \r\n                  </div>\r\n\r\n\r\n                          <div class="col-md-4">\r\n                          <div class="thumbnail grid simple">\r\n              <div class="grid-title ">\r\n                <div class="row">\r\n                <div class="col-md-7">\r\n                <h4>Products </h4>\r\n                </div>\r\n                <div class="col-md-5">\r\n                   <h4>Price </h4>\r\n                </div></div>\r\n              </div>\r\n              <div class="grid-body product" id="product">\r\n                 \r\n                \r\n              </div>\r\n              </div>\r\n            </div>\r\n                </div>\r\n               \r\n                <div class="row form-row">\r\n                  <div class="col-md-12 margin-top-10">\r\n                 \r\n                    <div class="pull-right">\r\n                      <button class="btn btn-white btn-cons" id="cancel_product_option" type="button">Cancel</button>\r\n                      <button class="btn btn-success btn-cons hidden" type="submit" id="submit-new-option">Add</button> \r\n                      <button type="reset" class="hidden">Reset</button>\r\n                      <div class="pace  pace-inactive">\r\n                      <div class="pace-activity"></div></div><input type="hidden" name="optionstring" id="optionstring" value="" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Options/Add/addView",["app","text!apps/Options/Add/templates/addOption.html"],function(e,t){return e.module("AddOption.Views",function(e,n){var r,i,s,o,u;return u=Array(),s=0,i=0,o=0,r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template='<div class="row"> <div class="col-md-7"> <div class="checkbox check-success p-t-5"> <input id="checkbox{{ID}}" class="checkboxSelect" type="checkbox" value="{{ID}}" > <label class="text_wrap" for="checkbox{{ID}}" style="padding-left:25px;"><b>{{product_name}}</b></label></div> </div> <div class="col-md-5"> <label id="" class="p-l-25"><i class="font18 fa fa-rupee"></i><b>{{product_price}}</b></label> </div> </div>',t.prototype.className="",t.prototype.events={"click .checkboxSelect":function(e){var t,n,r,a;return $(".ref_msg").remove(),n=e.target.value,t=this.model.get("product_price"),$("#"+e.target.id).prop("checked")===!0?(o=parseInt(o)+parseInt(t),u.push(n),r=u.join(","),$("#optionstring").val(r),$("#price_val").text(o)):(o=parseInt(o)-parseInt(t),$("#price_val").text(o),u.pop(n)),parseInt(o)<parseInt(s)?(a=parseInt(s)-parseInt(o),$("#submit-new-option").addClass("hidden"),$("#desc").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value is less than the selected price range by '+a+". Please choose products within the price range.</div>")):parseInt(o)>parseInt(i)?(a=parseInt(o)-parseInt(i),$("#submit-new-option").addClass("hidden"),$("#desc").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"><button data-dismiss="alert" class="close"></button>Package value has exceeded the selected price range by '+a+". Please choose products within the price range.</div>")):$("#submit-new-option").removeClass("hidden")}},t}(Marionette.ItemView),e.OptionAdd=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.itemView=r,n.prototype.itemViewContainer="div#product",n.prototype.events={"click #submit-new-option":function(e){e.preventDefault(),this.$el.find(".alert").remove();if(parseInt(this.$el.find("#min_opt").val())>parseInt(this.$el.find("#max_opt").val()))return this.$el.find("#add-new-option").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Min range has to be less than or eaual to Max range</div>'),!1;if(u.length===0)return this.$el.find("#add-new-option").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Select atleast one product range</div>'),!1;if(this.$el.find("#add-new-option").valid())return this.$el.find(".alert").remove(),this.$el.find(".pace-inactive").show(),this.$el.find("#submit-new-option").attr("disabled",!0),this.trigger("save:new:option",Backbone.Syphon.serialize(this))},"click #add-product-option":function(){return this.$el.find("#add-option-details").show()},"click #cancel_product_option":function(){return this.$el.find('button[type="reset"]').trigger("click"),this.$el.find("#add-option-details").hide()},"keyup #min_opt":function(e){var t;return this.$el.find(".alert").remove(),t=e.keyCode||e.which,console.log(t),parseInt(t)===48?(this.$el.find("#add-new-option").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Cannot create package with points 0 </div>'),$("#submit-new-option").addClass("hidden"),!1):$("#min_opt").val()===""?$("#submit-new-option").addClass("hidden"):this.trigger("get:points:range",Backbone.Syphon.serialize(this))},"click #archive":function(e){return $("#archive").prop("checked")===!0?this.$el.find("#archiveval").val("1"):this.$el.find("#archiveval").val("0")},"keydown  .price":function(e){var t,n;n=e.target.value,t=e.keyCode||e.which;if(t>64&&t<91||t>96&&t<123)return!1}},n.prototype.onOptionAdded=function(){return this.$el.find(".alert").remove(),this.$el.find(".pace-inactive").hide(),this.$el.find("#add-option-details").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Package has been added successfully</div>'),this.$el.find("#add-option-details").hide(),this.$el.find("#submit-new-option").removeAttr("disabled",!1),this.$el.find('button[type="reset"]').trigger("click"),s=0,i=0,o=0,this.$el.find("#min_range").text(""),this.$el.find("#max_range").text(""),$("#price_val").text("0"),u=Array(),$("#optionstring").val(""),$("html, body").animate({scrollTop:$(document).height()},"slow")},n.prototype.onShowRange=function(e){var t;return $(".ref_msg").remove(),this.$el.find("#min_range").text(e.min),this.$el.find("#max_range").text(e.max),s=e.min,i=e.max,parseInt(o)<parseInt(s)?(t=parseInt(s)-parseInt(o),$("#submit-new-option").addClass("hidden"),$("#desc").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"> <button data-dismiss="alert" class="close"></button>Package value is less than the selected price range by '+t+". Please choose products within the price range.</div>")):parseInt(o)>parseInt(i)?(t=parseInt(o)-parseInt(i),$("#submit-new-option").addClass("hidden"),$("#desc").before('<div class="ref_msg alert alert-error m-b-5 m-t-20"> <button data-dismiss="alert" class="close"></button>Package value has exceeded the selected price range by '+t+". Please choose products within the price range.</div>")):$("#submit-new-option").removeClass("hidden")},n}(Marionette.CompositeView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Options/Add/addController",["app","controllers/region-controller","apps/Options/Add/addView"],function(e,t){return e.module("AddOption",function(e,n){var r;return r=function(t){function r(){return this.showRange=__bind(this.showRange,this),this._getRange=__bind(this._getRange,this),this.optionAdded=__bind(this.optionAdded,this),r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.optionAddCollection=n.request("get:optionadd:collection"),this.view=e=this._getOptionAddView(this.optionAddCollection),this.listenTo(e,"save:new:option",this._saveOption),this.listenTo(e,"get:points:range",this._getRange),this.show(e)},r.prototype._getOptionAddView=function(t){return new e.Views.OptionAdd({collection:t})},r.prototype._saveOption=function(e){var t;return t=n.request("create:new:option",e),t.save(null,{wait:!0,success:this.optionAdded})},r.prototype.optionAdded=function(e,t){return n.execute("add:new:option:model",e),this.view.triggerMethod("option:added")},r.prototype._getRange=function(e){var t;return t=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_points_range",data:e,success:function(e){return t.showRange(e)}},{error:function(e){}})},r.prototype.showRange=function(e){return this.view.triggerMethod("show:range",e)},r}(t),n.commands.setHandler("show:option:add",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/Options/templates/mainfile.html",[],function(){return'<div id="topregion">\r\n        </div>\r\n      <div id="bottomregion">\r\n        \r\n\r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__bind=function(e,t){return function(){return e.apply(t,arguments)}};define("apps/Options/optionapp",["app","controllers/region-controller","apps/Options/List/listController","apps/Options/Add/addController","text!apps/Options/templates/mainfile.html"],function(e,t,n,r,i){return e.module("Options",function(e,n){var r,s,o,u;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={options:"list"},t}(Marionette.AppRouter),u={list:function(){return n.execute("show:optionapp",{region:n.mainContentRegion})}},e.on("start",function(){return new r({controller:u})}),o=function(e){function t(){return this._getOptionView=__bind(this._getOptionView,this),this.showRegionViews=__bind(this.showRegionViews,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.layout=e=this._getOptionView(),this.listenTo(e,"show",this.showRegionViews),this.show(e)},t.prototype.showRegionViews=function(){return n.execute("show:option:add",{region:this.layout.topRegion}),n.execute("show:option:list",{region:this.layout.bottomRegion})},t.prototype._getOptionView=function(){return new s},t}(t),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=i,t.prototype.regions={topRegion:"#topregion",bottomRegion:"#bottomregion"},t}(Marionette.Layout),n.commands.setHandler("show:optionapp",function(e){return e==null&&(e={}),new o(e)})})}),define("text!apps/settings/templates/settings.html",[],function(){return'<div class="page-title">		\r\n	\r\n		<h3><span class="semi-bold">Settings</span></h3>	\r\n	</div>\r\n	<div id="settingsmsg"></div>\r\n	<form id="SettingsForm">\r\n	<div class="row">\r\n    <div class="col-md-12">\r\n      <div class="grid simple">\r\n\r\n            <div class="grid-body no-border">\r\n			\r\n                           \r\n              <div class="form-group">\r\n              <h4 class="semi-bold m-b-20">Expiry Period</h4>\r\n              	<div class="row">\r\n    			<div class="col-md-6">\r\n              \r\n                <div class="row ">\r\n	            <div class="col-md-2">\r\n	            <h5 class="semi-bold">Months:  </h5>\r\n	            </div>\r\n	            <div class="col-md-10">\r\n			  <input type="text" name="expiry_date" required id="expiry_date"  class="form-control">\r\n			  </div></div>\r\n			  </div>\r\n    			<div class="col-md-6">\r\n			      <div class="grid simple">\r\n			        <div class="no-border">\r\n			        <div class="tiles grey added-margin  m-b-20">\r\n					    <div class="p-l-10 p-r-10 p-b-10 p-t-5">\r\n					    <h4 class="text-black">What is this? </h4>\r\n					    <div class=""> \r\n							<span class="text-black">The validity of points for a Program Member.<br>\r\n							By default, a Program Member\'s points lapse after 6 months. You can change the setting here.<br>\r\n							<i>(Please enter a number. Expiry period is calculated in months)</i></span>\r\n						  </div>\r\n					  </div>			\r\n					</div>\r\n\r\n			        </div>\r\n			        </div>\r\n			        </div></div>\r\n              \r\n              </div>\r\n		\r\n        </div>\r\n      </div>\r\n    </div>		\r\n</div>\r\n\r\n     <div class="row">\r\n    <div class="col-md-12">\r\n      <div class="grid simple">\r\n\r\n            <div class="grid-body no-border">\r\n			\r\n                           \r\n              <div class="form-group">\r\n              <h4 class="semi-bold m-b-20">Reward Price Range</h4>\r\n			    <div class="row">\r\n    			<div class="col-md-6">\r\n					<div class="row form-row m-t-5">\r\n					 \r\n				    <div class="col-md-5">\r\n				    <input type="text" placeholder="Minimum % required" required class="form-control checkrange" id="min_per" name="min_per">\r\n				    </div>\r\n				    <div class="col-md-1">\r\n				    <h5 class="semi-bold">% </h5>\r\n				    </div>\r\n		            <div class="col-md-5">\r\n		            <input type="text" placeholder="Maximum % required" required class="form-control checkrange" id="max_per" name="max_per">\r\n		            </div>\r\n		            <div class="col-md-1">\r\n				   <h5 class="semi-bold">% </h5>\r\n				    </div>\r\n					</div>\r\n				</div>\r\n\r\n    			<div class="col-md-6">\r\n    						      <div class="grid simple">\r\n			        <div class="no-border">\r\n			        <div class="tiles grey added-margin  m-b-20">\r\n					    <div class="p-l-10 p-r-10 p-b-10 p-t-5">\r\n					    <h4 class="text-black">What is this? </h4>\r\n					    <div class=""> \r\n							<span class="text-black">The price range for a reward that a Program Member is eligible for.<br>\r\n							By default, the min. and max. range is 0.05 - 0.07% of the value of the property that the referral has purchased. You can change the setting here.<br>\r\n							<i>(Please enter a number. System calculates the percentage)</i></span>\r\n						  </div>\r\n					  </div>			\r\n					</div>\r\n\r\n			        </div>\r\n			        </div>\r\n    			</div>\r\n\r\n              </div>\r\n              </div>\r\n		\r\n        </div>\r\n      </div>\r\n    </div>		\r\n    </div>\r\n\r\n<div class="row">\r\n<div class="col-md-6"> \r\n<div class="pull-left">\r\n<button type="button" required id="save_settings" class="btn btn-success btn-cons"><i class="icon-ok"></i> Save</button>\r\n<button type="reset" class="hidden">Reset</button>\r\n</div>\r\n</div>\r\n<div class="col-md-6"></div>\r\n</div>\r\n</form>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/settings/settingsView",["app","text!apps/settings/templates/settings.html"],function(e,t){return e.module("SettingsView.Views",function(e,n){return e.List=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.events={"click #save_settings":function(){if(this.$el.find("#SettingsForm").valid())return this.$el.find("#save_settings").attr("disabled",!0),this.trigger("save:expiry:date",Backbone.Syphon.serialize(this))}},n.prototype.onShowExpiryData=function(){return this.$el.find(".alert").remove(),this.$el.find("#save_settings").attr("disabled",!1),this.$el.find("#settingsmsg").before('<div class="alert alert-success"> <button data-dismiss="alert" class="close"></button> Your changes have been saved</div>'),$("html, body").animate({scrollTop:0},"slow")},n.prototype.onShow=function(){var e;return $("#SettingsForm").validate({rules:{expiry_date:{number:!0},min_per:{number:!0},max_per:{number:!0}}}),e=this,$.ajax({method:"POST",url:AJAXURL+"?action=get_date",data:"",success:function(t){return e.$el.find("#expiry_date").val(t.date),e.$el.find("#min_per").val(t.min),e.$el.find("#max_per").val(t.max)}})},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/settings/settingsController",["app","controllers/region-controller","apps/settings/settingsView"],function(e,t){return e.module("SettingsView",function(e,n){var r;return r=function(t){function n(){return this.showData=__bind(this.showData,this),this._saveExpiry=__bind(this._saveExpiry,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(){var e;return this.view=e=this._getSettingsView(),this.listenTo(e,"save:expiry:date",this._saveExpiry),this.show(e)},n.prototype._getSettingsView=function(){return new e.Views.List},n.prototype._saveExpiry=function(e){var t;return t=this,$.ajax({method:"POST",url:AJAXURL+"?action=save_expiry",data:e,success:function(e){return t.showData()}},{error:function(e){}})},n.prototype.showData=function(){return this.view.triggerMethod("show:expiry:data")},n}(t),n.commands.setHandler("show:settings",function(e){return e==null&&(e={}),new r})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/settings/settingsapp",["app","controllers/region-controller","apps/settings/settingsController"],function(e,t,n){return e.module("settings",function(e,t){var n,r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={settings:"view"},t}(Marionette.AppRouter),n={view:function(){return t.execute("show:settings",{region:t.mainContentRegion})}},e.on("start",function(){return new r({controller:n})})})}),define("text!apps/Inventory/Package/templates/inventoryPackage.html",[],function(){return'<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="grid-body referral-table">\r\n            <table id="inventory_table" class="table no-more-tables">\r\n                <thead>\r\n                <tr>\r\n                    <th >Package<span class="arrow"></span></th>\r\n                    <th >Product<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Closed R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Confirmed R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Initiated R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Approved R<span class="arrow"></span></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                </tbody>\r\n                <tfoot>\r\n\r\n                <tr>\r\n                    <td class="pager1" colspan="5">\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/first.png" class="first"/>\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/prev.png" class="prev"/>\r\n                        <span class="pagedisplay"></span> <!-- this can be any element, including an input -->\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/next.png" class="next"/>\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/last.png" class="last"/>\r\n\r\n                    </td>\r\n                </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n\r\n    </div>\r\n</div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Inventory/Package/inventPackageView",["app","text!apps/Inventory/Package/templates/inventoryPackage.html"],function(e,t){return e.module("ListInventoryPackage.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template='<td class="v-align-middle width25"><div class="table_mob_hidden">Package</div>{{option_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">Product</div>{{product_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Closed R</div>{{Closed_Count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Confirmed R</div>{{Confirmed_count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Initiated R</div>{{Initiated_count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Approved R</div>{{Approved_count}}</td>',t}(Marionette.ItemView),e.ShowPackage=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.itemView=r,n.prototype.itemViewContainer="table#inventory_table tbody",n.prototype.onShow=function(){return this.$el.find("#inventory_table").tablesorter({theme:"blue",widthFixed:!0,sortList:[[0,1]],widgets:["zebra","filter"]}).tablesorterPager({container:$(".pager1"),size:25})},n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Inventory/Package/inventPackageController",["app","controllers/region-controller","apps/Inventory/Package/inventPackageView"],function(e,t){return e.module("ListInventoryPackage",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.inventoryPackCollection=n.request("get:inventoryPackage:collection"),this.view=e=this._getInventoryViewPack(this.inventoryPackCollection),n.execute("when:fetched",[this.inventoryPackCollection],function(t){return function(){return t.show(e)}}(this))},r.prototype._getInventoryViewPack=function(t){return new e.Views.ShowPackage({collection:t})},r}(t),n.commands.setHandler("show:inventory:package",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/Inventory/Product/templates/inventProduct.html",[],function(){return'<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="grid-body referral-table">\r\n            <table id="inventoryProduct_table" class="table no-more-tables">\r\n                <thead>\r\n                <tr>\r\n                    <th >Product<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Closed R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Confirmed R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Initiated R<span class="arrow"></span></th>\r\n                    <th class="{sorter: \'digit\'}">No of Approved R<span class="arrow"></span></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                </tbody>\r\n                <tfoot>\r\n\r\n                <tr>\r\n                    <td class="pager" colspan="5">\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/first.png" class="first"/>\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/prev.png" class="prev"/>\r\n                        <span class="pagedisplay"></span> <!-- this can be any element, including an input -->\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/next.png" class="next"/>\r\n                        <img src="http://mottie.github.com/tablesorter/addons/pager/icons/last.png" class="last"/>\r\n\r\n                    </td>\r\n                </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n\r\n    </div>\r\n</div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Inventory/Product/inventoryView",["app","text!apps/Inventory/Product/templates/inventProduct.html"],function(e,t){return e.module("ListInventory.Views",function(e,n){var r;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.tagName="tr",t.prototype.template='<td class="v-align-middle width25"><div class="table_mob_hidden">Product</div>{{product_name}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Closed R</div>{{Closed_Count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Confirmed R</div>{{Confirmed_count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Initiated R</div>{{Initiated_count}}</td> <td class="v-align-middle width25"><div class="table_mob_hidden">No of Approved R</div>{{Approved_count}}</td>',t}(Marionette.ItemView),e.Show=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.itemView=r,n.prototype.itemViewContainer="table#inventoryProduct_table tbody",n.prototype.onShow=function(){return this.$el.find("#inventoryProduct_table").tablesorter({theme:"blue",widthFixed:!0,sortList:[[0,1]],widgets:["zebra","filter"]}).tablesorterPager({container:$(".pager"),size:25})},n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/Inventory/Product/inventoryController",["app","controllers/region-controller","apps/Inventory/Product/inventoryView"],function(e,t){return e.module("ListInventory",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.inventoryCollection=n.request("get:inventory:collection"),this.view=e=this._getInventoryView(this.inventoryCollection),n.execute("when:fetched",[this.inventoryCollection],function(t){return function(){return t.show(e)}}(this))},r.prototype._getInventoryView=function(t){return new e.Views.Show({collection:t})},r}(t),n.commands.setHandler("show:inventory:product",function(e){return e==null&&(e={}),new r(e)})})}),define("text!apps/Inventory/templates/inventory.html",[],function(){return'\r\n\r\n		<div class="page-title">\r\n\r\n		<h3>Inventory Management</h3>\r\n	</div>\r\n	      <div class="row-fluid">\r\n        <div class="span12">\r\n          <div class="grid simple ">\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n			<br>\r\n              <div id="topregion">\r\n              </div>\r\n              <br>\r\n              <br>\r\n              <div id="bottomregion">\r\n              </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__bind=function(e,t){return function(){return e.apply(t,arguments)}};define("apps/Inventory/inventoryapp",["app","controllers/region-controller","apps/Inventory/Package/inventPackageController","apps/Inventory/Product/inventoryController","text!apps/Inventory/templates/inventory.html"],function(e,t,n,r,i){return e.module("inventory",function(e,n){var r,s;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={inventory:"list"},t}(Marionette.AppRouter),s={list:function(){return n.execute("show:inventory:mainapp",{region:n.mainContentRegion})}},e.on("start",function(){var e,o;return new r({controller:s}),e=function(e){function t(){return this._getMainInventoryView=__bind(this._getMainInventoryView,this),this.showInventoryViews=__bind(this.showInventoryViews,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.initialize=function(){var e;return this.layout=e=this._getMainInventoryView(),this.listenTo(e,"show",this.showInventoryViews),this.show(e)},t.prototype.showInventoryViews=function(){return n.execute("show:inventory:product",{region:this.layout.topRegion}),n.execute("show:inventory:package",{region:this.layout.bottomRegion})},t.prototype._getMainInventoryView=function(){return new o},t}(t),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template=i,t.prototype.regions={topRegion:"#topregion",bottomRegion:"#bottomregion"},t}(Marionette.Layout),n.commands.setHandler("show:inventory:mainapp",function(t){return t==null&&(t={}),new e(t)})})})}),define("text!apps/dashboard/templates/dashboard.html",[],function(){return'<div class="page-title">		\r\n		<h3><span class="semi-bold">Rewards </span>Dashboard</h3>	\r\n	</div>\r\n		<!-- Referrals -->\r\n			 <div class="row">\r\n				<div class="col-md-6">\r\n				  <div class="tiles green ">\r\n					  <div class="tiles-body">\r\n						<div class=""><h3 class="text-white semi-bold">Program Members</h3></div>\r\n						<div class="tiles-title pull-left"> <h4 class="text-white">No. of New Program Members Added : &nbsp; </h4></div>\r\n						<div class="heading"><h1 class="semi-bold text-white">  <span class="animate-number program_member " data-animation-duration="100"></span></h1> </div>\r\n\r\n						<div class="tiles-title pull-left m-t-5 m-r-10"> <h4 class="text-white">No. of Program Members Added : &nbsp; </h4></div>\r\n\r\n					<div class="widget-stats m-b-10">\r\n                      <div class="wrapper transparent"> \r\n						<span class="item-title">Yesterday </span> <span class="item-count animate-number semi-bold pgm_yest"  data-animation-duration="10"></span>\r\n					  </div>\r\n                    </div>\r\n                    <div class="widget-stats m-b-10">\r\n                      <div class="">\r\n						<span class="item-title">Last Week </span> <span class="item-count animate-number semi-bold pgm_lastweek"  data-animation-duration="50"></span> \r\n					  </div>\r\n                    </div>\r\n						\r\n						<div class="description"><a href="#view"><i class="icon-custom-right"></i>\r\n						<span class="text-white mini-description ">&nbsp; View All</span></a></div>\r\n					  </div>\r\n					</div>\r\n				</div>\r\n				<div class="col-md-6">\r\n				  <div class="tiles red ">\r\n					  <div class="tiles-body">\r\n						<div class=""><h3 class="text-white semi-bold">Referrals</h3></div>\r\n						<div class="tiles-title pull-left"> <h4 class="text-white">Total No. Of Referrals : &nbsp; </h4></div>\r\n						<div class="heading"><h1 class="semi-bold text-white">  <span class="animate-number ref_count" data-animation-duration="100"></span></h1> </div>\r\n\r\n						<div class="tiles-title pull-left m-t-5 m-r-10"> <h4 class="text-white">No. of New Referrals Added : &nbsp; </h4></div>\r\n\r\n					<div class="widget-stats m-b-10">\r\n                      <div class="wrapper transparent"> \r\n						<span class="item-title">Yesterday </span> <span class="item-count animate-number semi-bold ref_yest"  data-animation-duration="10"></span>\r\n					  </div>\r\n                    </div>\r\n                    <div class="widget-stats m-b-10">\r\n                      <div class="">\r\n						<span class="item-title">Last Week </span> <span class="item-count animate-number semi-bold ref_lastweek"  data-animation-duration="50"></span> \r\n					  </div>\r\n                    </div>\r\n						\r\n						<div class="description"><a href="#referrals"><i class="icon-custom-right"></i>\r\n						<span class="text-white mini-description ">&nbsp; View All</span></a></div>\r\n					  </div>\r\n					</div>\r\n				</div>\r\n			 </div>\r\n			 <br>\r\n			 <!-- End Referrals -->\r\n			 <div class="row">\r\n				<div class="col-md-6">\r\n					<div class="tiles white simple vertical ">\r\n							<div class="tiles-body">\r\n								<div class=""><h3 class="semi-bold">Points</h3></div>\r\n								<h4>Customer database <span class="semi-bold">CSV </span><small> was last imported on : </small> <div class=" Pull-right" id="btn-new-ticket">{{date}}</div></h4>\r\n								<div class="row ">\r\n										<div class="col-md-12 ">\r\n										   <address class="margin-bottom-20 margin-top-10">\r\n												<strong >Points given :</strong><span class="points"></span><br><br>\r\n												<strong>No. of referrals marked as \'Converted\' :</strong> <span class="converted"></span><br><br>\r\n												<strong >No. of Program Members given points :</strong><span class="program"></span><br>\r\n											</address>	\r\n											<button type="button" class="btn btn-primary btn-sm btn-small Pull-right" id="btn-new-ticket" onclick="location.href=\'#Import\'">Import</button>\r\n										</div>\r\n								</div>\r\n							</div>\r\n						</div>\r\n				</div>\r\n				<div class="col-md-6">\r\n				  <div class="tiles white">\r\n					  <div class="tiles-body">\r\n						<div class=""><h3 class="semi-bold">Redemptions</h3></div>\r\n						<div class="tiles-title pull-left"> <h4 class="">No. of Pending Redemptions : &nbsp; </h4></div>\r\n						<div class="heading"><h1 class="semi-bold ">  <span class="animate-number redem_count " data-animation-duration="100"></span></h1> </div>\r\n\r\n						<div class="tiles-title pull-left m-t-5 m-r-10"> <h4 class="">No. of Redemptions Completed till date : &nbsp; </h4></div>\r\n\r\n					<div class="widget-stats m-b-10">\r\n                      <div class="wrapper transparent"> \r\n						<span class="item-title">Completed Yesterday </span> <span class="item-count animate-number semi-bold redem_yesterday"  data-animation-duration="10"></span>\r\n					  </div>\r\n                    </div>\r\n                    <div class="widget-stats m-b-10">\r\n                      <div class="">\r\n						<span class="item-title">Completed Last Week</span> <span class="item-count animate-number semi-bold  redem_lastweek"  data-animation-duration="50"></span> \r\n					  </div>\r\n                    </div>\r\n						\r\n						<div class="description"><a href="#redemptions"><i class="txt_original icon-custom-right"></i>\r\n						<span class="mini-description ">&nbsp; View All</span></a></div>\r\n					  </div>\r\n					</div>\r\n				</div>\r\n\r\n  </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/dashboard/dashboardView",["app","text!apps/dashboard/templates/dashboard.html"],function(e,t){return e.module("dashboard.Views",function(e,n){return e.List=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.onShow=function(){return this.trigger("show:dashboard:info")},n.prototype.onShowAllDashboardInfo=function(e){return this.$el.find(".program_member").text(e.program_count),this.$el.find(".pgm_lastweek").text(e.program_count_last_week),this.$el.find(".pgm_yest").text(e.program_count_previous_day),this.$el.find(".ref_yest").text(e.ref_previous_day_count),this.$el.find(".ref_lastweek").text(e.ref_last_week_count),this.$el.find(".ref_count").text(e.ref_count),this.$el.find(".converted").text(e.conversion_count),this.$el.find(".program").text(e.program_member_count),this.$el.find(".points").text(e.points),this.$el.find(".redem_count").text(e.redem_count),this.$el.find(".redem_lastweek").text(e.redem_last_week),this.$el.find(".redem_yesterday").text(e.redem_yesterday)},n}(Marionette.ItemView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/dashboard/dashboardController",["app","controllers/region-controller","apps/dashboard/dashboardView"],function(e,t){return e.module("dashboard",function(e,n){var r;return r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(){var e;return this.view=e=this._getDashboardView(),this.listenTo(e,"show:dashboard:info",this._showDashboardInfo),this.show(e)},n.prototype._getDashboardView=function(){return new e.Views.List({templateHelpers:{date:DATE}})},n.prototype._showDashboardInfo=function(){var e;return e=this,$.ajax({method:"POST",url:AJAXURL+"?action=show_dashboard",data:"",success:function(t){return e.showAllInfo(t)}},{error:function(e){}})},n.prototype.showAllInfo=function(e){return this.view.triggerMethod("show:All:DashboardInfo",e)},n}(t),n.commands.setHandler("show:dashboard",function(e){return e==null&&(e={}),new r})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/dashboard/dashboardapp",["app","controllers/region-controller","apps/dashboard/dashboardController"],function(e,t,n){return e.module("Dashapp",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={dashboard:"list"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:dashboard",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/ImportReferrals/templates/importRef.html",[],function(){return'<div class="page-title">\r\n        <h3>Import <span class="semi-bold">Referral Database</span></h3>\r\n      </div>\r\n        \r\n\r\n        <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="grid">\r\n                <div class=" no-border">\r\n                  <h4>Upload the referral CSV file:</h4>\r\n                </div>\r\n                <div class="grid-body no-border">\r\n                  <div class="row-fluid">\r\n                    <form id="uploadRefFormdata" action="" class="dropzone no-margin" enctype="multipart/form-data">\r\n                      <div class="fallback">\r\n                        <input name="file" type="file"  />\r\n                      </div>\r\n                      <div class="m-t-20"> \r\n                        <button type="submit" class="btn btn-primary btn-cons edit pull-left" id="submit-csvfile" >Upload</button> \r\n                       <div class="pace pace-inactive pull-left">\r\n                        <div class="pace-activity"></div></div></div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n                          <div class="row">\r\n                    <div class="col-md-8">\r\n                        <div class="grid simple ">\r\n                            <div id="showdiv" class="grid-body no-border" style="display:none" >\r\n                                  <h4 class="m-b-20">CSV successfully uploaded.</h4>\r\n                                   <table class="table no-more-tables  m-b-5">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td  class="v-align-middle"><span class="muted"><h5>Total No. of Records:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="totalrecords" class="muted"><h5>500</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                             <tr>\r\n                                                <td  class="v-align-middle"><span class="muted"><h5>Total No. of Records Added:</h5></span>\r\n                                                </td>\r\n                                                <td><span id="recordsAdded" class="muted"><h5>500</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of Duplicates(Referrals):</h5></span>\r\n                                                </td>\r\n                                                <td><span id="dupli_ref" class="muted"><h5>450</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of Duplicates(Customers):</h5></span>\r\n                                                </td>\r\n                                                <td><span id="dupli_cus" class="muted"><h5>400</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td class="v-align-middle"><span class="muted"><h5>No. of Duplicates(Program Members):</h5></span>\r\n                                                </td>\r\n                                                <td><span id="dupli_pm" class="muted"><h5>350</h5></span>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                    </div>\r\n                </div>\r\n\r\n        </div>\r\n      </div>'});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/ImportReferrals/importreferralview",["app","text!apps/ImportReferrals/templates/importRef.html"],function(e,t){return e.module("ShowRef.Views",function(e,n){return e.ImportRef=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.events={"click #submit-csvfile":function(e){var t;return t=this,this.$el.find(".pace-inactive").show(),this.trigger("save:csv:file")}},n.prototype.onDataResponserefCsv=function(e){return this.$el.find(".pace-inactive").hide(),this.$el.find("#showdiv").show(),this.$el.find("#totalrecords").text(e[0]),this.$el.find("#recordsAdded").text(e[1]),this.$el.find("#dupli_ref").text(e[2]),this.$el.find("#dupli_cus").text(e[3]),this.$el.find("#dupli_pm").text(e[4])},n}(Marionette.ItemView)})});var __bind=function(e,t){return function(){return e.apply(t,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/ImportReferrals/importreferralcontroller",["app","controllers/region-controller","apps/ImportReferrals/importreferralview"],function(e,t){return e.module("ShowRef",function(e,n){var r;return r=function(t){function n(){return this._uploadRefCSV=__bind(this._uploadRefCSV,this),n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.initialize=function(){var e;return this.view=e=this._getImportRefView(),this.listenTo(e,"save:csv:file",this._uploadRefCSV),this.show(e)},n.prototype._getImportRefView=function(){return new e.Views.ImportRef},n.prototype._uploadRefCSV=function(e){var t;return console.log(e),t=this,$("#uploadRefFormdata").ajaxForm({method:"POST",url:AJAXURL+"?action=upload_Ref_CSV",success:function(e){return t.showRefResponse(e)}},{error:function(e){}})},n.prototype.showRefResponse=function(e){return this.view.triggerMethod("data:responseref:csv",e)},n}(t),n.commands.setHandler("show:importreferral:app",function(e){return e==null&&(e={}),new r(e)})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/ImportReferrals/importreferralapp",["app","controllers/region-controller","apps/ImportReferrals/importreferralcontroller"],function(e,t,n){return e.module("ImportRef",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={ImportRef:"list"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:importreferral:app",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("text!apps/pickup/templates/pickup.html",[],function(){return'	\r\n		<div class="page-title">		\r\n		\r\n		<h3>Pick Up <span class="semi-bold">Schedule</span></h3>	\r\n	</div>\r\n	      <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="grid simple ">\r\n           \r\n            <div class="grid-body">\r\n               \r\n			  	    <div class="pick-up-schedule">\r\n                <ul class="pickup">\r\n                  \r\n                  \r\n                </ul>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n	\r\n        </div>\r\n		\r\n      </div>\r\n '});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/pickup/pickupview",["app","text!apps/pickup/templates/pickup.html"],function(e,t){return e.module("ListPickup.Views",function(e,n){var r,i;return r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template='<li class="month"> <h5>{{month}} {{year}}</h5> <ul class="days"> {{#date}} <li class="date"> <div class="date-num"> {{date_array}} </div> <div class="people"> {{#name_array}} <a href="#referrals/{{hash}}/{{user_id}}">{{name}}</a>, {{/name_array}} </div> </li> {{/date}} </ul> </li>',t}(Marionette.ItemView),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.template="No Schedules",t}(Marionette.CompositeView),e.Show=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.template=t,n.prototype.emptyView=i,n.prototype.itemView=r,n.prototype.itemViewContainer="ul.pickup ",n}(Marionette.CompositeView)})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/pickup/pickupcontroller",["app","controllers/region-controller","apps/pickup/pickupview"],function(e,t){return e.module("ListPickup",function(e,n){var r;return r=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,t),r.prototype.initialize=function(){var e;return this.pickupCollection=n.request("get:pickup:collection"),this.view=e=this._getPickUpView(this.pickupCollection),this.show(e)},r.prototype._getPickUpView=function(t){return new e.Views.Show({collection:t})},r}(t),n.commands.setHandler("show:pickup",function(e){return e==null&&(e={}),new r})})});var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define("apps/pickup/pickupapp",["app","controllers/region-controller","apps/pickup/pickupcontroller"],function(e,t,n){return e.module("pickup",function(e,t){var n,r;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.appRoutes={pickup:"list"},t}(Marionette.AppRouter),r={list:function(){return t.execute("show:pickup",{region:t.mainContentRegion})}},e.on("start",function(){return new n({controller:r})})})}),define("appsloader",["apps/header/headerapp","apps/left-nav/leftnavapp","apps/users/usersapp","apps/program-member/program-member-app","apps/program-member/member_mainapp","apps/products/productapp","apps/Import/Importapp","apps/Redemption/redemptionapp","apps/referrallist/referrallistapp","apps/Options/optionapp","apps/settings/settingsapp","apps/Inventory/inventoryapp","apps/dashboard/dashboardapp","apps/ImportReferrals/importreferralapp","apps/pickup/pickupapp"],function(){}),require.config({urlArgs:"ver="+(new Date).getTime(),baseUrl:"../wp-content/themes/Rewards/js/dev/js/",paths:{jquery:"plugins/jquery",underscore:"plugins/underscore",backbone:"plugins/backbone",marionette:"plugins/backbone.marionette",text:"plugins/text",spin:"plugins/spin",jqueryspin:"plugins/jquery.spin",bootstrap:"plugins/bootstrap",mustache:"plugins/Mustache",underscorestring:"plugins/underscorestring",moment:"plugins/moment.min",tablesorter:"plugins/jquery.tablesorter",tablepager:"plugins/jquery.tablesorter.pager",cookie:"plugins/cookie.min",jqueryForm:"plugins/jquery.form.min",plupload:"plugins/plupload.full",datepicker:"plugins/bootstrap-datepicker",timepicker:"plugins/bootstrap-timepicker.min",placeholder:"plugins/jquery.placeholder",backbonesyphon:"plugins/backbone.syphon",jqueryvalidate:"plugins/jquery.validate",additionalmethod:"plugins/additional-methods",formelements:"plugins/form_elements",select2:"plugins/select2.min",pluginloader:"plugins/dashboard-plugin-loader",appsloader:"apps/dashboard-apps-loader",configloader:"configs/dashboard-config-loader",entitiesloader:"entities/dashboard-entities-loader",componentloader:"components/dashboard-component-loader",app:"pages/dashboard-app"},shim:{underscore:{exports:"_"},jquery:["underscore"],jqueryui:["jquery"],backbone:{deps:["jquery","underscore"],exports:"Backbone"},marionette:{deps:["backbone"],exports:"Marionette"},plupload:{deps:["jquery"],exports:"plupload"},jqueryvalidate:["jquery"],underscorestring:["underscore"],backbonesyphon:["backbone"],jqueryspin:["spin","jquery"],bootstrap:["jquery"],cookie:["jquery"],radio:["bootstrap"],checkbox:["bootstrap"],bootstrapselect:["bootstrap"],app:["pluginloader","configloader"],additionalmethod:["jquery","jqueryvalidate"],moment:["jquery"],tablesorter:["jquery"],tablepager:["jquery","tablesorter"],select2:["jquery"],jqueryForm:["jquery"],datepicker:["jquery"],timepicker:["jquery"],formelements:["jquery","select2","datepicker","timepicker"],placeholder:["jquery"],moment:["jquery"]}}),require(["pluginloader","configloader","app","entitiesloader","componentloader","appsloader"],function(e,t,n){return n.start()}),define("pages/dashboard-main",function(){});